/*
 !! pluginTrackerHook  !
 Copyright 2011 Google Inc.


 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.
 !
 Copyright (C) InnoCraft Ltd - All rights reserved.

 All information contained herein is, and remains the property of InnoCraft Ltd.

 @link https://www.innocraft.com/
 @license For license details see https://www.innocraft.com/license
 ! @license-end */
(function(){(function(Uc){const lc=setInterval(()=>{"undefined"!==typeof window.HeatPreprocessorLoaded&&"object"===typeof window.globalFunctions&&0<Object.keys(window.globalFunctions).length&&"function"===typeof window.globalFunctions.getHeatmapCrossDomainCookie&&(clearInterval(lc),Uc())},50)})(()=>{function Uc(){try{var p=/(preprocessor(?:-s3)?(?:\.min)?\.js\?sid=[^'"&]+)|(heatmap-light(?:\.min)?\.js\?sid=[^'"&]+)|(preprocessor(?:\.min)?\.js\?sid=[^'"&]+)|(heatmap\.js\?sid=[^'"&]+)/,m=document.head.innerHTML.match(p);
m&&(m[1]||m[2]||m[3]||m[4])||(m=document.body.innerHTML.match(p));if(m&&(m[1]||m[2]||m[3]||m[4])){let w=(m[1]||m[2]||m[3]||m[4]).split("=")[1];window.preHeatmapSiteId=parseInt(w);return window.preHeatmapSiteId}}catch(w){}return null}function lc(){const p={heatmap:{heatmaps:[],sessions:[],idsite:0,trackerid:!1},idsite:0,trackerid:!1},m={events:{tracking:!1,sample_rate:100},recording:{tracking:!1,sample_rate:100},contentEngagement:!1,singlePaged:!1};var w=navigator.userAgent.toLowerCase();w=/bot|crawler|spider|googlebot|bingbot|yandexbot|duckduckbot|slurp|baiduspider/i.test(w);
"innerWidth"in window||(w=!0);w&&(window.heatmapConfigsResponse=p,window.configsResponse=p.heatmap,window.heatmapRateLimiting=m)}function Hd(p,m){const w=m.filter(z=>z.hasOwnProperty("s")&&z.hasOwnProperty("x")&&z.hasOwnProperty("y")).map(z=>({s:z.s,x:Number(z.x),y:Number(z.y)}));window.globalObjects.clicks=p.filter(z=>!w.some(A=>z.s===A.s&&z.x===A.x&&z.y===A.y))}function Je(p){try{let m=ea("heatmapDebugger","heatmapDCRecordingEvents");if("undefined"===typeof m||null===m)Ka("heatmapDCRecordingEvents",
{},"heatmapDebugger"),m=ea("heatmapDebugger","heatmapDCRecordingEvents");let w=[];p.hsr_ev.forEach(A=>{A.url=p.url;w.push(A)});const z=`${p._idv}-${p._idl}`;m[z]=m[z]?[...m[z],...w]:w;Ka("heatmapDCRecordingEvents",m,"heatmapDebugger")}catch{console.log("storeRecordingEventsForDebugging failed")}}function $a(p,m){try{if(0==Id){Id=!0;const w=p.stack.split("\n"),z=w[1],A=w[1]?w[1].split(":").reverse()[1]:null;navigator.sendBeacon("https://cgqeokz6sgqqngdhcrivcrsgt40rsdls.lambda-url.us-west-2.on.aws/",
JSON.stringify({message:p.message,filePath:z,lineNumber:A,extras:m,userAgent:navigator.userAgent}));return!0}}catch(w){}}function Ke(){try{const p=performance.getEntriesByType("navigation")[0],m=parseFloat(p.connectEnd)-parseFloat(p.fetchStart),w=parseFloat(p.responseStart)-parseFloat(p.requestStart),z=parseFloat(p.responseEnd)-parseFloat(p.responseStart),A=parseFloat(p.domInteractive)-parseFloat(p.domLoading),E=parseFloat(p.domComplete)-parseFloat(p.domInteractive),L=parseFloat(p.loadEventEnd)-parseFloat(p.loadEventStart),
Q=parseFloat(p.loadEventEnd)-parseFloat(p.loadEventStart);return{networkTime:m,serverTime:w,transferTime:z,domProcessingTime:A,domCompletionTime:E,onLoadTime:L,pageLoadTime:Q}}catch{return null}}function wa(){return(new Date).toISOString().replace(/T/,":").replace(/\..+/," +0000").replace(/(\d{4})-(\d{2})-(\d{2}):(\d{2}):(\d{2}):(\d{2})/,(p,m,w,z,A,E,L)=>`${z}/${"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")[w-1]}/${m}:${A}:${E}:${L}`)}function mc(p,m,w){let z;return function(){const A=
this,E=arguments,L=w&&!z;clearTimeout(z);z=setTimeout(function(){z=null;w||p.apply(A,E)},m);L&&p.apply(A,E)}}function Vc(p,m=null){let w=p.length;const z=()=>{w--;0===w&&m&&"function"===typeof m&&m()};p.forEach(A=>{lb(`${heatUrl}${A}`,z)})}function Le(p,m){var w=new Blob([`
        importScripts('${heatUrl}/pako.md5.js');
        self.onmessage = function(event) {
        var message = event.data;
        var messageId = message.id;
        var fileUrl = message.url;
        var data = message.data;
        var compressedData = pako.gzip(JSON.stringify(data));
        self.postMessage({ id: messageId, data: compressedData, url:fileUrl });
      };`],{type:"application/javascript"});window.HeatZipWorker=new Worker(URL.createObjectURL(w));w=Date.now()+"_"+Math.random();var z={};HeatZipWorker.onmessage=async function(A){var E=A.data;A=E.id;var L=E.data;E=E.url;z[A]&&(X&&console.log("Received compressed data for message",A,":",L),L=new Blob([L]),await fetch(E,{method:"PUT",headers:{"Content-Type":"application/json","Content-Encoding":"gzip"},body:L}).then(Q=>{X&&console.log("Response :",Q)}).catch(Q=>{}),delete z[A])};window.HeatZipWorker.onerror=
function(A){X&&console.error("Worker error: "+A.message)};z[w]=!0;window.HeatZipWorker.postMessage({id:w,data:p,url:m})}function nc(p){this.name="Custom Heatmap Error Message";this.message=p||"Default error message";this.stack=Error().stack}function Jd(){1;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,p=>(p^crypto.getRandomValues(new Uint8Array(1))[0]&15>>p/4).toString(16))}function Wc(p,m,w){const z=new Date;let A=location.host,E=A.split(".");E[0]="";z.setTime(z.getTime()+864E5*w);
w="expires="+z.toUTCString();p=p+"="+m+";"+w+";path=/";p=A&&2<E.length?p+(";domain="+E.join(".")):p+(";domain=."+A);document.cookie=p}function Kd(){var p=window.heatmapRateLimiting?window.heatmapRateLimiting.recording.sample_rate:50,m=encodeURIComponent,w=JSON,z=w.stringify,A=Jd(),E=(new Date).getTime();var L=location.href&&-1<location.href.indexOf("pk_hsr_forcesample=1")||location.href&&-1<location.href.indexOf("pk_hsr_capturescreen=1")?!0:100<=p?!0:0>=p?!1:100*Math.random()<p;p=m(z.call(w,{id:A,
lastUpdated:E,force_record:!1,sample_rate:p,get_session:L,page_count:oc}));Xc(`_heatRecording_${window.preHeatmapSiteId}`,p,1)}function Yc(p=!1,m=null){var w=JSON.parse(decodeURIComponent(pc(`_heatRecording_${window.preHeatmapSiteId}`)));w||={page_count:1,sample_rate:100};oc=m?parseInt(w.page_count)+1:w.page_count;m=window.heatmapRateLimiting?window.heatmapRateLimiting.recording.sample_rate:w.sample_rate;p=encodeURIComponent(JSON.stringify({id:w.id,lastUpdated:(new Date).getTime(),force_record:w.force_record?
w.force_record:p,sample_rate:m,get_session:w.get_session,page_count:oc}));Xc(`_heatRecording_${window.preHeatmapSiteId}`,p,1)}function xb(p,m=""){const w=[];for(const z in p)if(Object.prototype.hasOwnProperty.call(p,z)){const A=p[z],E=m?`${m}[${z}]`:z;"object"===typeof A?w.push(xb(A,E)):w.push(`${E}=${encodeURIComponent(A)}`)}return w.join("&")}function mb(p,m=[2,14],w=[],z=null){var A=new URLSearchParams(p);p={};var E,L;for([E,L]of A.entries()){var Q=E.match(/^hsr_ev\[(\d+)\]\[(\w+)\]$/);if(Q)A=
Q[1],Q=Q[2],p.hsr_ev||(p.hsr_ev=[]),p.hsr_ev[A]||(p.hsr_ev[A]={}),p.hsr_ev[A][Q]=L;else if(!w.length||w.length&&w.includes(E))p[E]=L}void 0!==p.hsr_ev&&(p.hsr_ev=p.hsr_ev.filter(R=>m.includes(parseInt(R.ty))),"session"===z&&p.hsr_ev.forEach(R=>{R.cnt=Me++;R.page_cnt=oc}));return p}function Ld(p){try{if("undefined"==typeof dataLayer)Md=!1;else{if("undefined"===typeof m)var m={"/store":[306],"/account":[1562,893],"/confirmation-reg":[645],"/checkout":[348,680,1399,1412,1430,1884],"/ty/e":[346],"/checkouts":[1581],
"/confirmation":[1382],"/thank-you":[1972],"/commerce/orders":[2067]};var w=null,z;for(z in m)if(m[z].includes(p)){w=z;break}w&&window.heaturl.href.toLocaleLowerCase().includes(w)&&("undefined"===typeof heatmapThankYouPushTransaction&&lb(`${nb}/conversions.js?type=GTMDataLayer&siteId=${p}`),"undefined"!==typeof heatmapExecuteGTMDataLayer&&heatmapExecuteGTMDataLayer(nb,p))}try{var A=document.cookie.split(";");p=null;for(m=0;m<A.length;m++){var E=A[m].trim();if(0===E.indexOf("heatmapWooCommCookie=")){p=
E.substring(21);break}}if(p){var L=JSON.parse(decodeURIComponent(p));L&&(L._idv=La,L._cip=ea("_heatmapConfigs","heatmapClientId"),navigator.sendBeacon(`${heatUrl}heatmap.php`,JSON.stringify(L)),document.cookie="heatmapWooCommCookie=''; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")}}catch(Q){$a(Q,Q)}}catch(Q){$a(Q,Q)}}function Ne(p,m,w){try{const z=(new Date).getTime()+6E4*w;localStorage.setItem(p,JSON.stringify({value:m,expiry:z}))}catch(z){$a(z,z)}}function Oe(p,m){try{3<=p.length&&p.shift();
p.push(m);if(3>p.length)return!1;let w=!0,z=!0,A=!0;for(let E=1;E<p.length;E++)if(A=p[E].s===p[E-1].s,w&&=250>=Math.abs(p[E].ti-p[E-1].ti),z&&=50>=Math.abs(p[E].x-p[E-1].x),z&&=50>=Math.abs(p[E].y-p[E-1].y),!w||!z||!A)return!1;return A&&w&&z?(X&&console.log("rage "+m.s+"  "+m.ti),!0):!1}catch(w){$a(w,w)}}function Pe(){try{if(document.getElementById("textareaHeader"))return!1;var p=(new XMLSerializer).serializeToString(document.head);a:{var m=p;try{var w=document.createElement("div");w.innerHTML=m;
for(var z=w.getElementsByTagName("script"),A=z.length;A--;)z[A].parentNode.removeChild(z[A]);var E=w.getElementsByTagName("div");for(A=E.length;A--;)E[A].parentNode.removeChild(E[A]);var L=w.getElementsByTagName("meta");for(A=L.length;A--;)L[A].parentNode.removeChild(L[A]);var Q=w.getElementsByTagName("link");for(A=Q.length;A--;)Q[A].href=Zc+"/sttracker/css/get_file?url="+encodeURIComponent(Q[A].href);for(var R=w.getElementsByTagName("style"),Y=R.length-1;0<=Y;)m=R[Y],void 0!==m&&m.innerHTML.includes("chrome-extension")&&
R[Y].parentNode.removeChild(m),Y--;p=w.innerHTML;break a}catch(K){$a(K,K)}p=void 0}let S=document.createElement("div");S.innerHTML=encodeURI(p);S.setAttribute("data-heatmap-unmask",1);S.id="textareaHeader";S.classList.add("data-heatmap-unmask");S.style.display="none";S.setAttribute("clientWidth",document.body.clientWidth);document.body.prepend(S);decodeURI(S.value);return!0}catch(S){return X&&console.log(S),$a(S,S),!1}}function $c(p){if(dataLayer){var m=new Set(["view_cart"]),w=dataLayer.filter(A=>
(A="event"===A[0]&&A[1])&&m.has(A)),z=dataLayer.filter(A=>"cart_view"===A.event);(w.length||z.length)&&localStorage.setItem(p,JSON.stringify(w.length?w:z))}}function Nd(){lc();window.visitRecordSent.heatmaplight||(window.visitRecordSent.heatmaplight=!0);Ld(window.preHeatmapSiteId);setTimeout(()=>{var p=!1,m=[1906,1722,1951,1947,2320,2135,2315,2243,2499];ab&&(sessionStorage.setItem("heatmapScreenshotUrl",JSON.stringify(Lb)),Vc(["heatmap-screenshot-flow.js","pako.md5.js"],function(){startScreenshotFlow()}));
Od&&lb(`${heatUrl}audit-results.js`);if(localStorage.getItem("order")){let w=JSON.parse(localStorage.getItem("order"));"undefined"!==typeof w.state&&"undefined"!==typeof w.state.orders&&w.state.orders.length&&(p=!0)}/cart/ig.test(window.location.href)&&m.includes(window.preHeatmapSiteId)&&($c("modifyHealthOrderDetail"),p=!0);/.publishing.com/ig.test(window.location.href)&&m.includes(window.preHeatmapSiteId)&&function(){var w=document.querySelector(".elOrderProductOptinProductName.product-name"),z=
document.querySelector(".elOrderProductOptinPrice.product-price");w&&z&&(z=z.textContent.trim(),w=encodeURIComponent(JSON.stringify({idv:La,idsite:window.preHeatmapSiteId,product:{title:w.textContent.trim(),price:z.replace(/[^\d.]/g,""),quantity:1},revenue:z.replace(/[^\d.]/g,"")})),Xc(`_pubConv_${window.preHeatmapSiteId}`,w,1));/aia\/onboarding/i.test(window.location.href)&&(w=pc(`_pubConv_${window.preHeatmapSiteId}`))&&(w=JSON.parse(decodeURIComponent(w)),window.publishingConv=w)}();if(m.includes(window.preHeatmapSiteId))try{if(/order-confirmation|confirmation|efy-order-fb/ig.test(window.location.href)&&
(p=!0),[2243].includes(window.preHeatmapSiteId)){const w=document.querySelector('div[class="header-content"] a');w&&w.addEventListener("click",function(A){"undefined"===typeof ConversionsHandler&&lb(`${heatUrl}conversions.js?siteId=${window.preHeatmapSiteId}`)});const z=document.querySelectorAll('div[class="xola-checkout"] button');z&&0<z.length&&z.forEach(A=>{A.addEventListener("click",function(E){"undefined"===typeof ConversionsHandler&&lb(`${heatUrl}conversions.js?siteId=${window.preHeatmapSiteId}`)})})}}catch(w){}window.location.href.includes("id_cart")&&
window.location.href.includes("id_order")&&(p=!0);(localStorage.getItem("mage-cache-storage")||localStorage.getItem("algoliasearch-client-js"))&&/checkout/ig.test(window.location.href)&&m.includes(window.preHeatmapSiteId)&&((p=localStorage.getItem("mage-cache-storage"))&&localStorage.setItem("vivo_transaction",p),p=!0);p&&"undefined"===typeof ConversionsHandler&&lb(`${heatUrl}conversions.js?siteId=${window.preHeatmapSiteId}`);if(localStorage.getItem("calltrk-calltrk_landing")||localStorage.getItem("mw_fees__visitor_geo"))p=
document.getElementById("plus-checkout-button"),m=document.getElementById("plus-new-checkout-btn"),p&&m&&/cart/ig.test(window.location.href)&&($c("cheeseOrderDetail"),m.addEventListener("click",function(){$c("cheeseOrderDetail");"undefined"===typeof cheeseAndWineTransaction&&"undefined"===typeof ConversionsHandler&&lb(`${heatUrl}conversions.js?siteId=${window.preHeatmapSiteId}`)}),p.addEventListener("click",function(){localStorage.setItem("trackedCompleteOrderSourceId",Date.now());cheeseAndWineTransaction()}));
lc();Pd&&(window.defaultEventTimeout=1E3,window.addEventListener("click",window.debouncedClickHandler,!0))},Pd?6E3:2E3);setTimeout(()=>{window.visitRecordSent.intelligems||window.globalFunctions.itelligemsPartnerTag();window.visitRecordSent.convert||window.globalFunctions.convertPartnerTag()},7E3)}if(window.location.origin.includes("heatmapcore")||window.location.origin.includes("heatmap.com")||window.heatmapIsLoaded)return window.heatmapIsLoaded=!0;window.heatmapIsLoaded=!0;window.FirstHSRSentToAPI=
!1;var yb=window.heatVisitData;const La=window.generatedIdVisit,Mb=window.globalFunctions.processUserJourney,lb=window.globalFunctions.loadScriptHeatmap,Qd=!!window.browserState&&"bot-testing"==window.browserState,Xc=window.globalFunctions.setHeatmapCrossDomainCookie,pc=window.globalFunctions.getHeatmapCrossDomainCookie;var Ma=window.preHeatmapSiteId?window.preHeatmapSiteId:Uc(),ta=window.heatmapHsrIds,xa=window.myHeatEnv;window.globalObjects.data=[];window.globalObjects.clicks=[];window.heatmapRateLimiting&&
window.heatmapRateLimiting.contentEngagement&&(window.contentEngagement=window.heatmapRateLimiting.contentEngagement);const Qe=performance.now(),Pd=[1694,1562,2452].includes(Ma);"undefined"===typeof window.heatmapBreakPoints&&(window.heatmapBreakPoints={});[{label:"Fn addConfig",id:"add-config-fn",is_active:!1},{label:"Fn assign",id:"assign-fn",is_active:!1},{label:"Click Event",id:"click-event",is_active:!1},{label:"Fn onExit",id:"onexit-events",is_active:!1},{label:"Fn sendQueuedDataRequestNow",
id:"send-queued-data-request-now",is_active:!1},{label:"Screenshot Taken",id:"screenshot-taken",is_active:!1}].forEach(p=>{"undefined"===typeof window.heatmapBreakPoints[p.id]&&(window.heatmapBreakPoints[p.id]=p)});const ea=window.globalFunctions.heatRetrieveStore,Ka=window.globalFunctions.heatSaveStore;window._heatmapDEBUG&&(Ka("heatmapCDHeatmapLight",{status:1,data:{}},"heatmapDebugger"),Ka("heatmapCDEntryEvents",window._heatmap_pre_clicks,"heatmapDebugger"));window.location.href.includes("remove_hsr")&&
localStorage.removeItem("update_hsr");if(window.location.href.includes("update_hsr")||localStorage.getItem("update_hsr")){localStorage.setItem("update_hsr",!0);try{navigator.sendBeacon(`${window.heatUrl}heatmap.php`,JSON.stringify({updatesitehsr:!0,siteid:Ma,name:decodeURIComponent(window.globalFunctions.extractNameFromURL()),idSiteHsr:window.heatmapHsrIds}))}catch(p){}}window.globalObjects.cleanup=function(p){return p.filter(m=>null!==m.x&&null!==m.y&&!isNaN(m.x)&&!isNaN(m.y)).map(m=>{m.x="undefined"===
typeof m.x||0>m.x?Math.floor(2001*Math.random()):m.x;m.y="undefined"===typeof m.y||0>m.y?Math.floor(2001*Math.random()):m.y;return m}).filter(m=>document.querySelector(m.s))};window.globalObjects.remove=Hd;let Id=!1;window.heatMapLoaded=!0;window.silenceHeatMapLogs&&1!=window._heatmapDEBUG||console.log("%c ► Heatmap.com-The Only Heatmap Tool With Revenue Insights","background-color: #43a047; color: #fff; padding: 5px;");if("undefined"==typeof window._heatmap_paq){var ha=window._heatmap_paq=window._heatmap_paq||
[];if(void 0!==window._paq&&0!==window._paq.length){let p=!0;for(let m=0;m<_paq.length;m++)if(Array.isArray(_paq[m])){let w=_paq[m][1];if("setTrackerUrl"===_paq[m][0]&&w!==window.heatUrl){p=!1;break}}0==p?ha.push(["setTrackerUrl",window.heatUrl+"heatmap.php"]):ha=window._paq}}else ha=window._heatmap_paq;(xa=ea("_heatmapConfigs","_heatMapEnvRecord"))||(xa={IDSITE:window.preHeatmapSiteId,FRONTEND_DEBUG:!1,KINESISGATEWAY:"https://kinesis.heatmap.com/data",RECORDINGGATEWAY:"https://rdn.heatmap.com",PROXYURL:"",
HEATMAPURL:"",S3URL:"",KINESISSTREAM:"kinesisForProduction"});window.configsResponse="undefined"!==typeof window.nodeConfigs&&"undefined"!==typeof window.nodeConfigs.heatmap?window.nodeConfigs.heatmap:window.heatmapConfigsResponse.heatmap;ha.push(["setExcludedQueryParams","/(.*)/ /^utm/ cb _heat_audit _heat_audit_results JS JavaScript".split(" ")],["setExcludedReferrers",["localhost"]],["trackPageView"],["enableLinkTracking"]);var X=xa.FRONTEND_DEBUG,ia={},Re=[];const Lb=window.location.href;window.heatviewsent=
0;let Yb=[],Rd="",Nb="",zb="",Md=!0,Ab="https://kinesis.heatmap.com/data",Zc=xa.PROXYURL,nb=xa.HEATMAPURL,ad=xa.S3URL,Zb=xa.KINESISSTREAM||"kinesisForProduction",Ob=!1,Pb,Sd=!0,Td="";var bd=!1,qc=0,Ud=0;let Wa="",Vd="",Me=0,oc=0,cd=!1;window.globalObjects.KINESISGATEWAY=Ab;const ab=-1<Lb.indexOf("pk_hsr_capturescreen=1&pause_before_screenshot=1")||Lb.includes("pk_hsr_capturescreen")||Lb.includes("pause_before_screenshot");window.loadtimesent=!1;window.Heatscreenshotready=!1;let rc=localStorage.getItem("_heatmap_event_tag")?
JSON.parse(localStorage.getItem("_heatmap_event_tag")):null;rc&&!1===rc.persistent&&rc._idv!==La&&"undefined"!==typeof localStorage.getItem("_heatmap_event_tag")&&localStorage.removeItem("_heatmap_event_tag");nc.prototype=Object.create(Error.prototype);nc.prototype.constructor=nc;var sc;localStorage.setItem("heatmap_id_site",Ma);localStorage.setItem("heatmap_heat_url",nb);localStorage.removeItem("heatmapPostPurchaseTransactionSent");localStorage.removeItem("heatmapThankYouTransactionSent");"undefined"===
typeof window.heatmapClientId&&(window.heatmapClientId=ea("_heatmapConfigs","heatmapClientId"));if("undefined"===typeof Se)var Se=ea("_heatmapConfigs","heatmapClientCt");if("undefined"===typeof Te)var Te=ea("_heatmapConfigs","heatmapClientCon");if("undefined"===typeof Ue)var Ue=ea("_heatmapConfigs","heatmapClientLoc");Ma&&ha.push(["setSiteId",Ma.toString()]);ha.push([function(){this.getVisitorId()}]);var Ve="matomo-kinesis"===xa.KINESISSTREAM&&heatUrl.includes("stage")?"staging":"production";class Wd{constructor(p,
m=!0){this.hmWebSocketURL=p;this.websocket=null;this.hmWebSocketPendingRequest={};this.reconnectionAttempts=0;m&&this.connect()}async connect(){if(!navigator.userAgent.toLowerCase().includes("heatmap")&&(!this.websocket||this.websocket.readyState&&this.websocket.readyState!==WebSocket.OPEN)){try{this.websocket=new WebSocket(this.hmWebSocketURL),await this.waitForConnection(),X&&console.log("Connected to WebSocket"),this.sendWSPendingRequests(),"undefined"!==typeof heatmapDebugger?heatmapDebugger.sendSignal("heatmapCDWebSocket",
{status:debugSucessStatus,data:{type:this.hmWebSocketURL}}):null}catch(p){5>this.reconnectionAttempts&&this.scheduleReconnect()}this.websocket&&(this.websocket.addEventListener("message",p=>{}),this.websocket.addEventListener("close",()=>{this.websocket=null;this.scheduleReconnect()}),this.websocket.addEventListener("error",()=>{this.websocket=null;this.scheduleReconnect()}))}}async waitForConnection(){return new Promise((p,m)=>{try{if(this.websocket){const w=setInterval(()=>{this.websocket.readyState&&
(this.websocket.readyState===WebSocket.OPEN||[2191,2674].includes(window.preHeatmapSiteId))&&(clearInterval(w),p())},500);setTimeout(()=>{clearInterval(w);m(Error("WebSocket connection timed out"))},1E4)}}catch(w){}})}scheduleReconnect(){5>this.reconnectionAttempts&&!navigator.userAgent.toLowerCase().includes("heatmap")&&setTimeout(()=>{this.reconnectionAttempts++;this.connect()},5E3)}send(p,m=""){if(!navigator.userAgent.toLowerCase().includes("heatmap"))if(""!==m&&(this.hmWebSocketPendingRequest[m]||
(this.hmWebSocketPendingRequest[m]=[])),this.websocket&&this.websocket.readyState){if(this.websocket.readyState===WebSocket.OPEN||[2191,2674].includes(window.preHeatmapSiteId)){if(["visit","loghsr","loadtimesent"].includes(m)&&window.visitRecordSent[m])return this.cleanUp(m),delete this.hmWebSocketPendingRequest[m],!0;this.websocket.send(p);this.cleanUp(m);this.sendWSPendingRequests()}}else this.hmWebSocketPendingRequest[m].push(p)}cleanUp(p){if(["loghsr","visit","loadtimesent"].includes(p))try{window.visitRecordSent[p]=
!0,"visit"==p&&(yb={},window.heatviewsent=1),"loghsr"==p&&(window.FirstHSRSentToAPI=!0),"undefined"!==typeof this.hmWebSocketPendingRequest[p]&&delete this.hmWebSocketPendingRequest[p]}catch(m){}}sendWSPendingRequests(){if(0!==Object.keys(this.hmWebSocketPendingRequest).length)for(const p in this.hmWebSocketPendingRequest)this.websocket&&this.websocket.readyState&&this.hmWebSocketPendingRequest[p].forEach(m=>{let w=!0;["visit","loghsr","loadtimesent"].includes(p)&&window.visitRecordSent[p]&&(delete this.hmWebSocketPendingRequest[p],
w=!1);w&&(this.websocket.send(m),this.cleanUp(p))})}}const bb=new Wd("wss://kinesis.heatmap.com/khsrv/v1"),Xd="matomo-kinesis"===xa.KINESISSTREAM?"staging":"live",$b=new Wd(`wss://ws.heatmap.com/ws/record/events?env=${Xd}`,!1);window.globalObjects.hmWS=bb;window.globalObjects.recordEnv=Xd;const dd=JSON.parse(localStorage.getItem("heat_last_record_before_unload_event"));if(dd)try{window.heatmapRateLimiting&&window.heatmapRateLimiting.recording.tracking&&($b.connect(),$b.send(JSON.stringify(dd.recording_record),
"recordings"),localStorage.setItem("heat_last_record_before_unload_event",JSON.stringify({event_record:dd.event_record})))}catch(p){}(function(){function p(){X&&console.log("Recording Stopped");window.globalFunctions.heatmapGenerateUniqueId(Ma,"_idl");window.globalFunctions.heatmapGenerateUniqueId(Ma,"_idv");HeatmapTracking.HeatmapSessionRecording.recording.stopRecordingMutations();HeatmapTracking.HeatmapSessionRecording.recording.stopRecording();clearInterval(Td);window.removeEventListener("load",
w,!1);L.forEach(function(Q){document.removeEventListener(Q,w,!1)})}function m(){}function w(){X&&console.log("Event Stopped")}function z(){X&&console.log("Recording ");clearTimeout(A);clearTimeout(E);A=setTimeout(p,12E5);E=setTimeout(m,12E5)}let A,E;window.addEventListener("load",z,!0);let L=["mousedown","mousemove","keypress","scroll","touchstart"];L.forEach(function(Q){document.addEventListener(Q,z,!0)})})();var Yd=[];(function(p){var m=window.location.href,w=m,z=!1,A=!0;window.heatmapRateLimiting&&
"undefined"!==typeof window.heatmapRateLimiting.trackvariant&&(A=window.heatmapRateLimiting.trackvariant);const E=(L="")=>{var Q=!1;(new URLSearchParams(window.location.search)).forEach((R,Y)=>{if("undefined"!==typeof window.heatmapRateLimiting.acceptedTags&&window.heatmapRateLimiting.acceptedTags.includes(Y)){["variant"].includes(Y);if("variant"==Y&&A)if("undefined"===typeof window.heatmapSessionTag.params[Y])window.heatmapSessionTag.params[Y]=R;else{Y="variant";let S=0,K=!1;for(;window.heatmapSessionTag.params.hasOwnProperty(Y)&&
!(window.heatmapSessionTag.params[Y]===R||8<=S);)S++,K=!0,Y="variant_"+S;K&&(window.heatmapSessionTag.params[Y]=R)}else"variant"!==Y&&(window.heatmapSessionTag.params[Y]=R);Q=!0}});ea("_heatmap_event_tag")&&(Q=!0,window.heatmapSessionTag.partner_tag=JSON.parse(ea("_heatmap_event_tag")));if(Q&&0!==ta)try{if(Object.keys(window.heatmapSessionTag).length){if(window.visitRecordSent.session_tag&&(delete window.heatmapSessionTag.partner_tag,!Object.keys(window.heatmapSessionTag.params).length))return!0;
let R={request:"sessionTags",idsite:window.preHeatmapSiteId,idsitehsr:ta,sessionTags:window.heatmapSessionTag,_idv:La,_idl:window.generatedIdloghsr,res:`${window.innerWidth}x${window.innerHeight}`,requestTime:wa(),currentTime:wa()};bb.send(JSON.stringify({action:"staging-visits",data:R,streamName:"STTrackerCustomIds",requestTime:wa()}),"sessiontags");navigator.sendBeacon(`${p}heatmap.php`,JSON.stringify(R));"undefined"!==typeof window.heatmapSessionTag.partner_tag&&(localStorage.removeItem("_heatmap_event_tag"),
window.visitRecordSent.session_tag=!0);z=!0;Yd.push(L)}}catch(R){}};setInterval(()=>{m=window.location.href;if(m!==w||!z&&m.includes("variant")||!z&&m.includes("utm_source")||!z&&m.includes("view=")||ea("_heatmap_event_tag"))if(!Yd.includes(m)||ea("_heatmap_event_tag"))E(m),w=m;[1910,2184].includes(window.preHeatmapSiteId)&&("undefined"===typeof ConversionsHandler&&lb(`${p}conversions.js?siteId=${window.preHeatmapSiteId}`),1910==window.preHeatmapSiteId&&"undefined"!==typeof processSkinnyrx&&processSkinnyrx(window.preHeatmapSiteId),
2184==window.preHeatmapSiteId&&"undefined"!==typeof vetrinexlabsConversion&&vetrinexlabsConversion(window.preHeatmapSiteId))},3E3)})(heatUrl,window.preHeatmapSiteId);let tc=!1;window.globalObjects.dom=mb;window.globalObjects.query=xb;pc(`_heatRecording_${window.preHeatmapSiteId}`)||Kd();const ob=JSON.parse(decodeURIComponent(pc(`_heatRecording_${window.preHeatmapSiteId}`)));if(ob&&ob.lastUpdated){const p=(new Date).getTime()-ob.lastUpdated;600<Math.floor(p/1E3)&&Kd()}var cb=window.heatmapDeviceType=
"Desktop";480>=window.innerWidth?cb="Mobile":480<=window.innerWidth&&850>=window.innerWidth&&(cb="Tablet");var ed="",Qb=navigator.userAgent;ed=Qb.match(/Windows/i)?"Windows":Qb.match(/Android/i)?"Android":Qb.match(/iPhone|iPad|iPod/i)?"iOS":Qb.match(/aMac/i)?"MacOS":Qb.match(/Linux/i)?"Linux":Qb.match(/Unix/i)?"Unix":"Unknown";X&&console.log("Device Type:",cb);X&&console.log("Operating System:",ed);window.heatPauseBeforeSCreenshot||"iOS"==ed||"Mobile"!=cb||(Sd=!1);const Zd=new URL(window.location.href),
$d=Zd.searchParams.get("_heat_audit"),fd=function(p,m){try{const w=localStorage.getItem(p);if(!w)return null;const z=JSON.parse(w);return(new Date).getTime()>z.expiry&&null!==m?(localStorage.removeItem(p),null):z.value}catch(w){$a(w,w)}}("_heat_audit",$d),Od=Zd.searchParams.get("_heat_audit_results");if((null!==$d||null!==fd)&&null===Od)try{var We=window.globalFunctions.heatmapRandomString(10);fd?Wa=fd:(Wa=We,localStorage.removeItem("_heat_audit_visit"),localStorage.removeItem("_heat_audit_idls"),
localStorage.removeItem("_heat_audit_clicks"),localStorage.removeItem("_heat_audit_trans"),Ne("_heat_audit",Wa,30));localStorage.setItem("_heat_audit_visit",JSON.stringify({_idv:La,_heat_audit_key:Wa}));const p=JSON.parse(localStorage.getItem("_heat_audit_idls"))||[];p.push({_idl:window.generatedIdloghsr,_heat_audit_key:Wa});localStorage.setItem("_heat_audit_idls",JSON.stringify(p));if("undefined"!==typeof window._heatmap_pre_clicks&&0<window._heatmap_pre_clicks.length){for(var ae=[],gd=window._heatmap_pre_clicks.length-
1;0<=gd;gd--){var be=window._heatmap_pre_clicks[gd].data;be._heat_audit_key=Wa;ae.push(be)}const m=(JSON.parse(localStorage.getItem("_heat_audit_clicks"))||[]).concat(ae);localStorage.setItem("_heat_audit_clicks",JSON.stringify(m))}}catch(p){$a(p,p)}"object"!==typeof ha&&(ha=[]);"object"!==typeof window.HeatmapTracking&&(window.HeatmapTracking=window.HeatmapTracker=function(){function p(a){try{return db(a)}catch(c){return decodeURIComponent(a)}}function m(a){return"undefined"!==typeof a}function w(a){return"object"===
typeof a}function z(a){return"string"===typeof a||a instanceof String}function A(a){return m(a)&&("number"===typeof a||a instanceof Number||z(a)&&a.length)}function E(a){if(!a)return!0;for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c))return!1;return!0}function L(a){"undefined"!==typeof console&&console&&console.error&&console.error(a)}function Q(){var a,c;for(a=0;a<arguments.length;a+=1){var e=null;arguments[a]&&arguments[a].slice&&(e=arguments[a].slice());var d=arguments[a];var g=d.shift();
if(z(g)&&0<g.indexOf("::")){var k=g.split("::");var l=k[0];g=k[1];"object"===typeof ca[l]&&"function"===typeof ca[l][g]?ca[l][g].apply(ca[l],d):e&&eb.push(e)}else for(c=0;c<ja.length;c++)if(z(g)){l=ja[c];var n=0<g.indexOf(".");if(n)if(k=g.split("."),l&&"object"===typeof l[k[0]])l=l[k[0]],g=k[1];else if(e){eb.push(e);break}if(l[g])l[g].apply(l,d);else if(k="The method '"+g+'\' was not found in "_heatmap_paq" variable.',L(k),!n)throw new TypeError(k);if("addTracker"===g)break;if("setTrackerUrl"===g||
"setSiteId"===g)break}else g.apply(ja[c],d)}}function R(a,c,e,d){if(a.addEventListener)return a.addEventListener(c,e,d),!0;if(a.attachEvent)return a.attachEvent("on"+c,e);a["on"+c]=e}function Y(a){"complete"===M.readyState?a():B.addEventListener?B.addEventListener("load",a,!1):B.attachEvent&&B.attachEvent("onload",a)}function S(a){var c=!1;(c=M.attachEvent?"complete"===M.readyState:"loading"!==M.readyState)?a():(M.addEventListener?R(M,"DOMContentLoaded",function d(){M.removeEventListener("DOMContentLoaded",
d,!1);c||(c=!0,a())}):M.attachEvent&&(M.attachEvent("onreadystatechange",function d(){"complete"===M.readyState&&(M.detachEvent("onreadystatechange",d),c||(c=!0,a()))}),M.documentElement.doScroll&&B===B.top&&function g(){if(!c){try{M.documentElement.doScroll("left")}catch(k){setTimeout(g,0);return}c=!0;a()}}()),R(B,"load",function(){c||(c=!0,a())},!1))}function K(a,c,e){if(!a)return"";var d="",g,k;for(g in ya)Object.prototype.hasOwnProperty.call(ya,g)&&(k=ya[g]&&"function"===typeof ya[g][a])&&(k=
ya[g][a],(k=k(c||{},e))&&(d+=k));return d}function hd(a,c){var e=M.createElement("script");e.type="text/javascript";e.src=a;e.readyState?e.onreadystatechange=function(){var d=this.readyState;if("loaded"===d||"complete"===d)e.onreadystatechange=null,c()}:e.onload=c;M.getElementsByTagName("head")[0].appendChild(e)}function uc(){var a="";try{a=B.top.document.referrer}catch(c){if(B.parent)try{a=B.parent.document.referrer}catch(e){a=""}}""===a&&(a=M.referrer);return a}function vc(a){return(a=RegExp("^([a-z]+):").exec(a))?
a[1]:null}function za(a){var c=RegExp("^(?:(?:https?|ftp):)/*(?:[^@]+@)?([^:/#]+)").exec(a);return c?c[1]:a}function wc(a,c){a=String(a);return 0===a.lastIndexOf(c,0)}function Ga(a,c){a=String(a);return-1!==a.indexOf(c,a.length-c.length)}function Bb(a,c){a=String(a);return a.substr(0,a.length-c)}function Cb(a,c){a=String(a);if(-1===a.indexOf("?"+c+"=")&&-1===a.indexOf("&"+c+"="))return a;var e=a.indexOf("?");if(-1===e)return a;var d=a.substr(e+1);a=a.substr(0,e);if(d){e="";var g=d.indexOf("#");-1!==
g&&(e=d.substr(g+1),d=d.substr(0,g));g=d.split("&");var k=g.length-1;for(k;0<=k;k--)d=g[k].split("=")[0],d===c&&g.splice(k,1);(c=g.join("&"))&&(a=a+"?"+c);e&&(a+="#"+e)}return a}function Xa(a,c){return(a=(new RegExp("[\\?&#]"+c+"=([^&#]*)")).exec(a))?p(a[1]):""}function Ya(a){return a&&String(a)===a?a.replace(/^\s+|\s+$/g,""):a}function Db(a){var c=function(pb,fb){return pb<<fb|pb>>>32-fb},e=function(pb){var fb="",qb;for(qb=7;0<=qb;qb--){var xc=pb>>>4*qb&15;fb+=xc.toString(16)}return fb},d,g=[],k=
1732584193,l=4023233417,n=2562383102,t=271733878,u=3285377520,y=[];a=decodeURIComponent(N(a));var v=a.length;for(d=0;d<v-3;d+=4){var H=a.charCodeAt(d)<<24|a.charCodeAt(d+1)<<16|a.charCodeAt(d+2)<<8|a.charCodeAt(d+3);y.push(H)}switch(v&3){case 0:d=2147483648;break;case 1:d=a.charCodeAt(v-1)<<24|8388608;break;case 2:d=a.charCodeAt(v-2)<<24|a.charCodeAt(v-1)<<16|32768;break;case 3:d=a.charCodeAt(v-3)<<24|a.charCodeAt(v-2)<<16|a.charCodeAt(v-1)<<8|128}for(y.push(d);14!==(y.length&15);)y.push(0);y.push(v>>>
29);y.push(v<<3&4294967295);for(a=0;a<y.length;a+=16){for(d=0;16>d;d++)g[d]=y[a+d];for(d=16;79>=d;d++)g[d]=c(g[d-3]^g[d-8]^g[d-14]^g[d-16],1);H=k;v=l;var x=n;var Z=t;var qa=u;for(d=0;19>=d;d++){var Aa=c(H,5)+(v&x|~v&Z)+qa+g[d]+1518500249&4294967295;qa=Z;Z=x;x=c(v,30);v=H;H=Aa}for(d=20;39>=d;d++)Aa=c(H,5)+(v^x^Z)+qa+g[d]+1859775393&4294967295,qa=Z,Z=x,x=c(v,30),v=H,H=Aa;for(d=40;59>=d;d++)Aa=c(H,5)+(v&x|v&Z|x&Z)+qa+g[d]+2400959708&4294967295,qa=Z,Z=x,x=c(v,30),v=H,H=Aa;for(d=60;79>=d;d++)Aa=c(H,5)+
(v^x^Z)+qa+g[d]+3395469782&4294967295,qa=Z,Z=x,x=c(v,30),v=H,H=Aa;k=k+H&4294967295;l=l+v&4294967295;n=n+x&4294967295;t=t+Z&4294967295;u=u+qa&4294967295}Aa=e(k)+e(l)+e(n)+e(t)+e(u);return Aa.toLowerCase()}function yc(a,c,e){a||="";c||="";if("translate.googleusercontent.com"===a)""===e&&(e=c),c=Xa(c,"u"),a=za(c);else if("cc.bingj.com"===a||"webcache.googleusercontent.com"===a||"74.6."===a.slice(0,5))c=M.links[0].href,a=za(c);return[a,c,e]}function O(a){var c=a.length;"."===a.charAt(--c)&&(a=a.slice(0,
c));"*."===a.slice(0,2)&&(a=a.slice(1));-1!==a.indexOf("/")&&(a=a.substr(0,a.indexOf("/")));return a}function T(a){return a?!m(a.children)&&m(a.childNodes)||m(a.children)?a.children:[]:[]}function Ba(a,c){if(a&&a.indexOf)return a.indexOf(c);if(!m(a)||null===a||!a.length)return-1;var e=a.length;if(0===e)return-1;for(var d=0;d<e;){if(a[d]===c)return d;d++}return-1}function gb(a){function c(d,g){if(B.getComputedStyle)return M.defaultView.getComputedStyle(d,null)[g];if(d.currentStyle)return d.currentStyle[g]}
function e(d,g,k,l,n,t,u){var y=d.parentNode,v;a:{for(v=d.parentNode;v;){if(v===M){v=!0;break a}v=v.parentNode}v=!1}if(!v)return!1;if(9===y.nodeType)return!0;if("0"===c(d,"opacity")||"none"===c(d,"display")||"hidden"===c(d,"visibility"))return!1;m(g)&&m(k)&&m(l)&&m(n)&&m(t)&&m(u)||(g=d.offsetTop,n=d.offsetLeft,l=g+d.offsetHeight,k=n+d.offsetWidth,t=d.offsetWidth,u=d.offsetHeight);if(a===d&&(0===u||0===t)&&"hidden"===c(d,"overflow"))return!1;if(y){if("hidden"===c(y,"overflow")||"scroll"===c(y,"overflow"))if(n+
1>y.offsetWidth+y.scrollLeft||n+t-1<y.scrollLeft||g+1>y.offsetHeight+y.scrollTop||g+u-1<y.scrollTop)return!1;d.offsetParent===y&&(n+=y.offsetLeft,g+=y.offsetTop);return e(y,g,k,l,n,t,u)}return!0}return a?e(a):!1}function Ca(a,c){if(c)return c;a=D.toAbsoluteUrl(a);c=String(a);-1!==c.indexOf("?")&&(c=a.indexOf("?"),a=a.slice(0,c));Ga(a,"heatmap.php")?a=Bb(a,11):Ga(a,"heatmap.php")?a=Bb(a,11):Ga(a,".php")&&(c=a.lastIndexOf("/"),a=a.slice(0,c+1));Ga(a,"/js/")&&(a=Bb(a,3));return a}function Ha(a){var c=
RegExp("index\\.php\\?module=Overlay&action=startOverlaySession&idSite=([0-9]+)&period=([^&]+)&date=([^&]+)(&segment=[^&]*)?").exec(M.referrer);if(c){if(c[1]!==String(a))return!1;a=c[2];var e=c[3];(c=c[4])?0===c.indexOf("&segment=")&&(c=c.substr(9)):c="";B.name="Heatmap_Overlay###"+a+"###"+e+"###"+c}c=B.name.split("###");return 4===c.length&&"Heatmap_Overlay"===c[0]}function rb(a,c,e){var d=B.name.split("###"),g=d[1],k=d[2],l=d[3],n=Ca(a,c);hd(n+"plugins/Overlay/client/client.js?v=1",function(){Heatmap_Overlay_Client.initialize(n,
e,g,k,l)})}function zc(){try{var a=B.frameElement}catch(c){return!0}if(m(a))return a&&"iframe"===String(a.nodeName).toLowerCase()?!0:!1;try{return B.self!==B.top}catch(c){return!0}}function Na(a,c){function e(b){return Da&&"mtm_consent_removed"!==b?0:(b=(new RegExp("(^|;)[ ]*"+b+"=([^;]*)")).exec(M.cookie))?db(b[2]):0}function d(b,f,h,q,r,C,I){if(!Da||"mtm_consent_removed"===b){if(h){var V=new Date;V.setTime(V.getTime()+h)}I||="Lax";"undefined"===typeof q&&(q="/");"undefined"===typeof r&&(r=null);
M.cookie=b+"="+N(f)+(h?";expires="+V.toGMTString():"")+";path="+(q||"/")+(r?";domain="+r:"")+(C?";secure":"")+";SameSite="+I;(!h||0<=h)&&e(b)!==String(f)&&L("There was an error setting cookie `"+b+"`. Please check domain and path.")}}function g(b){var f;b=Cb(b,"pk_vid");b=Cb(b,"ignore_referrer");b=Cb(b,"ignore_referer");for(f=0;f<id.length;f++)b=Cb(b,id[f]);return ce?(f=RegExp("#.*"),b.replace(f,"")):b}function k(b,f){b=String(b).toLowerCase();f=String(f).toLowerCase();if(b===f)return!0;if("."===
f.slice(0,1)){if(b===f.slice(1))return!0;var h=b.length-f.length;if(0<h&&b.slice(h)===f)return!0}return!1}function l(b){var f=document.createElement("a");0!==b.indexOf("//")&&0!==b.indexOf("http")&&(0===b.indexOf("*")&&(b=b.substr(1)),0===b.indexOf(".")&&(b=b.substr(1)),b="http://"+b);f.href=D.toAbsoluteUrl(b);return f.pathname?f.pathname:""}function n(b,f){wc(f,"/")||(f="/"+f);wc(b,"/")||(b="/"+b);if("/"===f||"/*"===f||b===f)return!0;f=String(f).toLowerCase();b=String(b).toLowerCase();if(Ga(f,"*"))return(f=
f.slice(0,-1))&&"/"!==f&&b!==f?0===b.indexOf(f):!0;Ga(b,"/")||(b+="/");Ga(f,"/")||(f+="/");return 0===b.indexOf(f)}function t(b,f){var h;for(h=0;h<hb.length;h++){var q=O(hb[h]);var r=l(hb[h]);if(k(b,q)&&n(f,r))return!0}return!1}function u(b){var f;for(f=0;f<hb.length;f++){var h=O(hb[f].toLowerCase());if(b===h)return!0;if("."===h.slice(0,1)){if(b===h.slice(1))return!0;var q=b.length-h.length;if(0<q&&b.slice(q)===h)return!0}}return!1}function y(b){if(!b.length||!ac.length)return!1;var f=za(b);var h=
l(b);0===f.indexOf("www.")&&(f=f.substr(4));for(b=0;b<ac.length;b++){var q=O(ac[b]);var r=l(ac[b]);0===q.indexOf("www.")&&(q=q.substr(4));if(k(f,q)&&n(h,r))return!0}return!1}function v(b,f){b=b.replace("send_image=0","send_image=1");var h=new Image(1,1);h.onload=function(){Oa=0;"function"===typeof f&&f({request:b,trackerUrl:ma,success:!0})};h.onerror=function(){"function"===typeof f&&f({request:b,trackerUrl:ma,success:!1})};h.src=ma+(0>ma.indexOf("?")?"?":"&")+b}function H(b){return"POST"===jd?!0:
b&&(2E3<b.length||0===b.indexOf('{"requests"'))}function x(b,f,h){if("object"!==typeof W||"function"!==typeof W.sendBeacon||"function"!==typeof Blob)return!1;var q={type:"application/x-www-form-urlencoded; charset=UTF-8"},r=!1,C=ma;if(0==Ab.length){let aa=ea("_heatmapConfigs","_heatMapEnvRecord");aa?(Ab=aa.KINESISGATEWAY,Zc=aa.PROXYURL,nb=aa.HEATMAPURL,ad=aa.S3URL,Zb=aa.KINESISSTREAM||"kinesisForProduction",xa=aa):setTimeout(()=>{aa=ea("_heatmapConfigs","_heatMapEnvRecord");null!==aa&&void 0!==aa.KINESISGATEWAY&&
(Ab=aa.KINESISGATEWAY,Zc=aa.PROXYURL,nb=aa.HEATMAPURL,ad=aa.S3URL,Zb=aa.KINESISSTREAM||"kinesisForProduction",xa=aa)},2500)}try{var I=b.split("=")[0],V=b.split("=")[1];V=V.split("&")[0];let aa=ea("_heatmapConfigs","_heatEventsCount");X&&console.log(V);if("action_name"==b.split("=")[0]){window.heatmapClientId=null==window.heatmapClientId?ea("_heatmapConfigs","heatmapClientId"):window.heatmapClientId;b+=`&cip=${window.heatmapClientId}`;b+=`&sourceIp=${window.heatmapClientId}`;b+=`&requestTime=${wa()}`;
b+=`&currentTime=${wa()}`;b+=`&_idv=${La}&uagent=${navigator.userAgent}`;b+=`&lang=${navigator.language}&hsr_return=${window.isReturningUser}&test_data=${Qd}`;window.globalFunctions.previousIdVisit&&(b+=`&prev_idv=${window.globalFunctions.previousIdVisit}`);window.isGoalBuyer&&(b+=`&buyer=${parseInt(window.isGoalBuyer)||localStorage.getItem("heatIsGoalBuyer")}&buyer_value=${window.isGoalBuyerValue}&buyer_currency=${window.isGoalBuyerCurrency}`);aa&&(b+=`&events_count=${parseInt(aa)}`);"undefined"!==
typeof convertData&&(b+=`&user=${JSON.stringify(convertData.geo)}`);var U=(new URLSearchParams("?"+b)).get("_id");b+="&Storage_updated=1";b+=Vd;Wc("mr_vid",U,1);Wc("_heat_idv",La,1);Wc("_heat_idl",window.generatedIdloghsr,1);localStorage.setItem("_user_agent",navigator.userAgent);localStorage.setItem("_mr_vid",U);Yc(!1,!0)}new Blob([b],q);!h||H(b)||b.includes("&_id=")||(new Blob([],q),C=C+(0>C.indexOf("?")?"?":"&")+b);q="";r=!0;h="staging"==Ve?"staging-pageview":"staging-visits";if(b.includes("hsr_vid")&&
!window.FirstHSRSentToAPI||Object.keys(yb).length){var ba=b.replace(Rd,"");ba=ba.replace(/\s/g,"");q=ba+`&initalDOMOnly=1&_idv=${La}&_idl=${window.generatedIdloghsr}&sessionTags=${JSON.stringify(window.heatmapSessionTag)}`;X&&console.log("Initial DOM to API",q);if(window.heatmapRateLimiting&&window.heatmapRateLimiting.events.tracking){window.visitRecordSent.loadtimesent||(bb.send(JSON.stringify({action:h,data:ia,streamName:"STTrackerCustomIds",requestTime:wa()}),"loadtimesent"),Ka("heatmapDCPageLoadTime",
1,"heatmapDebugger"));window.visitRecordSent.visit||(bb.send(JSON.stringify({action:h,data:yb,streamName:"STTrackerCustomIds",requestTime:wa()}),"visit"),window.createNewVisitRequired&&(window.heartBeatBeacons+=",visits"),Ka("heatmapDCVisit",1,"heatmapDebugger"));let sb=window.userScrollData.smp?window.userScrollData.smp:Pb;window.visitRecordSent.loghsr||(bb.send(JSON.stringify({action:h,data:mb(q),streamName:"STTrackerCustomIds",requestTime:wa()}),"loghsr"),localStorage.setItem("userMaxScroll",sb),
window.heartBeatBeacons+=",loghsrs");Ka("heatmapDCLogHSR",1,"heatmapDebugger");window.loadtimesent=!0}window.heartBeatBeacons.length&&(window.heartBeatBeacons="");window.FirstHSRSentToAPI=!0}Nb&&0<Nb.length&&(Nb="");if("hsr_vid"==I&&(X&&console.log("Kinesis",I),X&&console.log(b),b+=`&_idv=${La}&_idl=${window.generatedIdloghsr}`,Ob&&(b+="&HeatmapOnly=1",HeatmapTracking.HeatmapSessionRecording.recording.stopRecordingMutations()),b.includes("hsr_vid")||X&&console.log("sending "+b),!b.includes("hsr_vid")||
b.includes("hsr_ev"))){if(Ab.includes("localhost")){var ka=new URLSearchParams(b),Pa=new Blob([ka.toString()],{type:"application/x-www-form-urlencoded; charset=UTF-8"});W.sendBeacon(C,Pa)}else{C=(Qa=null,tb=null)=>{const Xe={method:"POST",body:JSON.stringify(Qa)};if(Qa){if(window.heatmapRateLimiting&&!window.heatmapRateLimiting.events.tracking||!ta)return localStorage.removeItem("_heatSessDom"),!0;try{window.fetch(Ab,Xe).then(Ac=>{200===Ac.status&&b.includes("[ty]=5")&&(zb="",localStorage.removeItem("_heatSessDom"))}).catch(Ac=>
{W.sendBeacon(Ab,JSON.stringify(Qa));b.includes("[ty]=5")&&(zb="",localStorage.removeItem("_heatSessDom"))})}catch(Ac){}Md&&Ld(Ma)}if(null!==sc&&null!==tb&&1==ob.get_session){if(window.heatmapRateLimiting&&!window.heatmapRateLimiting.recording.tracking)return!0;try{$b.send(JSON.stringify(tb),"recordings")}catch(Ac){}}};Pa=ka=I=null;ba=[1,2,3,4,5,6,9,10,12,13];cd&&(ba=[1,2,3,4,6,9,10,12,13]);let sb=mb(b,[2]),Za=mb(b,[2,8,14,15]),Bc=mb(b,ba,"","session");_heatmapDEBUG&&Je(Bc);window.globalObjects.data.push(mb(b,
[1,2,8,10,12,13,14,15],"heatmap_hsr _idl _idv hsr_smp hsr_sh hsr_return hsr_fyp lang audit_key".split(" ")));if(!tc&&"undefined"!==typeof heatmapDebugger)heatmapDebugger.updateEvents(xb(Za));else if("undefined"!==typeof heatmapDebugger)heatmapDebugger.onExitEvents(xb(Za));mb(b);if(0!==Za.hsr_ev.length){let Qa=xb(Za);aa=aa?aa:0;window.globalObjects.hsr=sb;Za.hsr_ev&&Ka("_heatEventsCount",aa+Za.hsr_ev.length,"_heatmapConfigs");I={Data:window.btoa(Qa),PartitionKey:`${(new Date).getTime()}`,StreamDataset:"heatclicks",
StreamName:Zb};if(14!==Za.hsr_ev[0].ty&&![5,6,15,16,17].includes(Za.hsr_ev[0].ty)){let tb=localStorage.getItem("userMaxScroll");"undefined"==tb&&(tb=null);Object.keys(window.userScrollData).length&&(!tb||tb&&parseInt(tb)<window.userScrollData.smp)&&(Za.hsr_ev=[window.userScrollData],Pa={Data:window.btoa(xb(Za)),PartitionKey:`${(new Date).getTime()}`,StreamName:Zb,StreamDataset:"scroll"},localStorage.setItem("userMaxScroll",window.userScrollData.smp))}}X&&console.log("removed!");let Ye=window.triggerSinglepage?
100:50;if(0==sb.hsr_ev.length&&qc>=Ye)return zb=b="",localStorage.removeItem("_heatSessDom"),!0;0==sb.hsr_ev.length?qc++:0!==qc&&qc--;C(I,null);Hd(window.globalObjects.clicks,sb.hsr_ev);Pa&&C(Pa,null);if(0!==Bc.hsr_ev.length){Bc.recovery_type="recordings";let Qa=xb(Bc);ka={Data:window.btoa(Qa),PartitionKey:`${(new Date).getTime()}`,StreamDataset:"recording",StreamName:Zb};C(null,ka);b.includes("[ty]=5")&&(cd=!0,zb="",localStorage.removeItem("_heatSessDom"))}if(!b.includes("[ty]=14")){const Qa=JSON.parse(localStorage.getItem("heat_last_record_before_unload_event"));
Qa&&(C(Qa.event_record,Qa.recording_record),localStorage.removeItem("heat_last_record_before_unload_event"));tc&&(localStorage.setItem("heat_last_record_before_unload_event",JSON.stringify({event_record:I,recording_record:ka,streamName:xa.KINESISSTREAM,streamGateway:xa.KINESISGATEWAY})),tc=!1)}}window._heatmap_pre_clicks=[];localStorage.removeItem("_heatmap_unsent")}0==window.heatviewsent&&("undefined"===typeof window.heatVisitData.action_name&&(window.heatVisitData=yb=mb(b)),window.heatmapRateLimiting&&
window.heatmapRateLimiting.events.tracking&&(yb.action_name.length||(yb.action_name=window.globalFunctions.extractNameFromURL()),window.nodeConfigs&&window.nodeConfigs.heatmap&&window.nodeConfigs.heatmap.heatmaps&&window.nodeConfigs.heatmap.heatmaps.length&&(bb.send(JSON.stringify({action:h,data:yb,streamName:"STTrackerCustomIds",requestTime:wa()}),"visit"),window.heartBeatBeacons+=",visits",Ka("heatmapDCVisit",1,"heatmapDebugger"))))}catch(aa){return console.log(aa),!1}r&&"function"===typeof f&&
f({request:b,trackerUrl:ma,success:!0,isSendBeacon:!0});return r}function Z(b,f,h){m(h)&&null!==h||(h=!0);P&&x(b,f,h)||setTimeout(function(){if(!P||!x(b,f,h))try{var q=B.XMLHttpRequest?new B.XMLHttpRequest:B.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):null;q.open("POST",ma,!0);q.onreadystatechange=function(){4!==this.readyState||200<=this.status&&300>this.status?4===this.readyState&&"function"===typeof f&&f({request:b,trackerUrl:ma,success:!0,xhr:this}):P&&x(b,f,h)||!h?"function"===typeof f&&
f({request:b,trackerUrl:ma,success:!1,xhr:this}):v(b,f)};q.setRequestHeader("Content-Type",de);q.withCredentials=!0}catch(r){q=P&&x(b,f,h),!q&&h?v(b,f):"function"===typeof f&&f({request:b,trackerUrl:ma,success:!1})}},50)}function qa(b){b=(new Date).getTime()+b;if(!Ra||b>Ra)Ra=b}function Aa(){Cc=(new Date).getTime()}function pb(){var b=(new Date).getTime();return!Cc||b-Cc>Rb}function fb(){pb()&&kd()}function qb(){"hidden"===M.visibilityState&&pb()?kd():"visible"===M.visibilityState&&(Cc=(new Date).getTime())}
function xc(){!Sb&&Rb&&(Sb=!0,R(B,"focus",Aa),R(B,"blur",fb),R(B,"visibilitychange",qb),ib++,ca.addPlugin("HeartBeat"+ib,{unload:function(){Sb&&pb()&&kd()}}))}function ee(b){var f=(new Date).getTime();Dc=f;Tb&&f<Tb?(f=Tb-f,setTimeout(b,f),qa(f+50),Tb+=50):(!1===Tb&&(Tb=f+800),b())}function fe(b){if(!Sa)return b;var f=window.globalFunctions.parseUserAgent(navigator.userAgent);Sa.brand=f.brand;Sa.brandModel=f.brandModel;Sa.model="undefined"==typeof Sa.model?f.model:"undefined"===typeof Sa.model||Sa.model.length?
Sa.model:f.model;var h="&uadata="+N(B.JSON.stringify(Sa));navigator.userAgentData||(h="&uadata="+N(JSON.stringify(f)));navigator.userAgentData&&(navigator.userAgentData.brands.length||(h="&uadata="+N(JSON.stringify(f))));if(b instanceof Array)for(f=0;f<b.length;f++)b[f]+=h;else b+=h;return b}function Ze(b){Ub&&m(W.userAgentData)&&"function"===typeof W.userAgentData.getHighEntropyValues?(Sa={brands:W.userAgentData.brands,platform:W.userAgentData.platform},W.userAgentData.getHighEntropyValues("brands model platform platformVersion uaFullVersion fullVersionList".split(" ")).then(function(f){f.fullVersionList&&
(delete f.brands,delete f.uaFullVersion);Sa=f;b()},function(f){b()})):b()}function Ia(b,f,h){ld?(e("mtm_consent_removed")?Ta=!1:e("mtm_consent")&&(Ta=!0),Ta?(Ec=!0,!bc&&b&&(md&&Ta&&(b+="&consent=1"),b=fe(b),ee(function(){Fc&&x(b,h,!0)?qa(100):(H(b)?Z(b,h):v(b,h),qa(f))})),Sb||xc()):ub.push(b)):Eb.push(b)}function Gc(b,f){var h=bc?!1:b&&b.length;h&&(ld?Ta?(Ec=!0,ee(function(){if(50>=b.length)var q=[b];else{q=0;var r=b.length,C=[];for(q;q<r;q+=50)C.push(b.slice(q,q+50));q=C}r=0;for(r;r<q.length;r++)C=
'{"requests":["?'+fe(q[r]).join('","?')+'"],"send_image":0}',Fc&&x(C,null,!1)?qa(100):Z(C,null,!1);qa(f)})):ub.push(b):Eb.push(b))}function Ja(b){return Hc+b+"."+ua+"."+ge}function Fb(b,f,h){d(b,"",-1296E5,f,h)}function nd(){if(Da)return"0";if(!m(B.showModalDialog)&&m(W.cookieEnabled))return W.cookieEnabled?"1":"0";var b=Hc+"testcookie";d(b,"1",void 0,na,oa,Ua,Va);var f="1"===e(b)?"1":"0";Fb(b);return f}function od(){ge=pd((oa||cc)+(na||"/")).slice(0,4)}function qd(){Ze(function(){var q;ld=!0;for(q=
0;q<Eb.length;q++){var r=typeof Eb[q];"string"===r?Ia(Eb[q],la):"object"===r&&Gc(Eb[q],la)}Eb=[]});if(!Ub)return{};if(m(jb.res))return jb;var b={pdf:"application/pdf",qt:"video/quicktime",realp:"audio/x-pn-realaudio-plugin",wma:"application/x-mplayer2",fla:"application/x-shockwave-flash",java:"application/x-java-vm",ag:"application/x-silverlight"};if(!RegExp("MSIE").test(W.userAgent)){if(W.mimeTypes&&W.mimeTypes.length)for(h in b)if(Object.prototype.hasOwnProperty.call(b,h)){var f=W.mimeTypes[b[h]];
jb[h]=f&&f.enabledPlugin?"1":"0"}!RegExp("Edge[ /](\\d+[\\.\\d]+)").test(W.userAgent)&&"unknown"!==typeof navigator.javaEnabled&&m(W.javaEnabled)&&W.javaEnabled()&&(jb.java="1");!m(B.showModalDialog)&&m(W.cookieEnabled)?jb.cookie=W.cookieEnabled?"1":"0":jb.cookie=nd()}var h=parseInt(kb.width,10);f=parseInt(kb.height,10);jb.res=parseInt(h,10)+"x"+parseInt(f,10);ia.res=jb.res;return jb}function rd(){var b=Ja("cvar");return(b=e(b))&&b.length&&(b=B.JSON.parse(b),w(b))?b:{}}function he(){var b=qd();return pd((W.userAgent||
"")+(W.platform||"")+B.JSON.stringify(b)).slice(0,6)}function $e(b){if(!dc)return"";b=Xa(b,"pk_vid");if(!b)return"";b=String(b);var f=RegExp("^[a-zA-Z0-9]+$");if(32===b.length&&f.test(b)){a:{var h=b.substr(16,32);h=String(h);f=he();var q=f.length,r=h.substr(-1*q,q);if((h=parseInt(h.substr(0,h.length-q),10))&&r&&r===f&&(f=Math.floor((new Date).getTime()/1E3),0>=sd||f>=h&&f<=h+sd)){f=!0;break a}f=!1}if(f)return b.substr(0,16)}return""}function ie(){Vb||=$e(ec);var b=Math.round((new Date).getTime()/
1E3),f=Ja("id");if(f=e(f))return b=f.split("."),b.unshift("0"),Vb.length&&(b[1]=Vb),b;Vb.length?f=Vb:"0"===nd()?f="":(f=qd(),f=pd((W.userAgent||"")+(W.platform||"")+B.JSON.stringify(f)+(new Date).getTime()+Math.random()).slice(0,16));return b=["1",f,b]}function td(){var b=ie();return{newVisitor:b[0],uuid:b[1],createTs:b[2]}}function Ic(b){if(ua){(new Date).getTime();m(b)||(b=td());b=b.uuid+"."+b.createTs+".";var f=Ja("id");var h=(new Date).getTime();var q=td().createTs;h=1E3*parseInt(q,10)+je-h;d(f,
b,h,na,oa,Ua,Va)}}function Wb(){var b=e(Ja("ref"));if(b.length)try{if(b=B.JSON.parse(b),w(b))return b}catch(f){}return["","",0,""]}function Jc(){var b=Da;Da=!1;var f;for(f=0;f<ud.length;f++){var h=Ja(ud[f]);"mtm_consent_removed"!==h&&"mtm_consent"!==h&&0!==e(h)&&Fb(h,na,oa)}Da=b}function ke(b){if(b&&w(b)){var f=[];for(h in b)Object.prototype.hasOwnProperty.call(b,h)&&f.push(h);var h={};f.sort();var q=f.length,r;for(r=0;r<q;r++)h[f[r]]=b[f[r]];return h}}function le(b){if(""!==Kc)return b+=Kc,fc=!0,
b;if(!Ea)return b;var f="object"===typeof Ea.timing&&Ea.timing?Ea.timing:void 0;f||="function"===typeof Ea.getEntriesByType&&Ea.getEntriesByType("navigation")?Ea.getEntriesByType("navigation")[0]:void 0;if(!f)return b;var h="";if(f.connectEnd&&f.fetchStart){if(f.connectEnd<f.fetchStart)return b;ia.pf_net=Math.round(f.connectEnd-f.fetchStart);h+="&pf_net="+Math.round(f.connectEnd-f.fetchStart)}if(f.responseStart&&f.requestStart){if(f.responseStart<f.requestStart)return b;ia.pf_srv=Math.round(f.responseStart-
f.requestStart);h+="&pf_srv="+Math.round(f.responseStart-f.requestStart)}if(f.responseStart&&f.responseEnd){if(f.responseEnd<f.responseStart)return b;ia.pf_tfr=Math.round(f.responseEnd-f.responseStart);h+="&pf_tfr="+Math.round(f.responseEnd-f.responseStart)}if(m(f.domLoading)){if(f.domInteractive&&f.domLoading){if(f.domInteractive<f.domLoading)return b;ia.pf_dm1=Math.round(f.domInteractive-f.domLoading);h+="&pf_dm1="+Math.round(f.domInteractive-f.domLoading)}}else if(f.domInteractive&&f.responseEnd){if(f.domInteractive<
f.responseEnd)return b;ia.pf_dm1=Math.round(f.domInteractive-f.responseEnd);h+="&pf_dm1="+Math.round(f.domInteractive-f.responseEnd)}if(f.domComplete&&f.domInteractive){if(f.domComplete<f.domInteractive)return b;ia.pf_dm2=Math.round(f.domComplete-f.domInteractive);h+="&pf_dm2="+Math.round(f.domComplete-f.domInteractive)}if(f.loadEventEnd&&f.loadEventStart){if(f.loadEventEnd<f.loadEventStart)return b;ia.pf_onl=Math.round(f.loadEventEnd-f.loadEventStart);h+="&pf_onl="+Math.round(f.loadEventEnd-f.loadEventStart);
Vd="&pf_onl="+Math.round(f.loadEventEnd-f.loadEventStart)}return b+h}function me(b){return"1"===Xa(b,"ignore_referrer")||"1"===Xa(b,"ignore_referer")}function ne(){var b=Math.round((new Date).getTime()/1E3);var f=Ja("ses");var h=Ja("ref");var q=e(f);var r=Wb(),C=Xb||ec,I={};var V=r[0];var U=r[1];f=r[2];var ba=r[3];if(!me(C)&&!q){if(!vd||!V.length){for(ka in Lc)if(Object.prototype.hasOwnProperty.call(Lc,ka)&&(V=Xa(C,Lc[ka]),V.length))break;for(ka in Mc)if(Object.prototype.hasOwnProperty.call(Mc,ka)&&
(U=Xa(C,Mc[ka]),U.length))break}var ka=za(Gb);q=ba.length?za(ba):"";!ka.length||u(ka)||y(Gb)||vd&&q.length&&!u(q)&&!y(ba)||(ba=Gb);if(ba.length||V.length)f=b,r=[V,U,f,g(ba.slice(0,1024))],d(h,B.JSON.stringify(r),oe,na,oa,Ua,Va)}V.length&&(I._rcn=N(V));U.length&&(I._rck=N(U));I._refts=f;String(ba).length&&(I._ref=N(g(ba.slice(0,1024))));I._ref=document.referrer;I._ref.length||(I._ref=window.location.origin);return I}function Fa(b,f,h){function q(aa,sb){aa=B.JSON.stringify(aa);return 2<aa.length?"&"+
sb+"="+N(aa):""}var r,C=new Date,I=ra,V=Ja("cvar"),U=Xb||ec,ba=me(U);Da&&Jc();if(bc)return"";var ka=td(),Pa=M.characterSet||M.charset;Pa&&"utf-8"!==Pa.toLowerCase()||(Pa=null);b+="&idsite="+Ma+"&rec=1&r="+String(Math.random()).slice(2,8)+"&h="+C.getHours()+"&m="+C.getMinutes()+"&s="+C.getSeconds()+"&url="+N(g(U))+(!Gb.length||y(Gb)||ba?"":"&urlref="+N(g(Gb)))+(A(gc)?"&uid="+N(gc):"")+"&_id="+ka.uuid+"&_idn="+ka.newVisitor+"&audit_key="+Wa+(Pa?"&cs="+N(Pa):"")+"&send_image=0";C=ne();for(r in C)Object.prototype.hasOwnProperty.call(C,
r)&&(b+="&"+r+"="+C[r]);C=qd();for(r in C)Object.prototype.hasOwnProperty.call(C,r)&&(b+="&"+r+"="+C[r]);C=[];if(f)for(r in f)Object.prototype.hasOwnProperty.call(f,r)&&/^dimension\d+$/.test(r)&&(U=r.replace("dimension",""),C.push(parseInt(U,10)),C.push(String(U)),b+="&"+r+"="+N(f[r]),delete f[r]);f&&E(f)&&(f=null);for(r in vb)Object.prototype.hasOwnProperty.call(vb,r)&&(b+="&"+r+"="+N(vb[r]));for(r in Hb)Object.prototype.hasOwnProperty.call(Hb,r)&&-1===Ba(C,r)&&(b+="&dimension"+r+"="+N(Hb[r]));f?
b+="&data="+N(B.JSON.stringify(f)):Ib&&(b+="&data="+N(B.JSON.stringify(Ib)));f=ke(Nc);C=ke(Oc);b+=q(f,"cvar");b+=q(C,"e_cvar");if(ra){b+=q(ra,"_cvar");for(r in I)Object.prototype.hasOwnProperty.call(I,r)&&(""===ra[r][0]||""===ra[r][1])&&delete ra[r];pe&&d(V,B.JSON.stringify(ra),hc,na,oa,Ua,Va)}wd&&xd&&!fc&&(b=le(b),fc=!0);Pc&&(b+="&pv_id="+Pc);Ic(ka);d(Ja("ses"),"1",hc,na,oa,Ua,Va);b+=K(h,{tracker:ic,request:b});yd.length&&(b+="&"+yd);"function"===typeof zd&&(b=zd(b));return b}function qe(b,f,h,q,
r,C){var I="idgoal=0",V=[],U,ba=String(b).length;ba&&(I+="&ec_id="+N(b));I+="&revenue="+f;String(h).length&&(I+="&ec_st="+h);String(q).length&&(I+="&ec_tx="+q);String(r).length&&(I+="&ec_sh="+r);String(C).length&&(I+="&ec_dt="+C);if(fa){for(U in fa)Object.prototype.hasOwnProperty.call(fa,U)&&(m(fa[U][1])||(fa[U][1]=""),m(fa[U][2])||(fa[U][2]=""),m(fa[U][3])&&0!==String(fa[U][3]).length||(fa[U][3]=0),m(fa[U][4])&&0!==String(fa[U][4]).length||(fa[U][4]=1),V.push(fa[U]));I+="&ec_items="+N(B.JSON.stringify(V))}I=
Fa(I,Ib,"ecommerce");Ia(I,la);ba&&(fa={})}function Ad(b,f){var h="(^| )(piwik[_-]"+f+"|heatmap[_-]"+f;if(b)for(f=0;f<b.length;f++)h+="|"+b[f];return new RegExp(h+")( |$)")}function re(b){var f;for(f=b.parentNode;null!==f&&m(f)&&!J.isLinkElement(b);)b=f,f=b.parentNode;return b}function se(b){b=re(b);if(J.hasNodeAttribute(b,"href")&&m(b.href)){J.getAttributeValueFromNode(b,"href");var f=b.pathname||l(b.href),h=b.hostname||za(b.href),q=h.toLowerCase();h=b.href.replace(h,q);if(!RegExp("^(javascript|vbscript|jscript|mocha|livescript|ecmascript|mailto|tel):",
"i").test(h)){var r=b.className;f=t(q,f);b=J.hasNodeAttribute(b,"download");if(ma&&h&&0===String(h).indexOf(ma))r=0;else{q=Ad(te,"download");var C=Ad(ue,"link"),I=new RegExp("\\.("+Jb.join("|")+")([?&#]|$)","i");r=C.test(r)?"link":b||q.test(r)||I.test(h)?"download":f?0:"link"}if(r)return{type:r,href:h}}}}function ve(b,f,h,q){if(b=D.buildInteractionRequestParams(b,f,h,q))return Fa(b,null,"contentInteraction")}function we(b,f){if(!b||!f)return!1;var h=D.findTargetNode(b);if(D.shouldIgnoreInteraction(h))return!1;
if(b=h=D.findTargetNodeNoDefault(b))b=!(h&&f&&(h.contains?h.contains(f):h===f||h.compareDocumentPosition&&h.compareDocumentPosition(f)&16));return b?!1:!0}function af(b){return function(f){if(b){var h=D.findParentContentNode(b),q;f&&(q=f.target||f.srcElement);q||=b;if(we(h,q)){if(!h)return!1;f=D.findTargetNode(h);if(!f||D.shouldIgnoreInteraction(f))return!1;f=se(f);return Bd&&f&&f.type?f.type:ic.trackContentInteractionNode(q,"click")}}}}function Cd(b){var f;if((f=D.collectContent(b))&&f.length){var h;
for(h=0;h<f.length;h++){var q;b:{var r,C=f[h];if(Kb&&Kb.length)for(r=0;r<Kb.length;r++)if((q=Kb[r])&&q.name===C.name&&q.piece===C.piece&&q.target===C.target){q=!0;break b}q=!1}q?(f.splice(h,1),h--):Kb.push(f[h])}if(f&&f.length){if(b&&b.length)for(h=0;h<b.length;h++)(q=D.findTargetNode(b[h]))&&!q.contentInteractionTrackingSetupDone&&(q.contentInteractionTrackingSetupDone=!0,R(q,"click",af(q)));q=[];for(h=0;h<f.length;h++)(b=Fa(D.buildImpressionRequestParams(f[h].name,f[h].piece,f[h].target),void 0,
"contentImpressions"))&&q.push(b);f=q}else f=[]}else f=[];return f}function xe(b){if(!b||!b.length)return[];var f;for(f=0;f<b.length;f++)D.isNodeVisible(b[f])||(b.splice(f,1),f--);return b&&b.length?Cd(b):[]}function ye(b,f,h,q,r,C){if(!A(b)||!A(f))return L("Error while logging event: Parameters `category` and `action` must not be empty or filled with whitespaces"),!1;b="e_c="+N(b)+"&e_a="+N(f)+(m(h)?"&e_n="+N(h):"")+(m(q)?"&e_v="+N(q):"")+"&ca=1";r=Fa(b,r,"event");Ia(r,la,C)}function ze(b,f,h,q,
r){f=f+"="+N(g(b));a:{if(r){var C=D.findParentContentNode(r);if(C&&we(C,r)&&(r=D.buildContentBlock(C))){!r.target&&b&&(r.target=b);b=D.buildInteractionRequestParams("click",r.name,r.piece,r.target);break a}}b=void 0}b&&(f+="&"+b);h=Fa(f,h,"link");Ia(h,la,q)}function Ae(b,f){return""!==b?b+f.charAt(0).toUpperCase()+f.slice(1):f}function sa(b){var f,h,q=["","webkit","ms","moz"];if(!Be)for(h=0;h<q.length;h++){var r=q[h];if(Object.prototype.hasOwnProperty.call(M,Ae(r,"hidden"))){"prerender"===M[Ae(r,
"visibilityState")]&&(f=!0);break}}f?R(M,r+"visibilitychange",function I(){M.removeEventListener(r+"visibilitychange",I,!1);b()}):b()}function Ce(){var b=ic.getVisitorId(),f=Math.floor((new Date).getTime()/1E3),h=he();return b+(String(f)+h)}function Dd(b){var f=se(b);if(f&&f.type)f.href=p(f.href),ze(f.href,f.type,void 0,null,b);else if(dc){b=re(b);f=b;var h=J.getAttributeValueFromNode(f,"href");h?(h=String(h),0!==h.indexOf("//")&&0!==h.indexOf("http://")&&0!==h.indexOf("https://")?f=!1:(h=f.pathname||
l(f.href),f=(f.hostname||za(f.href)).toLowerCase(),f=t(f,h)&&!k(cc,O(f))?!0:!1)):f=!1;if(f&&b&&J.hasNodeAttribute(b,"href")&&(h=J.getAttributeValueFromNode(b,"href"))&&(!ma||!h||0!==String(h).indexOf(ma))&&ic.getVisitorId()){h=Cb(h,"pk_vid");f=Ce();var q=String(h);f||="";var r=q.indexOf("#"),C=q.length;-1===r&&(r=C);h=q.substr(0,r);q=q.substr(r,C-r);-1===h.indexOf("?")?h+="?":Ga(h,"?")||(h+="&");h=h+N("pk_vid")+"="+N(f)+q;J.setAnyAttribute(b,"href",h)}}}function Qc(b){return function(f){f=f||B.event;
var h=f.target||f.srcElement;for(var q=h.nodeName,r=Ad(De,"ignore");"A"!==q&&"AREA"!==q&&h&&h.parentNode;)h=h.parentNode,q=h.nodeName;h=!h||"A"!==q&&"AREA"!==q||r.test(h.className)?void 0:h;if(h){a:{q=f;r=q.which;var C=typeof q.button;r||"undefined"===C||(M.all&&!M.addEventListener?q.button&1?r=1:q.button&2?r=3:q.button&4&&(r=2):0===q.button||"0"===q.button?r=1:q.button&1?r=2:q.button&2&&(r=3));switch(r){case 1:q="left";break a;case 2:q="middle";break a;case 3:q="right";break a}q=void 0}"click"===
f.type?(f=!1,b&&"middle"===q&&(f=!0),h&&!f&&Dd(h)):"mousedown"===f.type?"middle"===q&&h?(Rc=q,Sc=h):Rc=Sc=null:"mouseup"===f.type?(q===Rc&&h===Sc&&Dd(h),Rc=Sc=null):"contextmenu"===f.type&&Dd(h)}}}function Ee(b,f,h){"undefined"===typeof f&&(f=!0);R(b,"click",Qc(f),h);f&&(R(b,"mouseup",Qc(f),h),R(b,"mousedown",Qc(f),h),R(b,"contextmenu",Qc(f),h))}function bf(b,f,h){function q(){r=!0}if(jc)return!0;jc=!0;var r=!1,C,I;Y(function(){function V(ba){setTimeout(function(){jc&&(r=!1,h.trackVisibleContentImpressions(),
V(ba))},ba)}function U(ba){setTimeout(function(){jc&&(r&&(r=!1,h.trackVisibleContentImpressions()),U(ba))},ba)}if(b){C=["scroll","resize"];for(I=0;I<C.length;I++)M.addEventListener?M.addEventListener(C[I],q,!1):B.attachEvent("on"+C[I],q);U(100)}f&&0<f&&(f=parseInt(f,10),V(f))})}var ic=this,Ed=yc(M.domain,B.location.href,uc()),cc=O(Ed[0]),ec=p(Ed[1]),Gb=p(Ed[2]),Fe=!1,jd="GET",de="application/x-www-form-urlencoded; charset=UTF-8",ma=a||"",Fd="",yd="",Kc="",ua=c||"",gc="",Vb="",Xb,Tc="",Jb="7z aac apk arc arj asf asx avi azw3 bin csv deb dmg doc docx epub exe flv gif gz gzip hqx ibooks jar jpg jpeg js mobi mp2 mp3 mp4 mpg mpeg mov movie msi msp odb odf odg ods odt ogg ogv pdf phps png ppt pptx qt qtm ra ram rar rpm rtf sea sit tar tbz tbz2 bz bz2 tgz torrent txt wav wma wmv wpd xls xlsx xml z zip".split(" "),
hb=[cc],De=[],ac=[".paypal.com"],id=[],te=[],ue=[],la=500,Fc=!0,Rb,ce,Ib,Lc="pk_campaign mtm_campaign piwik_campaign heatmap_campaign utm_campaign utm_source utm_medium".split(" "),Mc=["pk_kwd","mtm_kwd","piwik_kwd","heatmap_kwd","utm_term"],Hc="_pk_",sd=180,oa,na,Ua=!1,Va="Lax",Da=!1,bc,Be,vd,je=339552E5,hc=18E5,oe=15768E6,wd=!0,xd=!1,fc=!1,pe=!1,ra=!1,zd,Nc={},Oc={},Hb={},vb={},fa={},jb={},Sa={},Eb=[],ld=!1,Kb=[],jc=!1,Tb=!1,Bd=!1,dc=!1,Sb=!1;zc();var Cc=null,Dc=null,Rc,Sc,pd=Db,ge,Pc,Ge=!1,He=
0,ud=["id","ses","cvar","ref"],md=!1,Ta=null,ub=[],Gd=[],Ie=F++,Ec=!1,Ub=!0;try{Tc=M.title}catch(b){Tc=""}Ta=!e("mtm_consent_removed");var kd=function(){var b=new Date;b=b.getTime();return Dc?Dc+Rb<=b?(ic.ping(),!0):!1:!1};var pa={enabled:!0,requests:[],timeout:null,interval:2500,sendRequests:function(){var b=this.requests;this.requests=[];1===b.length?Ia(b[0],la):Gc(b,la)},canQueue:function(){return!P&&this.enabled},pushMultiple:function(b){if(this.canQueue()){var f;for(f=0;f<b.length;f++)this.push(b[f])}else Gc(b,
la)},push:function(b){b&&(this.canQueue()?(pa.requests.push(b),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.timeout=setTimeout(function(){pa.timeout=null;pa.sendRequests()},pa.interval),b="RequestQueue"+Ie,Object.prototype.hasOwnProperty.call(ya,b)||(ya[b]={unload:function(){pa.timeout&&clearTimeout(pa.timeout);pa.sendRequests()}})):Ia(b,la))}};od();this.hasConsent=function(){return Ta};this.getVisitorInfo=function(){e(Ja("id"))||Ic();return ie()};this.getVisitorId=function(){return this.getVisitorInfo()[1]};
this.getAttributionInfo=function(){return Wb()};this.getAttributionCampaignName=function(){return Wb()[0]};this.getAttributionCampaignKeyword=function(){return Wb()[1]};this.getAttributionReferrerTimestamp=function(){return Wb()[2]};this.getAttributionReferrerUrl=function(){return Wb()[3]};this.setTrackerUrl=function(b){ma=b};this.getTrackerUrl=function(){return ma};this.getHeatmapUrl=function(){return Ca(this.getTrackerUrl(),Fd)};this.getPiwikUrl=function(){return this.getHeatmapUrl()};this.addTracker=
function(b,f){m(b)&&null!==b||(b=this.getTrackerUrl());b=new Na(b,f);ja.push(b);ca.trigger("TrackerAdded",[this]);return b};this.getSiteId=function(){return ua};this.setSiteId=function(b){ua=b};this.resetUserId=function(){gc=""};this.setUserId=function(b){A(b)&&(gc=b)};this.setVisitorId=function(b){var f=/[0-9A-Fa-f]{16}/g;z(b)&&f.test(b)?Vb=b:L("Invalid visitorId set"+b)};this.getUserId=function(){return gc};this.setCustomData=function(b,f){w(b)?Ib=b:(Ib||={},Ib[b]=f)};this.getCustomData=function(){return Ib};
this.setCustomRequestProcessing=function(b){zd=b};this.appendToTrackingUrl=function(b){yd=b};this.getRequest=function(b){return Fa(b)};this.addPlugin=function(b,f){ya[b]=f};this.setCustomDimension=function(b,f){b=parseInt(b,10);0<b&&(m(f)||(f=""),z(f)||(f=String(f)),Hb[b]=f)};this.getCustomDimension=function(b){b=parseInt(b,10);if(0<b&&Object.prototype.hasOwnProperty.call(Hb,b))return Hb[b]};this.deleteCustomDimension=function(b){b=parseInt(b,10);0<b&&delete Hb[b]};this.setCustomVariable=function(b,
f,h,q){m(q)||(q="visit");m(f)&&(m(h)||(h=""),0<b&&(f=z(f)?f:String(f),h=z(h)?h:String(h),f=[f.slice(0,200),h.slice(0,200)],"visit"===q||2===q?(!1===ra&&(ra=rd()),ra[b]=f):"page"===q||3===q?Nc[b]=f:"event"===q&&(Oc[b]=f)))};this.getCustomVariable=function(b,f){m(f)||(f="visit");if("page"===f||3===f)var h=Nc[b];else if("event"===f)h=Oc[b];else if("visit"===f||2===f)!1===ra&&(ra=rd()),h=ra[b];return!m(h)||h&&""===h[0]?!1:h};this.deleteCustomVariable=function(b,f){this.getCustomVariable(b,f)&&this.setCustomVariable(b,
"","",f)};this.deleteCustomVariables=function(b){if("page"===b||3===b)Nc={};else if("event"===b)Oc={};else if("visit"===b||2===b)ra={}};this.storeCustomVariablesInCookie=function(){pe=!0};this.setLinkTrackingTimer=function(b){la=b};this.getLinkTrackingTimer=function(){return la};this.setDownloadExtensions=function(b){z(b)&&(b=b.split("|"));Jb=b};this.addDownloadExtensions=function(b){var f;z(b)&&(b=b.split("|"));for(f=0;f<b.length;f++)Jb.push(b[f])};this.removeDownloadExtensions=function(b){var f,
h=[];z(b)&&(b=b.split("|"));for(f=0;f<Jb.length;f++)-1===Ba(b,Jb[f])&&h.push(Jb[f]);Jb=h};this.setDomains=function(b){hb=z(b)?[b]:b;b=!1;var f=0;for(f;f<hb.length;f++){var h=String(hb[f]);if(k(cc,O(h))){b=!0;break}if((h=l(h))&&"/"!==h&&"/*"!==h){b=!0;break}}b||hb.push(cc)};this.setExcludedReferrers=function(b){ac=z(b)?[b]:b};this.enableCrossDomainLinking=function(){dc=!0};this.disableCrossDomainLinking=function(){dc=!1};this.isCrossDomainLinkingEnabled=function(){return dc};this.setCrossDomainLinkingTimeout=
function(b){sd=b};this.getCrossDomainLinkingUrlParameter=function(){return N("pk_vid")+"="+N(Ce())};this.setIgnoreClasses=function(b){De=z(b)?[b]:b};this.setRequestMethod=function(b){jd=b?String(b).toUpperCase():"GET";"GET"===jd&&this.disableAlwaysUseSendBeacon()};this.setRequestContentType=function(b){de=b||"application/x-www-form-urlencoded; charset=UTF-8"};this.setGenerationTimeMs=function(b){L("setGenerationTimeMs is no longer supported since HeatmapTracking 4. The call will be ignored. The replacement is setPagePerformanceTiming.")};
this.setPagePerformanceTiming=function(b,f,h,q,r,C){b={pf_net:b,pf_srv:f,pf_tfr:h,pf_dm1:q,pf_dm2:r,pf_onl:C};try{f=b;h={};for(var I in f)f.hasOwnProperty(I)&&m(f[I])&&(h[I]=f[I]);I=b=h;b={};for(var V in I)if(I.hasOwnProperty(V))if(/^[0-9][0-9]*(\.[0-9]+)?$/.test(I[V]))b[V]=Math.round(I[V]);else throw Error('Parameter "'+V+'" provided value "'+I[V]+'" is not valid. Please provide a numeric value.');V=b;I="";for(var U in V)V.hasOwnProperty(U)&&(I+="&"+N(U)+"="+N(V[U]));Kc=I;""===Kc?L("setPagePerformanceTiming() called without parameters. This function needs to be called with at least one performance parameter."):
(fc=!1,xd=!0)}catch(ba){L("setPagePerformanceTiming: "+ba.toString())}};this.setReferrerUrl=function(b){Gb=b};this.setCustomUrl=function(b){var f=ec;if(vc(b))Xb=b;else if("/"===b.slice(0,1))Xb=vc(f)+"://"+za(f)+b;else{f=g(f);var h=f.indexOf("?");0<=h&&(f=f.slice(0,h));h=f.lastIndexOf("/");h!==f.length-1&&(f=f.slice(0,h+1));Xb=f+b}};this.getCurrentUrl=function(){return Xb||ec};this.setDocumentTitle=function(b){Tc=b};this.setPageViewId=function(b){Pc=b;Ge=!0};this.setAPIUrl=function(b){Fd=b};this.setDownloadClasses=
function(b){te=z(b)?[b]:b};this.setLinkClasses=function(b){ue=z(b)?[b]:b};this.setCampaignNameKey=function(b){Lc=z(b)?[b]:b};this.setCampaignKeywordKey=function(b){Mc=z(b)?[b]:b};this.discardHashTag=function(b){ce=b};this.setCookieNamePrefix=function(b){Hc=b;ra&&=rd()};this.setCookieDomain=function(b){var f=O(b),h;if(h=!Da)h=Hc+"testcookie_domain",d(h,"testvalue",1E4,null,f,Ua,Va),"testvalue"===e(h)?(Fb(h,null,f),h=!0):h=!1,h=!h;h?L("Can't write cookie on domain "+b):(oa=f,od())};this.setExcludedQueryParams=
function(b){id=z(b)?[b]:b};this.getCookieDomain=function(){return oa};this.hasCookies=function(){return"1"===nd()};this.setSessionCookie=function(b,f,h){if(!b)throw Error("Missing cookie name");m(h)||(h=hc);ud.push(b);d(Ja(b),f,h,na,oa,Ua,Va)};this.getCookie=function(b){b=e(Ja(b));return 0===b?null:b};this.setCookiePath=function(b){na=b;od()};this.getCookiePath=function(b){return na};this.setVisitorCookieTimeout=function(b){je=1E3*b};this.setSessionCookieTimeout=function(b){hc=1E3*b};this.getSessionCookieTimeout=
function(){return hc};this.setReferralCookieTimeout=function(b){oe=1E3*b};this.setConversionAttributionFirstReferrer=function(b){vd=b};this.setSecureCookie=function(b){b&&"https:"!==location.protocol?L("Error in setSecureCookie: You cannot use `Secure` on http."):Ua=b};this.setCookieSameSite=function(b){b=String(b);b=b.charAt(0).toUpperCase()+b.toLowerCase().slice(1);"None"!==b&&"Lax"!==b&&"Strict"!==b?L("Ignored value for sameSite. Please use either Lax, None, or Strict."):("None"===b&&("https:"===
location.protocol?this.setSecureCookie(!0):(L("sameSite=None cannot be used on http, reverted to sameSite=Lax."),b="Lax")),Va=b)};this.disableCookies=function(){Da=!0;ua&&Jc()};this.areCookiesEnabled=function(){return!Da};this.setCookieConsentGiven=function(){if(Da&&!bc&&(Da=!1,Ub=!0,ua&&Ec)){Ic();var b=Fa("ping=1",null,"ping");Ia(b,la)}};this.requireCookieConsent=function(){if(this.getRememberedCookieConsent())return!1;this.disableCookies();return!0};this.getRememberedCookieConsent=function(){return e("mtm_cookie_consent")};
this.forgetCookieConsentGiven=function(){Fb("mtm_cookie_consent",na,oa);this.disableCookies()};this.rememberCookieConsentGiven=function(b){b=b?36E5*b:94608E7;this.setCookieConsentGiven();var f=(new Date).getTime();d("mtm_cookie_consent",f,b,na,oa,Ua,Va)};this.deleteCookies=function(){Jc()};this.setDoNotTrack=function(b){var f=W.doNotTrack||W.msDoNotTrack;(bc=b&&("yes"===f||"1"===f))&&this.disableCookies()};this.alwaysUseSendBeacon=function(){Fc=!0};this.disableAlwaysUseSendBeacon=function(){Fc=!1};
this.addListener=function(b,f){Ee(b,f,!1)};this.enableLinkTracking=function(b){Bd||(Bd=!0,S(function(){Ee(M.body,b,!0)}))};this.enableJSErrorTracking=function(){if(!Fe){Fe=!0;var b=B.onerror;B.onerror=function(f,h,q,r,C){sa(function(){var I=h+":"+q;r&&(I+=":"+r);-1===Ba(Gd,"JavaScript Errors"+I+f)&&(Gd.push("JavaScript Errors"+I+f),ye("JavaScript Errors",I,f))});return b?b(f,h,q,r,C):!1}}};this.disablePerformanceTracking=function(){wd=!1};this.enableHeartBeatTimer=function(b){b=Math.max(b||15,5);
Rb=1E3*b;null!==Dc&&xc()};this.disableHeartBeatTimer=function(){if(Rb||Sb)B.removeEventListener?(B.removeEventListener("focus",Aa),B.removeEventListener("blur",fb),B.removeEventListener("visibilitychange",qb)):B.detachEvent&&(B.detachEvent("onfocus",Aa),B.detachEvent("onblur",fb),B.detachEvent("visibilitychange",qb));Rb=null;Sb=!1};this.killFrame=function(){B.location!==B.top.location&&(B.top.location=B.location)};this.redirectFile=function(b){"file:"===B.location.protocol&&(B.location=b)};this.setCountPreRendered=
function(b){Be=b};this.trackGoal=function(b,f,h,q){sa(function(){var r=Fa("idgoal="+b+(f?"&revenue="+f:""),h,"goal");Ia(r,la,q)})};this.trackLink=function(b,f,h,q){sa(function(){ze(b,f,h,q)})};this.getNumTrackedPageViews=function(){return He};this.trackPageView=function(b,f,h){Kb=[];ub=[];Gd=[];Ha(ua)?sa(function(){rb(ma,Fd,ua)}):sa(function(){He++;if(!Ge){if("undefined"!==window.hrs_pvidp)var q=window.hrs_pvidp;else{q="";var r;for(r=0;6>r;r++)q+="abcdefghijklmnopqrstuvwxyz0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*
Math.random()))}Pc=q}q=(q=b||Tc)&&q.text?q.text:q;z(q)||(r=M.getElementsByTagName("title"))&&m(r[0])&&(q=r[0].text);q=Fa("action_name="+N(q),f,"log");wd&&!fc&&(q=le(q));Ia(q,la,h)})};this.disableBrowserFeatureDetection=function(){Ub=!1};this.enableBrowserFeatureDetection=function(){Ub=!0};this.trackAllContentImpressions=function(){Ha(ua)||sa(function(){S(function(){var b=D.findContentNodes();b=Cd(b);pa.pushMultiple(b)})})};this.trackVisibleContentImpressions=function(b,f){Ha(ua)||(m(b)||(b=!0),m(f)||
(f=750),bf(b,f,this),sa(function(){Y(function(){var h=D.findContentNodes();h=xe(h);pa.pushMultiple(h)})}))};this.trackContentImpression=function(b,f,h){Ha(ua)||(b=Ya(b),f=Ya(f),h=Ya(h),b&&(f=f||"Unknown",sa(function(){var q=D.buildImpressionRequestParams(b,f,h);q=Fa(q,null,"contentImpression");pa.push(q)})))};this.trackContentImpressionsWithinNode=function(b){!Ha(ua)&&b&&sa(function(){jc?Y(function(){var f=D.findContentNodesWithinNode(b);f=xe(f);pa.pushMultiple(f)}):S(function(){var f=D.findContentNodesWithinNode(b);
f=Cd(f);pa.pushMultiple(f)})})};this.trackContentInteraction=function(b,f,h,q){Ha(ua)||(b=Ya(b),f=Ya(f),h=Ya(h),q=Ya(q),b&&f&&(h=h||"Unknown",sa(function(){var r=ve(b,f,h,q);r&&pa.push(r)})))};this.trackContentInteractionNode=function(b,f){if(!Ha(ua)&&b){var h=null;sa(function(){var q=f;if(b){var r=D.findParentContentNode(b);(r=D.buildContentBlock(r))?(q||="Unknown",h=ve(q,r.name,r.piece,r.target)):h=void 0}else h=void 0;h&&pa.push(h)});return h}};this.logAllContentBlocksOnPage=function(){var b=D.findContentNodes();
b=D.collectContent(b);"undefined"!==typeof console&&console&&console.log&&X&&console.log(b)};this.trackEvent=function(b,f,h,q,r,C){sa(function(){ye(b,f,h,q,r,C)})};this.trackSiteSearch=function(b,f,h,q){Kb=[];sa(function(){var r=Fa("search="+N(b)+(f?"&search_cat="+N(f):"")+(m(h)?"&search_count="+h:""),q,"sitesearch");Ia(r,la)})};this.setEcommerceView=function(b,f,h,q){vb={};A(h)&&(h=String(h));m(h)&&null!==h&&!1!==h&&h.length?h instanceof Array&&(h=B.JSON.stringify(h)):h="";vb._pkc=h;m(q)&&null!==
q&&!1!==q&&String(q).length&&(vb._pkp=q);if(A(b)||A(f))A(b)&&(vb._pks=b),A(f)||(f=""),vb._pkn=f};this.getEcommerceItems=function(){return JSON.parse(JSON.stringify(fa))};this.addEcommerceItem=function(b,f,h,q,r){A(b)&&(fa[b]=[String(b),f,h,q,r])};this.removeEcommerceItem=function(b){A(b)&&(b=String(b),delete fa[b])};this.clearEcommerceCart=function(){fa={}};this.trackEcommerceOrder=function(b,f,h,q,r,C){String(b).length&&m(f)&&qe(b,f,h,q,r,C)};this.trackEcommerceCartUpdate=function(b){m(b)&&qe("",
b,"","","","")};this.trackRequest=function(b,f,h,q){sa(function(){var r=Fa(b,f,q);Ia(r,la,h)})};this.ping=function(){this.trackRequest("ping=1",null,null,"ping")};this.disableQueueRequest=function(){pa.enabled=!1};this.setRequestQueueInterval=function(b){if(1E3>b)throw Error("Request queue interval needs to be at least 1000ms");pa.interval=b};this.queueRequest=function(b){sa(function(){var f=Fa(b);pa.push(f)})};this.isConsentRequired=function(){return md};this.getRememberedConsent=function(){var b=
e("mtm_consent");return e("mtm_consent_removed")?(b&&Fb("mtm_consent",na,oa),null):b&&0!==b?b:null};this.hasRememberedConsent=function(){return!!this.getRememberedConsent()};this.requireConsent=function(){md=!0;(Ta=this.hasRememberedConsent())||(Da=!0);da++;ya["CoreConsent"+da]={unload:function(){Ta||Jc()}}};this.setConsentGiven=function(b){Ub=Ta=!0;Fb("mtm_consent_removed",na,oa);var f;for(f=0;f<ub.length;f++){var h=typeof ub[f];"string"===h?Ia(ub[f],la):"object"===h&&Gc(ub[f],la)}ub=[];m(b)&&!b||
this.setCookieConsentGiven()};this.rememberConsentGiven=function(b){b=b?36E5*b:94608E7;this.setConsentGiven(!0);var f=(new Date).getTime();d("mtm_consent",f,b,na,oa,Ua,Va)};this.forgetConsentGiven=function(b){b=b?36E5*b:94608E7;Fb("mtm_consent",na,oa);d("mtm_consent_removed",(new Date).getTime(),b,na,oa,Ua,Va);this.forgetCookieConsentGiven();this.requireConsent()};this.isUserOptedOut=function(){return!Ta};this.optUserOut=this.forgetConsentGiven;this.forgetUserOptOut=function(){this.setConsentGiven(!1)};
Y(function(){setTimeout(function(){xd=!0},0)});ca.trigger("TrackerSetup",[this]);ca.addPlugin("TrackerVisitorIdCookie"+Ie,{unload:function(){Ec||(Ic(),ne())}})}function kc(){return{push:Q}}function wb(a,c){a=new Na(a,c);ja.push(a);c=ha;var e=G,d={},g,k;for(g=0;g<e.length;g++){var l=e[g];d[l]=1;for(k=0;k<c.length;k++)if(c[k]&&c[k][0]){var n=c[k][0];l===n&&(Q(c[k]),delete c[k],1<d[n]&&"addTracker"!==n&&"enableLinkTracking"!==n&&L("The method "+n+' is registered more than once in "_heatmap_paq" variable.'),
d[n]++)}}ha=c;for(Oa=0;Oa<ha.length;Oa++)ha[Oa]&&Q(ha[Oa]);ha=new kc;ca.trigger("TrackerAdded",[a]);return a}var Ra,ya={},va={},M=document,W=navigator,kb=screen,B=window,Ea=B.performance||B.mozPerformance||B.msPerformance||B.webkitPerformance,N=B.encodeURIComponent,db=B.decodeURIComponent,ja=[],Oa,eb=[],da=0,ib=0,F=0,P=!1,J={htmlCollectionToArray:function(a){var c=[],e;if(!a||!a.length)return c;for(e=0;e<a.length;e++)c.push(a[e]);return c},find:function(a){if(!document.querySelectorAll||!a)return[];
a=document.querySelectorAll(a);return this.htmlCollectionToArray(a)},findMultiple:function(a){if(!a||!a.length)return[];var c,e=[];for(c=0;c<a.length;c++){var d=this.find(a[c]);e=e.concat(d)}return e=this.makeNodesUnique(e)},findNodesByTagName:function(a,c){if(!a||!c||!a.getElementsByTagName)return[];a=a.getElementsByTagName(c);return this.htmlCollectionToArray(a)},makeNodesUnique:function(a){var c=[].concat(a);a.sort(function(l,n){if(l===n)return 0;l=Ba(c,l);n=Ba(c,n);return l===n?0:l>n?-1:1});if(1>=
a.length)return a;var e=0,d=0,g=[],k;for(k=a[e++];k;)k===a[e]&&(d=g.push(e)),k=a[e++]||null;for(;d--;)a.splice(g[d],1);return a},getAttributeValueFromNode:function(a,c){if(this.hasNodeAttribute(a,c)){if(a&&a.getAttribute)return a.getAttribute(c);if(a&&a.attributes&&"undefined"!==typeof a.attributes[c]){if(a.attributes[c].value)return a.attributes[c].value;if(a.attributes[c].nodeValue)return a.attributes[c].nodeValue;var e=a.attributes;if(e){for(a=0;a<e.length;a++)if(e[a].nodeName===c)return e[a].nodeValue;
return null}}}},hasNodeAttributeWithValue:function(a,c){return!!this.getAttributeValueFromNode(a,c)},hasNodeAttribute:function(a,c){return a&&a.hasAttribute?a.hasAttribute(c):a&&a.attributes?"undefined"!==typeof a.attributes[c]:!1},hasNodeCssClass:function(a,c){return a&&c&&a.className&&(a="string"===typeof a.className?a.className.split(" "):[],-1!==Ba(a,c))?!0:!1},findNodesHavingAttribute:function(a,c,e){e||=[];if(!a||!c)return e;a=T(a);if(!a||!a.length)return e;var d;for(d=0;d<a.length;d++){var g=
a[d];this.hasNodeAttribute(g,c)&&e.push(g);e=this.findNodesHavingAttribute(g,c,e)}return e},findFirstNodeHavingAttribute:function(a,c){if(a&&c){if(this.hasNodeAttribute(a,c))return a;if((a=this.findNodesHavingAttribute(a,c))&&a.length)return a[0]}},findFirstNodeHavingAttributeWithValue:function(a,c){if(a&&c){if(this.hasNodeAttributeWithValue(a,c))return a;if((a=this.findNodesHavingAttribute(a,c))&&a.length){var e;for(e=0;e<a.length;e++)if(this.getAttributeValueFromNode(a[e],c))return a[e]}}},findNodesHavingCssClass:function(a,
c,e){e||=[];if(!a||!c)return e;if(a.getElementsByClassName)return c=a.getElementsByClassName(c),this.htmlCollectionToArray(c);a=T(a);if(!a||!a.length)return[];var d;for(d=0;d<a.length;d++){var g=a[d];this.hasNodeCssClass(g,c)&&e.push(g);e=this.findNodesHavingCssClass(g,c,e)}return e},findFirstNodeHavingClass:function(a,c){if(a&&c){if(this.hasNodeCssClass(a,c))return a;if((a=this.findNodesHavingCssClass(a,c))&&a.length)return a[0]}},isLinkElement:function(a){if(!a)return!1;a=String(a.nodeName).toLowerCase();
return-1!==Ba(["a","area"],a)},setAnyAttribute:function(a,c,e){a&&c&&(a.setAttribute?a.setAttribute(c,e):a[c]=e)}},D={CONTENT_ATTR:"data-track-content",CONTENT_CLASS:"heatmapTrackContent",LEGACY_CONTENT_CLASS:"piwikTrackContent",CONTENT_NAME_ATTR:"data-content-name",CONTENT_PIECE_ATTR:"data-content-piece",CONTENT_PIECE_CLASS:"heatmapContentPiece",LEGACY_CONTENT_PIECE_CLASS:"piwikContentPiece",CONTENT_TARGET_ATTR:"data-content-target",CONTENT_TARGET_CLASS:"heatmapContentTarget",LEGACY_CONTENT_TARGET_CLASS:"piwikContentTarget",
CONTENT_IGNOREINTERACTION_ATTR:"data-content-ignoreinteraction",CONTENT_IGNOREINTERACTION_CLASS:"heatmapContentIgnoreInteraction",LEGACY_CONTENT_IGNOREINTERACTION_CLASS:"piwikContentIgnoreInteraction",location:void 0,findContentNodes:function(){return J.findMultiple(["."+this.CONTENT_CLASS,"."+this.LEGACY_CONTENT_CLASS,"["+this.CONTENT_ATTR+"]"])},findContentNodesWithinNode:function(a){if(!a)return[];var c=J.findNodesHavingCssClass(a,this.CONTENT_CLASS);c=J.findNodesHavingCssClass(a,this.LEGACY_CONTENT_CLASS,
c);var e=J.findNodesHavingAttribute(a,this.CONTENT_ATTR);if(e&&e.length){var d;for(d=0;d<e.length;d++)c.push(e[d])}J.hasNodeAttribute(a,this.CONTENT_ATTR)?c.push(a):J.hasNodeCssClass(a,this.CONTENT_CLASS)?c.push(a):J.hasNodeCssClass(a,this.LEGACY_CONTENT_CLASS)&&c.push(a);return c=J.makeNodesUnique(c)},findParentContentNode:function(a){if(a)for(var c=0;a&&a!==M&&a.parentNode;){if(J.hasNodeAttribute(a,this.CONTENT_ATTR)||J.hasNodeCssClass(a,this.CONTENT_CLASS)||J.hasNodeCssClass(a,this.LEGACY_CONTENT_CLASS))return a;
a=a.parentNode;if(1E3<c)break;c++}},findPieceNode:function(a){var c;(c=J.findFirstNodeHavingAttribute(a,this.CONTENT_PIECE_ATTR))||(c=J.findFirstNodeHavingClass(a,this.CONTENT_PIECE_CLASS));c||=J.findFirstNodeHavingClass(a,this.LEGACY_CONTENT_PIECE_CLASS);return c?c:a},findTargetNodeNoDefault:function(a){if(a){var c=J.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_TARGET_ATTR);if(c||(c=J.findFirstNodeHavingAttribute(a,this.CONTENT_TARGET_ATTR))||(c=J.findFirstNodeHavingClass(a,this.CONTENT_TARGET_CLASS))||
(c=J.findFirstNodeHavingClass(a,this.LEGACY_CONTENT_TARGET_CLASS)))return c}},findTargetNode:function(a){var c=this.findTargetNodeNoDefault(a);return c?c:a},findContentName:function(a){if(a){var c=J.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_NAME_ATTR);if(c)return J.getAttributeValueFromNode(c,this.CONTENT_NAME_ATTR);if(c=this.findContentPiece(a))return this.removeDomainIfIsInLink(c);if(J.hasNodeAttributeWithValue(a,"title"))return J.getAttributeValueFromNode(a,"title");c=this.findPieceNode(a);
if(J.hasNodeAttributeWithValue(c,"title"))return J.getAttributeValueFromNode(c,"title");a=this.findTargetNode(a);if(J.hasNodeAttributeWithValue(a,"title"))return J.getAttributeValueFromNode(a,"title")}},findContentPiece:function(a){if(a){var c=J.findFirstNodeHavingAttributeWithValue(a,this.CONTENT_PIECE_ATTR);if(c)return J.getAttributeValueFromNode(c,this.CONTENT_PIECE_ATTR);a=this.findPieceNode(a);if(a=this.findMediaUrlInNode(a))return this.toAbsoluteUrl(a)}},findContentTarget:function(a){if(a){var c=
this.findTargetNode(a);if(J.hasNodeAttributeWithValue(c,this.CONTENT_TARGET_ATTR))return J.getAttributeValueFromNode(c,this.CONTENT_TARGET_ATTR);if(J.hasNodeAttributeWithValue(c,"href"))return a=J.getAttributeValueFromNode(c,"href"),this.toAbsoluteUrl(a);a=this.findPieceNode(a);if(J.hasNodeAttributeWithValue(a,"href"))return a=J.getAttributeValueFromNode(a,"href"),this.toAbsoluteUrl(a)}},isSameDomain:function(a){if(!a||!a.indexOf)return!1;if(0===a.indexOf(this.getLocation().origin))return!0;a=a.indexOf(this.getLocation().host);
return 8>=a&&0<=a?!0:!1},removeDomainIfIsInLink:function(a){a&&a.search&&-1!==a.search(RegExp("^https?://[^/]+"))&&this.isSameDomain(a)&&((a=a.replace(RegExp("^.*//[^/]+"),""))||(a="/"));return a},findMediaUrlInNode:function(a){if(a){var c=a.nodeName.toLowerCase();if(-1!==Ba(["img","embed","video","audio"],c)&&J.findFirstNodeHavingAttributeWithValue(a,"src"))return a=J.findFirstNodeHavingAttributeWithValue(a,"src"),J.getAttributeValueFromNode(a,"src");if("object"===c&&J.hasNodeAttributeWithValue(a,
"data"))return J.getAttributeValueFromNode(a,"data");if("object"===c){if((c=J.findNodesByTagName(a,"param"))&&c.length){var e;for(e=0;e<c.length;e++)if("movie"===J.getAttributeValueFromNode(c[e],"name")&&J.hasNodeAttributeWithValue(c[e],"value"))return J.getAttributeValueFromNode(c[e],"value")}if((a=J.findNodesByTagName(a,"embed"))&&a.length)return this.findMediaUrlInNode(a[0])}}},trim:function(a){return Ya(a)},isOrWasNodeInViewport:function(a){if(!a||!a.getBoundingClientRect||1!==a.nodeType)return!0;
var c=a.getBoundingClientRect(),e=M.documentElement||{},d=0>c.top;d&&a.offsetTop&&(d=0<a.offsetTop+c.height);a=e.clientWidth;B.innerWidth&&a>B.innerWidth&&(a=B.innerWidth);e=e.clientHeight;B.innerHeight&&e>B.innerHeight&&(e=B.innerHeight);return(0<c.bottom||d)&&0<c.right&&c.left<a&&(c.top<e||d)},isNodeVisible:function(a){var c=gb(a);a=this.isOrWasNodeInViewport(a);return c&&a},buildInteractionRequestParams:function(a,c,e,d){var g="";a&&(g+="c_i="+N(a));c&&(g&&(g+="&"),g+="c_n="+N(c));e&&(g&&(g+="&"),
g+="c_p="+N(e));d&&(g&&(g+="&"),g+="c_t="+N(d));g&&(g+="&ca=1");return g},buildImpressionRequestParams:function(a,c,e){a="c_n="+N(a)+"&c_p="+N(c);e&&(a+="&c_t="+N(e));a&&(a+="&ca=1");return a},buildContentBlock:function(a){if(a){var c=this.findContentName(a),e=this.findContentPiece(a);a=this.findContentTarget(a);c=this.trim(c);e=this.trim(e);a=this.trim(a);return{name:c||"Unknown",piece:e||"Unknown",target:a||""}}},collectContent:function(a){if(!a||!a.length)return[];var c=[],e;for(e=0;e<a.length;e++){var d=
this.buildContentBlock(a[e]);m(d)&&c.push(d)}return c},setLocation:function(a){this.location=a},getLocation:function(){var a=this.location||B.location;a.origin||(a.origin=a.protocol+"//"+a.hostname+(a.port?":"+a.port:""));return a},toAbsoluteUrl:function(a){return a&&String(a)===a||""===a?""===a?this.getLocation().href:-1!==a.search(/^\/\//)?this.getLocation().protocol+a:-1!==a.search(/:\/\//)?a:0===a.indexOf("#")||0===a.indexOf("?")?this.getLocation().origin+this.getLocation().pathname+a:0===a.search("^[a-zA-Z]{2,11}:")?
a:-1!==a.search(/^\//)?this.getLocation().origin+a:this.getLocation().origin+this.getLocation().pathname.match(RegExp("(.*/)"))[0]+a:a},isUrlToCurrentDomain:function(a){a=this.toAbsoluteUrl(a);if(!a)return!1;var c=this.getLocation().origin;return c===a?!0:0===String(a).indexOf(c)?":"===String(a).substr(c.length,1)?!1:!0:!1},setHrefAttribute:function(a,c){a&&c&&J.setAnyAttribute(a,"href",c)},shouldIgnoreInteraction:function(a){return J.hasNodeAttribute(a,this.CONTENT_IGNOREINTERACTION_ATTR)||J.hasNodeCssClass(a,
this.CONTENT_IGNOREINTERACTION_CLASS)||J.hasNodeCssClass(a,this.LEGACY_CONTENT_IGNOREINTERACTION_CLASS)?!0:!1}},G="addTracker forgetCookieConsentGiven requireCookieConsent disableBrowserFeatureDetection disableCookies setTrackerUrl setAPIUrl enableCrossDomainLinking setCrossDomainLinkingTimeout setSessionCookieTimeout setVisitorCookieTimeout setCookieNamePrefix setCookieSameSite setSecureCookie setCookiePath setCookieDomain setDomains setUserId setVisitorId setSiteId alwaysUseSendBeacon disableAlwaysUseSendBeacon enableLinkTracking setCookieConsentGiven requireConsent setConsentGiven disablePerformanceTracking setPagePerformanceTiming setExcludedQueryParams setExcludedReferrers".split(" ");
R(B,"beforeunload",function(a){P=!0;K("unload");a=new Date;a=a.getTimeAlias();3E3<Ra-a&&(Ra=a+3E3);if(Ra){do a=new Date;while(a.getTimeAlias()<Ra)}},!1);R(B,"visibilitychange",function(){},!1);R(B,"online",function(){m(W.serviceWorker)&&W.serviceWorker.ready.then(function(a){if(a&&a.sync)return a.sync.register("heatmapSync")},function(){})},!1);R(B,"message",function(a){function c(n){var t=M.getElementsByTagName("iframe");for(e=0;e<t.length;e++){var u=t[e],y=za(u.src);u.contentWindow&&m(u.contentWindow.postMessage)&&
y===d&&(y=JSON.stringify(n),u.contentWindow.postMessage(y,a.origin))}}if(a&&a.origin){var e,d=za(a.origin),g=ca.getAsyncTrackers();for(e=0;e<g.length;e++){var k=za(g[e].getHeatmapUrl());if(k===d){var l=g[e];break}}if(l){k=null;try{k=JSON.parse(a.data)}catch(n){return}if(k)if(m(k.maq_initial_value))c({maq_opted_in:k.maq_initial_value&&l.hasConsent(),maq_url:l.getHeatmapUrl(),maq_optout_by_default:l.isConsentRequired()});else if(m(k.maq_opted_in)){g=ca.getAsyncTrackers();for(e=0;e<g.length;e++)l=g[e],
k.maq_opted_in?l.rememberConsentGiven():l.forgetConsentGiven();c({maq_confirm_opted_in:l.hasConsent(),maq_url:l.getHeatmapUrl(),maq_optout_by_default:l.isConsentRequired()})}}}},!1);Date.prototype.getTimeAlias=Date.prototype.getTime;var ca={initialized:!1,JSON:B.JSON,DOM:{addEventListener:function(a,c,e,d){"undefined"===typeof d&&(d=!1);R(a,c,e,d)},onLoad:Y,onReady:S,isNodeVisible:gb,isOrWasNodeVisible:D.isNodeVisible},on:function(a,c){va[a]||(va[a]=[]);va[a].push(c)},off:function(a,c){if(va[a]){var e=
0;for(e;e<va[a].length;e++)va[a][e]===c&&va[a].splice(e,1)}},trigger:function(a,c,e){if(va[a]){var d=0;for(d;d<va[a].length;d++)va[a][d].apply(e||B,c)}},addPlugin:function(a,c){ya[a]=c},getTracker:function(a,c){m(c)||(c=this.getAsyncTracker().getSiteId());m(a)||(a=this.getAsyncTracker().getTrackerUrl());return new Na(a,c)},getAsyncTrackers:function(){return ja},addTracker:function(a,c){return ja.length?ja[0].addTracker(a,c):wb(a,c)},getAsyncTracker:function(a,c){if(ja&&ja.length&&ja[0])var e=ja[0];
else return wb(a,c);if(!c&&!a)return e;m(c)&&null!==c||!e||(c=e.getSiteId());m(a)&&null!==a||!e||(a=e.getTrackerUrl());var d=0;for(d;d<ja.length;d++)if((e=ja[d])&&String(e.getSiteId())===String(c)&&e.getTrackerUrl()===a)return e},retryMissedPluginCalls:function(){var a=eb;eb=[];var c=0;for(c;c<a.length;c++)Q(a[c])}};"function"===typeof define&&define.amd&&(define("piwik",[],function(){return ca}),define("heatmap",[],function(){return ca}));return ca}());(function(){function p(){if("object"!==typeof JSON||
"function"!==typeof Array.prototype.map||"function"!==typeof Array.prototype.filter||"function"!==typeof Array.prototype.indexOf||"function"!==typeof Element.prototype.getBoundingClientRect||-1!==["cc.bingj.com"].indexOf(O.domain)||-1!==String(O.domain).indexOf(".googleusercontent.com")||/alexa|baidu|bing|bot|crawler|curl|crawling|duckduckgo|facebookexternalhit|feedburner|googlebot|google web preview|linkdex|nagios|postrank|pingdom|robot|slurp|spider|yahoo!|yandex|wget/i.test(navigator.userAgent))return!0;
var a=String(O.referrer);return a&&0<=a.indexOf("module=Overlay&action=startOverlaySession")?!0:!1}function m(){gb&&"object"===typeof console&&("function"===typeof console.debug?console.debug.apply(console,arguments):"function"===typeof console.log&&X&&console.log.apply(console,arguments))}function w(a){return location.href&&-1<location.href.indexOf(a)}function z(a){return w("pk_hsr_forcesample=1")||w("pk_hsr_capturescreen=1")?!0:100<=a?!0:0>=a?!1:100*Math.random()<a}function A(a){"undefined"===typeof a.HeatmapSessionRecording&&
(a.HeatmapSessionRecording={myId:P.generateUniqueId(),hasReceivedConfig:!1,hasRequestedConfig:!1,hasTrackedData:!1,hasSentStopTrackingEvent:!1,enabled:!0,hsrIdsToGetDOM:[],disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},isEnabled:function(){return Ca&&this.enabled},numSentTrackingRequests:0,Heatmap:{data:[],hsrids:[],configs:[],addConfig:function(c){"object"===typeof c&&c.id&&(c.id=parseInt(c.id,10),this.configs.push(c),c.sample_rate="undefined"===typeof c.sample_rate?100:Math.min(parseFloat(c.sample_rate),
100),c.id&&z(c.sample_rate)&&va(c)&&(this.addHsrId(c.id),c.getdom||w("pk_hsr_capturescreen=1")||-1<Lb.indexOf("pk_trigger_client=1")||null!==localStorage.getItem("pk_trigger_client")))&&(a.HeatmapSessionRecording.hsrIdsToGetDOM.push(c.id),"complete"===document.readyState||"interactive"===document.readyState?Vc(["heatscreenreadiness.js"],function(){initializeReadinessDetector()}):Vc(["heatscreenreadiness.js"],function(){document.addEventListener("DOMContentLoaded",initializeReadinessDetector)}))},
addHsrId:function(c){this.hsrids.push(c);a.HeatmapSessionRecording.hasTrackedData&&D.recordData(1,{ty:7,id:c})}},Both:{data:[]},Session:{data:[],hsrids:[],configs:[],addConfig:function(c){if("object"===typeof c&&c.id){Ob=!1;c.id=parseInt(c.id,10);c.sample_rate="undefined"===typeof c.sample_rate?100:Math.min(parseFloat(c.sample_rate),100);c.conditionsMet=!1;this.configs.push(d);Yb.push(c);parseInt(a.getSiteId(),10);var e=ib.get(a,c.id);c.min_time=0;if(1===e&&location.href.includes("pk_hsr_forcesample")&&
!w("pk_hsr_forcesample=0"))c.sample_rate=100,c.activity=!1;else if(0===e||!ob.get_session){ib.set(a,c.id,0);Ob=!0;return}this.checkConditionsMet();if(c.min_time){var d=this;HeatmapTracker.DOM.onReady(function(){var g=1E3*c.min_time-P.getTimeSincePageReady()+120;0<=g?setTimeout(function(){d.checkConditionsMet()},g):d.checkConditionsMet()})}}},checkConditionsMet:function(){for(var c,e=0;e<Yb.length;e++)if((c=Yb[e])&&!c.conditionsMet){var d=!0;c.min_time&&c.min_time>=P.roundTimeToSeconds(P.getTimeSincePageReady())&&
(d=!1);c.activity&&!kb&&(kb=da.getDocumentHeight()<=da.getWindowSize().height);if(c.activity&&(!W||!kb)||w("pk_hsr_capturescreen=1")||navigator.userAgent.toLowerCase().includes("heatmap"))d=!1;d&&(c.conditionsMet=!0,va(c)&&("undefined"!==typeof c.keystrokes&&c.keystrokes&&"0"!==c.keystrokes||(M=!1),this.addHsrId(c.id),setInterval(Yc,1E4)))}},addHsrId:function(c){this.hsrids.push(c);a.HeatmapSessionRecording.hasTrackedData&&D.recordData(2,{ty:7,id:c});parseInt(a.getSiteId(),10);ib.set(a,c,1)}},addConfig:function(c){this.hasReceivedConfig=
this.hasRequestedConfig=!0;if("undefined"!==typeof c&&c){"object"===typeof c.heatmap&&this.Heatmap.addConfig(c.heatmap);var e;if(window._heatmapDEBUG&&window.heatmapBreakPoints["add-config-fn"].is_active)debugger;if(c.heatmaps&&P.isArray(c.heatmaps)&&c.heatmaps.length){for(e=0;e<c.heatmaps.length;e++)this.Heatmap.addConfig(c.heatmaps[e]);D.getPiwikTrackers().forEach(function(d){D.sendQueuedData(d)})}if(eb){window.heatmapRateLimiting&&!window.heatmapRateLimiting.recording.tracking&&(c.sessions=[]);
if(c.sessions&&P.isArray(c.sessions)&&c.sessions.length)for(e=0;e<c.sessions.length;e++)this.Session.addConfig(c.sessions[e]);"object"===typeof c.sessions&&this.Session.addConfig(c.sessions)}ca.checkAllConfigsReceived();if(window._heatmapDEBUG&&window.heatmapBreakPoints["add-config-fn"].is_active)debugger}else ca.checkAllConfigsReceived()}})}function E(){"object"===typeof window&&"function"===typeof T.piwikHeatmapSessionRecordingAsyncInit&&T.piwikHeatmapSessionRecordingAsyncInit();"object"===typeof window&&
"function"===typeof T.heatmapSessionRecordingAsyncInit&&T.heatmapSessionRecordingAsyncInit();let a=Oa;Oa=[];ja=!0;for(var c=0;c<a.length;c++)D.recordData(a[c].type,a[c].data);HeatmapTracker.DOM.onLoad(function(){"undefined"!==typeof window._heatmap_pre_clicks&&0<window._heatmap_pre_clicks.length&&(a=window._heatmap_pre_clicks.concat(a));window._heatmap_pre_clicks=[];zc=!0;setTimeout(function(){if(Ca){var e=D.getPiwikTrackers();e&&e.length&&HeatmapTracker.HeatmapSessionRecording.enable()}},100)})}
function L(){if("object"!==typeof window||"object"!==typeof T.HeatmapTracker||"object"!==typeof T.HeatmapTracker.HeatmapSessionRecording)if("object"!==typeof window||T.HeatmapTracker)db=HeatmapTracker.JSON,HeatmapTracker.HeatmapSessionRecording={utils:P,element:F,storage:ib,dom:da,tracking:D,recording:G,RECORD_TYPE_BOTH:0,RECORD_TYPE_HEATMAP:1,RECORD_TYPE_SESSION:2,configuration:ca,getIdView:function(){return Na},getIdloghsr:function(){return kc},disableRecordMovements:function(){Ha=!1},enableRecordMovements:function(){Ha=
!0},isRecordingMovements:function(){return Ha},disableAutoDetectNewPageView:function(){B=!1},enableAutoDetectNewPageView:function(){B=!0},isAutoDetectingNewPageViews:function(){return B},matchTrackerUrl:function(){return!0},setTrigger:function(a){if("function"===typeof a)va=a;else throw Error("trigger needs to be a method");},setNewPageView:function(a){if(!p()){m("new pageview");var c=this.isEnabled();c&&this.disable();Na="undefined"!==typeof window.hrs_vidp?window.hrs_vidp:P.generateUniqueId();kc=
"undefined"!==typeof window.generatedIdloghsr?window.generatedIdloghsr:window.globalFunctions.heatmapGenerateUniqueId(window.preHeatmapSiteId,"_idl");Ba=(new Date).getTime();Oa=[];kb=W=!1;this._resetTrackers();(c||N)&&this.enable(a)}},_resetTrackers:function(){D.getPiwikTrackers().forEach(function(a){var c=!0;"undefined"!==typeof a.HeatmapSessionRecording&&(c=a.HeatmapSessionRecording.enabled,delete a.HeatmapSessionRecording);A(a);c||a.HeatmapSessionRecording.disable()})},_setDisabled:function(){Ca=
N=!1},disable:function(){p()||(D.getPiwikTrackers().forEach(function(a){D.sendQueuedData(a,!1)}),this._setDisabled(),G.stopRecording(),G.stopRecordingMutations(),D.stopSendingData())},enable:function(a){if(!p()){Ca=!0;N=!1;"undefined"===typeof a||!0===a?ca.fetch():"object"===typeof a?D.getPiwikTrackers().forEach(function(e){e.HeatmapSessionRecording.addConfig(a)}):m("manual tracker config required");G.startRecording();var c=()=>{!0===ob.get_session&&$b.connect();G.startRecordingMutations();D.startSendingData()};
if(1>=ob.page_count)try{window.requestIdleCallback(c)}catch(e){c()}else c()}},isEnabled:function(){return Ca},setMaxCaptureTime:function(a){wb=1E3*parseInt(a,10);18E5<wb&&(wb=18E5)},setMaxTextInputLength:function(a){Ra=a},disableCaptureKeystrokes:function(){M=!1},enableCaptureKeystrokes:function(){M=!0},setHeatmapTrackers:function(a){this.setPiwikTrackers(a)},setPiwikTrackers:function(a){null===a?rb=null:(P.isArray(a)||(a=[a]),rb=a,rb.forEach(A),ja&&(N?this.enable():Ca&&ca.fetch()))},enableDebugMode:function(){gb=
!0}},HeatmapTracker.DOM.onReady(function(){Ba="undefined"===typeof window.pre_start_time?(new Date).getTime():window.pre_start_time}),HeatmapTracker.addPlugin("HeatmapSessionRecording",{log:function(a){B&&a.tracker&&a.tracker.getNumTrackedPageViews&&1<a.tracker.getNumTrackedPageViews()&&setTimeout(function(){HeatmapTracker.HeatmapSessionRecording.setNewPageView(!0)},10);return""},unload:function(){if(!p()){var a=D.getPiwikTrackers();D.stopSendingData();tc=!0;a.forEach(function(c){D.sendQueuedData(c,
!0)})}}}),T.HeatmapTracker.initialized?(HeatmapTracker.getAsyncTrackers().forEach(A),HeatmapTracker.on("TrackerSetup",A),HeatmapTracker.retryMissedPluginCalls(),E(),ca.fetch(),HeatmapTracker.on("TrackerAdded",function(){N?HeatmapTracker.HeatmapSessionRecording.enable():ca.fetch()})):(HeatmapTracker.on("TrackerSetup",A),HeatmapTracker.on("HeatmapInitialized",function(){E();(Ca||N)&&ca.fetch();HeatmapTracker.on("TrackerAdded",function(){Ca?ca.fetch():N&&HeatmapTracker.HeatmapSessionRecording.enable()})}))}
var Q=["button","submit","reset"],R=function(a,c){function e(){this.constructor=a}for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d]);e.prototype=c.prototype;a.prototype=new e},Y;"undefined"!==typeof WebKitMutationObserver?Y=WebKitMutationObserver:"undefined"!==typeof MutationObserver&&(Y=MutationObserver);if("undefined"!==typeof Y&&Y){var S=function(){function e(){this.nodes=[];this.values=[]}e.prototype.isIndex=function(d){return+d===d>>>0};e.prototype.nodeId=function(d){var g=d[e.ID_PROP];g||=d[e.ID_PROP]=
e.nextId_++;return g};e.prototype.set=function(d,g){var k=this.nodeId(d);this.nodes[k]=d;this.values[k]=g};e.prototype.get=function(d){d=this.nodeId(d);return this.values[d]};e.prototype.has=function(d){return this.nodeId(d)in this.nodes};e.prototype["delete"]=function(d){d=this.nodeId(d);delete this.nodes[d];this.values[d]=void 0};e.prototype.keys=function(){var d=[],g;for(g in this.nodes)this.isIndex(g)&&d.push(this.nodes[g]);return d};e.ID_PROP="__mutation_summary_node_map_id__";e.nextId_=1;return e}(),
K;(function(e){e[e.STAYED_OUT=0]="STAYED_OUT";e[e.ENTERED=1]="ENTERED";e[e.STAYED_IN=2]="STAYED_IN";e[e.REPARENTED=3]="REPARENTED";e[e.REORDERED=4]="REORDERED";e[e.EXITED=5]="EXITED"})(K||={});var hd=function(){function e(d,g,k,l,n,t,u,y){void 0===g&&(g=!1);void 0===k&&(k=!1);void 0===l&&(l=!1);void 0===n&&(n=null);void 0===t&&(t=!1);void 0===u&&(u=null);void 0===y&&(y=null);this.node=d;this.childList=g;this.attributes=k;this.characterData=l;this.oldParentNode=n;this.added=t;this.attributeOldValues=
u;this.characterDataOldValue=y;this.isCaseInsensitive=1===this.node.nodeType&&this.node instanceof HTMLElement&&this.node.ownerDocument instanceof HTMLDocument}e.prototype.getAttributeOldValue=function(d){if(this.attributeOldValues)return this.isCaseInsensitive&&(d=d.toLowerCase()),this.attributeOldValues[d]};e.prototype.getAttributeNamesMutated=function(){var d=[];if(!this.attributeOldValues)return d;for(var g in this.attributeOldValues)d.push(g);return d};e.prototype.attributeMutated=function(d,
g){this.attributes=!0;this.attributeOldValues=this.attributeOldValues||{};d in this.attributeOldValues||(this.attributeOldValues[d]=g)};e.prototype.characterDataMutated=function(d){this.characterData||(this.characterData=!0,this.characterDataOldValue=d)};e.prototype.removedFromParent=function(d){this.childList=!0;this.added||this.oldParentNode?this.added=!1:this.oldParentNode=d};e.prototype.insertedIntoParent=function(){this.added=this.childList=!0};e.prototype.getOldParent=function(){if(this.childList){if(this.oldParentNode)return this.oldParentNode;
if(this.added)return null}return this.node.parentNode};return e}(),uc=function(){return function(){this.added=new S;this.removed=new S;this.maybeMoved=new S;this.oldPrevious=new S;this.moved=void 0}}(),vc=function(e){function d(g,k){e.call(this);this.rootNode=g;this.wasReachableCache=this.reachableCache=void 0;this.anyCharacterDataChanged=this.anyAttributesChanged=this.anyParentsChanged=!1;for(g=0;g<k.length;g++){var l=k[g];switch(l.type){case "childList":this.anyParentsChanged=!0;for(var n=0;n<l.removedNodes.length;n++){var t=
l.removedNodes[n];this.getChange(t).removedFromParent(l.target)}for(n=0;n<l.addedNodes.length;n++)t=l.addedNodes[n],this.getChange(t).insertedIntoParent();break;case "attributes":this.anyAttributesChanged=!0;n=this.getChange(l.target);n.attributeMutated(l.attributeName,l.oldValue);break;case "characterData":this.anyCharacterDataChanged=!0,n=this.getChange(l.target),n.characterDataMutated(l.oldValue)}}}R(d,e);d.prototype.getChange=function(g){var k=this.get(g);k||(k=new hd(g),this.set(g,k));return k};
d.prototype.getOldParent=function(g){var k=this.get(g);return k?k.getOldParent():g.parentNode};d.prototype.getIsReachable=function(g){if(g===this.rootNode)return!0;if(!g)return!1;this.reachableCache=this.reachableCache||new S;var k=this.reachableCache.get(g);void 0===k&&(k=this.getIsReachable(g.parentNode),this.reachableCache.set(g,k));return k};d.prototype.getWasReachable=function(g){if(g===this.rootNode)return!0;if(!g)return!1;this.wasReachableCache=this.wasReachableCache||new S;var k=this.wasReachableCache.get(g);
void 0===k&&(k=this.getWasReachable(this.getOldParent(g)),this.wasReachableCache.set(g,k));return k};d.prototype.reachabilityChange=function(g){return this.getIsReachable(g)?this.getWasReachable(g)?K.STAYED_IN:K.ENTERED:this.getWasReachable(g)?K.EXITED:K.STAYED_OUT};return d}(S),za=function(){function e(d,g,k,l,n){this.rootNode=d;this.mutations=g;this.selectors=k;this.calcReordered=l;this.calcOldPreviousSibling=n;this.treeChanges=new vc(d,g);this.entered=[];this.exited=[];this.stayedIn=new S;this.visited=
new S;this.matchCache=this.characterDataOnly=this.childListChangeMap=void 0;this.processMutations()}e.prototype.processMutations=function(){if(this.treeChanges.anyParentsChanged||this.treeChanges.anyAttributesChanged)for(var d=this.treeChanges.keys(),g=0;g<d.length;g++)this.visitNode(d[g],void 0)};e.prototype.visitNode=function(d,g){if(!this.visited.has(d)){this.visited.set(d,!0);var k=this.treeChanges.get(d);if(k&&k.childList||void 0==g)g=this.treeChanges.reachabilityChange(d);if(g!==K.STAYED_OUT){this.matchabilityChange(d);
if(g===K.ENTERED)this.entered.push(d);else if(g===K.EXITED)this.exited.push(d),this.ensureHasOldPreviousSiblingIfNeeded(d);else if(g===K.STAYED_IN){var l=K.STAYED_IN;k&&k.childList&&(k.oldParentNode!==d.parentNode?(l=K.REPARENTED,this.ensureHasOldPreviousSiblingIfNeeded(d)):this.calcReordered&&this.wasReordered(d)&&(l=K.REORDERED));this.stayedIn.set(d,l)}if(g!==K.STAYED_IN)for(d=d.firstChild;d;d=d.nextSibling)this.visitNode(d,g)}}};e.prototype.ensureHasOldPreviousSiblingIfNeeded=function(d){if(this.calcOldPreviousSibling){this.processChildlistChanges();
var g=d.parentNode,k=this.treeChanges.get(d);k&&k.oldParentNode&&(g=k.oldParentNode);k=this.childListChangeMap.get(g);k||(k=new uc,this.childListChangeMap.set(g,k));k.oldPrevious.has(d)||k.oldPrevious.set(d,d.previousSibling)}};e.prototype.getChanged=function(d,g,k){this.selectors=g;this.characterDataOnly=k;for(g=0;g<this.entered.length;g++){k=this.entered[g];var l=this.matchabilityChange(k);l!==K.ENTERED&&l!==K.STAYED_IN||d.added.push(k)}var n=this.stayedIn.keys();for(g=0;g<n.length;g++)k=n[g],l=
this.matchabilityChange(k),l===K.ENTERED?d.added.push(k):l===K.EXITED?d.removed.push(k):l===K.STAYED_IN&&(d.reparented||d.reordered)&&(l=this.stayedIn.get(k),d.reparented&&l===K.REPARENTED?d.reparented.push(k):d.reordered&&l===K.REORDERED&&d.reordered.push(k));for(g=0;g<this.exited.length;g++)k=this.exited[g],l=this.matchabilityChange(k),l!==K.EXITED&&l!==K.STAYED_IN||d.removed.push(k)};e.prototype.getOldParentNode=function(d){var g=this.treeChanges.get(d);if(g&&g.childList)return g.oldParentNode?
g.oldParentNode:null;g=this.treeChanges.reachabilityChange(d);if(g===K.STAYED_OUT||g===K.ENTERED)throw Error("getOldParentNode requested on invalid node.");return d.parentNode};e.prototype.getOldPreviousSibling=function(d){var g=d.parentNode,k=this.treeChanges.get(d);k&&k.oldParentNode&&(g=k.oldParentNode);g=this.childListChangeMap.get(g);if(!g)throw Error("getOldPreviousSibling requested on invalid node.");return g.oldPrevious.get(d)};e.prototype.getOldAttribute=function(d,g){d=this.treeChanges.get(d);
if(!d||!d.attributes)throw Error("getOldAttribute requested on invalid node.");g=d.getAttributeOldValue(g);if(void 0===g)throw Error("getOldAttribute requested for unchanged attribute name.");return g};e.prototype.attributeChangedNodes=function(d){if(!this.treeChanges.anyAttributesChanged)return{};if(d){var g={};var k={};for(var l=0;l<d.length;l++){var n=d[l];g[n]=!0;k[n.toLowerCase()]=n}}d={};var t=this.treeChanges.keys();for(l=0;l<t.length;l++){n=t[l];var u=this.treeChanges.get(n);if(u.attributes&&
K.STAYED_IN===this.treeChanges.reachabilityChange(n)&&K.STAYED_IN===this.matchabilityChange(n))for(var y=n,v=u.getAttributeNamesMutated(),H=0;H<v.length;H++)n=v[H],(!g||g[n]||u.isCaseInsensitive&&k[n])&&u.getAttributeOldValue(n)!==y.getAttribute(n)&&(k&&u.isCaseInsensitive&&(n=k[n]),d[n]=d[n]||[],d[n].push(y))}return d};e.prototype.getOldCharacterData=function(d){d=this.treeChanges.get(d);if(!d||!d.characterData)throw Error("getOldCharacterData requested on invalid node.");return d.characterDataOldValue};
e.prototype.getCharacterDataChanged=function(){if(!this.treeChanges.anyCharacterDataChanged)return[];for(var d=this.treeChanges.keys(),g=[],k=0;k<d.length;k++){var l=d[k];if(K.STAYED_IN===this.treeChanges.reachabilityChange(l)){var n=this.treeChanges.get(l);n.characterData&&l.textContent!=n.characterDataOldValue&&g.push(l)}}return g};e.prototype.computeMatchabilityChange=function(d,g){this.matchCache||(this.matchCache=[]);this.matchCache[d.uid]||(this.matchCache[d.uid]=new S);var k=this.matchCache[d.uid],
l=k.get(g);void 0===l&&(l=d.matchabilityChange(g,this.treeChanges.get(g)),k.set(g,l));return l};e.prototype.matchabilityChange=function(d){var g=this;if(this.characterDataOnly)switch(d.nodeType){case 8:case 3:return K.STAYED_IN;default:return K.STAYED_OUT}if(!this.selectors)return K.STAYED_IN;if(1!==d.nodeType)return K.STAYED_OUT;for(var k=this.selectors.map(function(t){return g.computeMatchabilityChange(t,d)}),l=K.STAYED_OUT,n=0;l!==K.STAYED_IN&&n<k.length;){switch(k[n]){case K.STAYED_IN:l=K.STAYED_IN;
break;case K.ENTERED:l=l===K.EXITED?K.STAYED_IN:K.ENTERED;break;case K.EXITED:l=l===K.ENTERED?K.STAYED_IN:K.EXITED}n++}return l};e.prototype.getChildlistChange=function(d){var g=this.childListChangeMap.get(d);g||(g=new uc,this.childListChangeMap.set(d,g));return g};e.prototype.processChildlistChanges=function(){if(!this.childListChangeMap){this.childListChangeMap=new S;for(var d=0;d<this.mutations.length;d++){var g=this.mutations[d];if("childList"==g.type){function u(y,v){!y||k.oldPrevious.has(y)||
k.added.has(y)||k.maybeMoved.has(y)||v&&(k.added.has(v)||k.maybeMoved.has(v))||k.oldPrevious.set(y,v)}if(this.treeChanges.reachabilityChange(g.target)===K.STAYED_IN||this.calcOldPreviousSibling){for(var k=this.getChildlistChange(g.target),l=g.previousSibling,n=0;n<g.removedNodes.length;n++){var t=g.removedNodes[n];u(t,l);if(k.added.has(t))k.added["delete"](t);else k.removed.set(t,!0),k.maybeMoved["delete"](t);l=t}u(g.nextSibling,l);for(n=0;n<g.addedNodes.length;n++)t=g.addedNodes[n],k.removed.has(t)?
(k.removed["delete"](t),k.maybeMoved.set(t,!0)):k.added.set(t,!0)}}}}};e.prototype.wasReordered=function(d){function g(H){if(!H||!t.maybeMoved.has(H))return!1;var x=t.moved.get(H);if(void 0!==x)return x;if(u.has(H))x=!0;else{u.set(H,!0);if(v.has(H))x=v.get(H);else{for(x=H.previousSibling;x&&(t.added.has(x)||g(x));)x=x.previousSibling;v.set(H,x)}x=x!==k(H)}u.has(H)?(u["delete"](H),t.moved.set(H,x)):x=t.moved.get(H);return x}function k(H){var x=y.get(H);if(void 0!==x)return x;for(x=t.oldPrevious.get(H);x&&
(t.removed.has(x)||g(x));)x=k(x);void 0===x&&(x=H.previousSibling);y.set(H,x);return x}if(!this.treeChanges.anyParentsChanged)return!1;this.processChildlistChanges();var l=d.parentNode,n=this.treeChanges.get(d);n&&n.oldParentNode&&(l=n.oldParentNode);var t=this.childListChangeMap.get(l);if(!t)return!1;if(t.moved)return t.moved.get(d);t.moved=new S;var u=new S,y=new S,v=new S;t.maybeMoved.keys().forEach(g);return t.moved.get(d)};return e}(),wc=function(){function e(d,g){var k=this;this.projection=
d;this.added=[];this.removed=[];this.reparented=g.all||g.element||g.characterData?[]:void 0;this.reordered=g.all?[]:void 0;d.getChanged(this,g.elementFilter,g.characterData);if(g.all||g.attribute||g.attributeList){var l=d.attributeChangedNodes(g.attribute?[g.attribute]:g.attributeList);g.attribute?this.valueChanged=l[g.attribute]||[]:(this.attributeChanged=l,g.attributeList&&g.attributeList.forEach(function(n){k.attributeChanged.hasOwnProperty(n)||(k.attributeChanged[n]=[])}))}if(g.all||g.characterData)l=
d.getCharacterDataChanged(),g.characterData?this.valueChanged=l:this.characterDataChanged=l;this.reordered&&(this.getOldPreviousSibling=d.getOldPreviousSibling.bind(d))}e.prototype.getOldParentNode=function(d){return this.projection.getOldParentNode(d)};e.prototype.getOldAttribute=function(d,g){return this.projection.getOldAttribute(d,g)};e.prototype.getOldCharacterData=function(d){return this.projection.getOldCharacterData(d)};e.prototype.getOldPreviousSibling=function(d){return this.projection.getOldPreviousSibling(d)};
return e}(),Ga=/[a-zA-Z_]+/,Bb=/[a-zA-Z0-9_\-]+/,Cb=function(){function e(){}e.prototype.matches=function(d){if(null===d)return!1;if(void 0===this.attrValue)return!0;if(!this.contains)return this.attrValue==d;d=d.split(" ");for(var g=0;g<d.length;g++)if(this.attrValue===d[g])return!0;return!1};e.prototype.toString=function(){return"class"===this.attrName&&this.contains?"."+this.attrValue:"id"!==this.attrName||this.contains?this.contains?"["+this.attrName+'~="'+(this.attrValue.replace(/"/,'\\"')+'"]'):
"attrValue"in this?"["+this.attrName+'="'+(this.attrValue.replace(/"/,'\\"')+'"]'):"["+this.attrName+"]":"#"+this.attrValue};return e}(),Xa=function(){function e(){this.uid=e.nextUid++;this.qualifiers=[]}Object.defineProperty(e.prototype,"caseInsensitiveTagName",{get:function(){return this.tagName.toUpperCase()},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"selectorString",{get:function(){return this.tagName+this.qualifiers.join("")},enumerable:!0,configurable:!0});e.prototype.isMatching=
function(d){return d[e.matchesSelector](this.selectorString)};e.prototype.wasMatching=function(d,g,k){if(!g||!g.attributes)return k;var l=g.isCaseInsensitive?this.caseInsensitiveTagName:this.tagName;if("*"!==l&&l!==d.tagName)return!1;l=[];for(var n=!1,t=0;t<this.qualifiers.length;t++){var u=this.qualifiers[t],y=g.getAttributeOldValue(u.attrName);l.push(y);n=n||void 0!==y}if(!n)return k;for(t=0;t<this.qualifiers.length;t++)if(u=this.qualifiers[t],y=l[t],void 0===y&&(y=d.getAttribute(u.attrName)),!u.matches(y))return!1;
return!0};e.prototype.matchabilityChange=function(d,g){var k=this.isMatching(d);return k?this.wasMatching(d,g,k)?K.STAYED_IN:K.ENTERED:this.wasMatching(d,g,k)?K.EXITED:K.STAYED_OUT};e.parseSelectors=function(d){function g(){n&&(t&&(n.qualifiers.push(t),t=void 0),l.push(n));n=new e}function k(){t&&n.qualifiers.push(t);t=new Cb}for(var l=[],n,t,u=/\s/,y,v=1,H=0;H<d.length;){var x=d[H++];switch(v){case 1:if(x.match(Ga)){g();n.tagName=x;v=2;break}if("*"==x){g();n.tagName="*";v=3;break}if("."==x){g();
k();n.tagName="*";t.attrName="class";t.contains=!0;v=4;break}if("#"==x){g();k();n.tagName="*";t.attrName="id";v=4;break}if("["==x){g();k();n.tagName="*";t.attrName="";v=6;break}if(x.match(u))break;throw Error("Invalid or unsupported selector syntax.");case 2:if(x.match(Bb)){n.tagName+=x;break}if("."==x){k();t.attrName="class";t.contains=!0;v=4;break}if("#"==x){k();t.attrName="id";v=4;break}if("["==x){k();t.attrName="";v=6;break}if(x.match(u)){v=14;break}if(","==x){v=1;break}throw Error("Invalid or unsupported selector syntax.");
case 3:if("."==x){k();t.attrName="class";t.contains=!0;v=4;break}if("#"==x){k();t.attrName="id";v=4;break}if("["==x){k();t.attrName="";v=6;break}if(x.match(u)){v=14;break}if(","==x){v=1;break}throw Error("Invalid or unsupported selector syntax.");case 4:if(x.match(Ga)){t.attrValue=x;v=5;break}throw Error("Invalid or unsupported selector syntax.");case 5:if(x.match(Bb)){t.attrValue+=x;break}if("."==x){k();t.attrName="class";t.contains=!0;v=4;break}if("#"==x){k();t.attrName="id";v=4;break}if("["==x){k();
v=6;break}if(x.match(u)){v=14;break}if(","==x){v=1;break}throw Error("Invalid or unsupported selector syntax.");case 6:if(x.match(Ga)){t.attrName=x;v=7;break}if(x.match(u))break;throw Error("Invalid or unsupported selector syntax.");case 7:if(x.match(Bb)){t.attrName+=x;break}if(x.match(u)){v=8;break}if("~"==x){t.contains=!0;v=9;break}if("="==x){t.attrValue="";v=11;break}if("]"==x){v=3;break}throw Error("Invalid or unsupported selector syntax.");case 8:if("~"==x){t.contains=!0;v=9;break}if("="==x){t.attrValue=
"";v=11;break}if("]"==x){v=3;break}if(x.match(u))break;throw Error("Invalid or unsupported selector syntax.");case 9:if("="==x){t.attrValue="";v=11;break}throw Error("Invalid or unsupported selector syntax.");case 10:if("]"==x){v=3;break}if(x.match(u))break;throw Error("Invalid or unsupported selector syntax.");case 11:if(x.match(u))break;if('"'==x||"'"==x){y=x;v=13;break}t.attrValue+=x;v=12;break;case 12:if(x.match(u)){v=10;break}if("]"==x){v=3;break}if("'"==x||'"'==x)throw Error("Invalid or unsupported selector syntax.");
t.attrValue+=x;break;case 13:if(x==y){v=10;break}t.attrValue+=x;break;case 14:if(!x.match(u))if(","==x)v=1;else throw Error("Invalid or unsupported selector syntax.");}}switch(v){case 1:case 2:case 3:case 5:case 14:g();break;default:throw Error("Invalid or unsupported selector syntax.");}if(!l.length)throw Error("Invalid or unsupported selector syntax.");return l};e.nextUid=1;e.matchesSelector=function(){var d=document.createElement("div");return"function"===typeof d.webkitMatchesSelector?"webkitMatchesSelector":
"function"===typeof d.mozMatchesSelector?"mozMatchesSelector":"function"===typeof d.msMatchesSelector?"msMatchesSelector":"matchesSelector"}();return e}(),Ya=/^([a-zA-Z:_]+[a-zA-Z0-9_\-:\.]*)$/;function a(e){if("string"!=typeof e)throw Error("Invalid request opion. attribute must be a non-zero length string.");e=e.trim();if(!e)throw Error("Invalid request opion. attribute must be a non-zero length string.");if(!e.match(Ya))throw Error("Invalid request option. invalid attribute name: "+e);return e}
function c(e){var d={};e.forEach(function(g){g.qualifiers.forEach(function(k){d[k.attrName]=!0})});return Object.keys(d)}var Db=function(){function e(d){var g=this;this.connected=!1;this.options=e.validateOptions(d);this.observerOptions=e.createObserverOptions(this.options.queries);this.root=this.options.rootNode;this.callback=this.options.callback;this.elementFilter=Array.prototype.concat.apply([],this.options.queries.map(function(k){return k.elementFilter?k.elementFilter:[]}));this.elementFilter.length||
(this.elementFilter=void 0);this.calcReordered=this.options.queries.some(function(k){return k.all});this.queryValidators=[];e.createQueryValidator&&(this.queryValidators=this.options.queries.map(function(k){return e.createQueryValidator(g.root,k)}));this.observer=new Y(function(k){g.observerCallback(k)});this.reconnect()}e.createObserverOptions=function(d){function g(n){if(!k.attributes||l)k.attributes=!0,k.attributeOldValue=!0,n?(l=l||{},n.forEach(function(t){l[t]=!0;l[t.toLowerCase()]=!0})):l=void 0}
var k={childList:!0,subtree:!0},l;d.forEach(function(n){n.characterData?(k.characterData=!0,k.characterDataOldValue=!0):n.all?(g(),k.characterData=!0,k.characterDataOldValue=!0):n.attribute?g([n.attribute.trim()]):(n=c(n.elementFilter).concat(n.attributeList||[]),n.length&&g(n))});l&&(k.attributeFilter=Object.keys(l));return k};e.validateOptions=function(d){for(var g in d)if(!(g in e.optionKeys))throw Error("Invalid option: "+g);if("function"!==typeof d.callback)throw Error("Invalid options: callback is required and must be a function");
if(!d.queries||!d.queries.length)throw Error("Invalid options: queries must contain at least one query request object.");g={callback:d.callback,rootNode:d.rootNode||document,observeOwnChanges:!!d.observeOwnChanges,oldPreviousSibling:!!d.oldPreviousSibling,queries:[]};for(var k=0;k<d.queries.length;k++){var l=d.queries[k];if(l.all){if(1<Object.keys(l).length)throw Error("Invalid request option. all has no options.");g.queries.push({all:!0})}else if("attribute"in l){var n={attribute:a(l.attribute)};
n.elementFilter=Xa.parseSelectors("*["+n.attribute+"]");if(1<Object.keys(l).length)throw Error("Invalid request option. attribute has no options.");g.queries.push(n)}else if("element"in l){var t=Object.keys(l).length;n={element:l.element,elementFilter:Xa.parseSelectors(l.element)};if(l.hasOwnProperty("elementAttributes")){var u=n,y=l.elementAttributes;if(!y.trim().length)throw Error("Invalid request option: elementAttributes must contain at least one attribute.");l={};var v={};y=y.split(/\s+/);for(var H=
0;H<y.length;H++){var x=y[H];if(x){x=a(x);var Z=x.toLowerCase();if(l[Z])throw Error("Invalid request option: observing multiple case variations of the same attribute is not supported.");v[x]=!0;l[Z]=!0}}l=Object.keys(v);u.attributeList=l;t--}if(1<t)throw Error("Invalid request option. element only allows elementAttributes option.");g.queries.push(n)}else if(l.characterData){if(1<Object.keys(l).length)throw Error("Invalid request option. characterData has no options.");g.queries.push({characterData:!0})}else throw Error("Invalid request option. Unknown query request.");
}return g};e.prototype.createSummaries=function(d){if(!d||!d.length)return[];d=new za(this.root,d,this.elementFilter,this.calcReordered,this.options.oldPreviousSibling);for(var g=[],k=0;k<this.options.queries.length;k++)g.push(new wc(d,this.options.queries[k]));return g};e.prototype.checkpointQueryValidators=function(){this.queryValidators.forEach(function(d){d&&d.recordPreviousState()})};e.prototype.runQueryValidators=function(d){this.queryValidators.forEach(function(g,k){g&&g.validate(d[k])})};
e.prototype.changesToReport=function(d){return d.some(function(g){return"added removed reordered reparented valueChanged characterDataChanged".split(" ").some(function(k){return g[k]&&g[k].length})||g.attributeChanged&&Object.keys(g.attributeChanged).some(function(k){return!!g.attributeChanged[k].length})?!0:!1})};e.prototype.observerCallback=function(d){this.options.observeOwnChanges||this.observer.disconnect();window.location.href.includes("kmpconsole=1")&&X&&console.log(d);d=this.createSummaries(d);
this.runQueryValidators(d);this.options.observeOwnChanges&&this.checkpointQueryValidators();this.changesToReport(d)&&this.callback(d);!this.options.observeOwnChanges&&this.connected&&(this.checkpointQueryValidators(),this.observer.observe(this.root,this.observerOptions))};e.prototype.reconnect=function(){if(this.connected)throw Error("Already connected");this.observer.observe(this.root,this.observerOptions);this.connected=!0;this.checkpointQueryValidators()};e.prototype.takeSummaries=function(){if(!this.connected)throw Error("Not connected");
var d=this.createSummaries(this.observer.takeRecords());return this.changesToReport(d)?d:void 0};e.prototype.disconnect=function(){var d=this.takeSummaries();this.observer.disconnect();this.connected=!1;return d};e.NodeMap=S;e.parseElementFilter=Xa.parseSelectors;e.optionKeys={callback:!0,queries:!0,rootNode:!0,oldPreviousSibling:!0,observeOwnChanges:!0};return e}(),yc=function(){function e(d,g,k){var l=this;this.target=d;this.mirror=g;this.nextId=1;this.knownNodes=new Db.NodeMap;g=this.serializeNode(d).id;
var n=[];Pe()||(Ob=!0);for(var t=d.firstChild;t;t=t.nextSibling)n.push(this.serializeNode(t,!0));(u=>{for(const y of u)if(y.childNodes)for(const v of y.childNodes)if("BODY"===v.tagName)return!0;X&&console.log("BODY tag not found!")})(n);this.mirror.initialize(g,n);g=[{all:!0}];k&&(g=g.concat(k));this.mutationSummary=new Db({rootNode:d,callback:function(u){l.applyChanged(u)},queries:g})}e.prototype.disconnect=function(){this.mutationSummary&&(this.mutationSummary.disconnect(),this.mutationSummary=
void 0)};e.prototype.rememberNode=function(d){var g=this.nextId++;this.knownNodes.set(d,g);return g};e.prototype.forgetNode=function(d){this.knownNodes["delete"](d)};e.prototype.serializeNode=function(d,g,k,l){if(null===d)return null;var n=this.knownNodes.get(d);if(void 0!==n)return{id:n};n={nodeType:d.nodeType,id:this.rememberNode(d)};l=F.shouldMaskElementRecursive(d,k,l);k=l.isIgnoredField;l=l.isIgnoredContent;switch(n.nodeType){case 10:n.name=d.name;n.publicId=d.publicId;n.systemId=d.systemId;
break;case 8:n.textContent=" ";break;case 3:void 0===d.forceUnmask&&(d.forceUnmask=!1);d.forceUnmask||(d.textContent&&!l&&F.shouldMaskContent(d,!0)?n.textContent=F.maskFormField(d.textContent):n.textContent=F.getMaskedTextContent(d,k,l));break;case 1:if(n.tagName=d.tagName,n.attributes={},"SCRIPT"!==n.tagName&&"NOSCRIPT"!==n.tagName){if("STYLE"===n.tagName&&("string"===typeof d.innerText&&""===d.innerText.trim()||"string"===typeof d.innerHTML&&""===d.innerHTML.trim())&&O.styleSheets&&O.styleSheets.length){for(var t,
u=0;u<O.styleSheets.length;u++)if(O.styleSheets[u]){var y=O.styleSheets[u];if(y&&y.ownerNode&&!y.href&&y.ownerNode===d&&y.cssRules&&y.cssRules.length){t="";for(u=0;u<y.cssRules.length;u++)y.cssRules[u].cssText&&(t+=y.cssRules[u].cssText+" ");t=O.createTextNode(t);n.childNodes=[this.serializeNode(t,!1,k,l)];break}}if(t)break}n.attributes=this.getAttributesFromNode(d,k,l);if(g&&d.childNodes.length)for(n.childNodes=[],d=d.firstChild;d;d=d.nextSibling)n.childNodes.push(this.serializeNode(d,!0,k,l))}}return n};
e.prototype.getAttributesFromNode=function(d,g,k){k=k||!1;g=g||!1;for(var l={},n,t=0;t<d.attributes.length;t++){var u=d.attributes[t];n=u&&"value"in u?u.value:"";var y=!1;"value"!==u.name||"INPUT"!==d.tagName||!d.value||d.type&&"text"!==String(d.type).toLowerCase()&&"number"!==String(d.type).toLowerCase()||(n=d.value);"src"===u.name&&("IMG"===d.tagName||"INPUT"===d.tagName&&"image"===d.type)&&F.shouldMaskContent(d,!1)&&(F.hasAttribute(d,"height")||(l.height=F.getHeight(d)),F.hasAttribute(d,"width")||
(l.width=F.getWidth(d)),n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+P+/HgAFhAJ/wlseKgAAAABJRU5ErkJggg==",l.src=n);"value"===u.name&&"INPUT"===d.tagName&&d.value&&"password"===String(d.type).toLowerCase()&&(y=!0);"INPUT"===d.tagName&&d.type&&"hidden"===d.type&&"value"===u.name?l[u.name]="":"INPUT"!==d.tagName||"value"!==u.name||M&&!g&&!F.shouldMaskField(d,!1)?"title"!==u.name&&"alt"!==u.name&&"label"!==u.name&&"placeholder"!==u.name||!k&&!F.shouldMaskContent(d,
!1)?l[u.name]=n:l[u.name]=F.maskFormField(n):l[u.name]=F.maskFormField(n,y);"IFRAME"===d.tagName&&"srcdoc"===u.name&&(l[u.name]="")}"IFRAME"===d.tagName&&(1>=d.scrollWidth||1>=d.scrollHeight)?l.src="about:blank":"META"===d.tagName&&(d.attributes.property&&0<=String(d.attributes.property.value).indexOf("og:")?l={}:d.attributes.name&&(d=String(d.attributes.name.value).toLowerCase(),0<=d.indexOf("twitter:")||0<=d.indexOf("description")||0<=d.indexOf("keywords"))&&(l={}));return l};e.prototype.serializeAddedAndMoved=
function(d,g,k){var l=this;d=d.concat(g).concat(k);var n=new Db.NodeMap;d.forEach(function(u){var y=u.parentNode,v=n.get(y);v||(v=new Db.NodeMap,n.set(y,v));v.set(u,!0)});var t=[];n.keys().forEach(function(u){u=n.get(u);for(var y=u.keys();y.length;){for(y=y[0];y.previousSibling&&u.has(y.previousSibling);)y=y.previousSibling;for(;y&&u.has(y);){y.forceUnmask=!1;y&&void 0!=y.classList&&(y.forceUnmask=y.classList.contains("data-heatmap-unmask"));var v=l.serializeNode(y);v.previousSibling=l.serializeNode(y.previousSibling);
v.parentNode=l.serializeNode(y.parentNode);t.push(v);u["delete"](y);y=y.nextSibling}y=u.keys()}});return t};e.prototype.serializeAttributeChanges=function(d){var g=this,k=new Db.NodeMap;Object.keys(d).forEach(function(l){d[l].forEach(function(n){var t=k.get(n);t||(t=g.serializeNode(n),t.attributes={},k.set(n,t));var u=F.shouldMaskElementRecursive(n);n=g.getAttributesFromNode(n,u.isIgnoredField,u.isIgnoredContent);t.attributes[l]=l in n?n[l]:null})});return k.keys().map(function(l){return k.get(l)})};
e.prototype.applyChanged=function(d){var g=this;d=d[0];var k=d.removed.map(function(u){return g.serializeNode(u)});try{var l=this.serializeAddedAndMoved(d.added,d.reparented,d.reordered),n=this.serializeAttributeChanges(d.attributeChanged),t=d.characterDataChanged.map(function(u){var y=g.serializeNode(u),v=F.shouldMaskElementRecursive(u,!1,!1);y.textContent=F.getMaskedTextContent(u,v.isIgnoredField,v.isIgnoredContent);return y});this.mirror.applyChanged(k,l,n,t);d.removed.forEach(function(u){g.forgetNode(u)})}catch(u){}};
return e}()}var O=document,T=window,Ba=0,gb=!1,Ca=!p(),Ha=!0,rb=null,zc=!1,Na="",kc="",wb=9E5,Ra=500,ya=!1,va=function(){return!0},M=!0,W=!1,kb=!1,B=!0,Ea=null,N=!1,db={};"object"===typeof JSON&&(db=JSON);var ja=!1,Oa=[],eb="undefined"!==typeof WebKitMutationObserver||"undefined"!==typeof MutationObserver?!0:!1,da={getScrollLeft:function(){return T.document.body.scrollLeft||T.document.documentElement.scrollLeft},getScrollTop:function(){return T.document.body.scrollTop||T.document.documentElement.scrollTop},
getDocumentHeight:function(){if(null!==O.body)return P.safeMathMax([O.body.offsetHeight,O.body.scrollHeight,O.documentElement.offsetHeight,O.documentElement.clientHeight,O.documentElement.scrollHeight,1]);setTimeout(function(){da.getDocumentHeight()},500)},getDocumentWidth:function(){if(null!==O.body)return P.safeMathMax([O.body.offsetWidth,O.body.scrollWidth,O.documentElement.offsetWidth,O.documentElement.clientWidth,O.documentElement.scrollWidth,1]);setTimeout(function(){da.getDocumentWidth()},
500)},getWindowSize:function(){return{width:T.innerWidth||O.documentElement.clientWidth||O.body.clientWidth,height:T.innerHeight||O.documentElement.clientHeight||O.body.clientHeight}},getScrollPercent:function(){var a=O.documentElement,c=O.body;return(a.scrollTop||c.scrollTop)/((a.scrollHeight||c.scrollHeight)-a.clientHeight)*100},getScrollDepthPercent:function(){return(window.scrollY||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-window.innerHeight)*100}},ib={namespace:"hsr",
set:function(a,c,e){c=parseInt(c,10);e=parseInt(e,10);for(var d="",g=ib.getHsrConfigs(a),k=!1,l=0;l<g.length;l++)g[l]&&g[l].id===c&&(k=!0,g[l].value=e),d+=g[l].id+"."+g[l].value+"_";k||(d+=c+"."+e);a.setSessionCookie(this.namespace,d)},get:function(a,c){c=parseInt(c,10);a=ib.getHsrConfigs(a);for(var e=0;e<a.length;e++)if(a[e]&&a[e].id===c)return a[e].value;return null},getHsrConfigs:function(a){var c=a.getCookie(this.namespace);if(!c)return[];a=[];c=String(c).split("_");for(var e,d=0;d<c.length;d++)(e=
c[d].split("."))&&2===e.length&&a.push({id:parseInt(e[0],10),value:parseInt(e[1],10)});return a}},F={getAttribute:function(a,c){return a&&a.getAttribute&&c?a.getAttribute(c):null},hasAttribute:function(a,c){return a&&a.hasAttribute?a.hasAttribute(c):a&&a.attributes?"undefined"!==typeof a.attributes[c]:!1},getTagName:function(a){return a&&a.tagName?(""+a.tagName).toLowerCase():null},getCssClasses:function(a){return a&&a.className?"string"===typeof a.className?P.trim(a.className).split(/\s+/):[]:[]},
getHeight:function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?O.documentElement.clientHeight:P.safeMathMax([a.scrollHeight,a.offsetHeight,0]):da.getDocumentHeight()},getWidth:function(a){return!a||9!==a.nodeType&&"HTML"!==a.tagName?a===window?O.documentElement.clientWidth:P.safeMathMax([a.scrollWidth,a.offsetWidth,0]):da.getDocumentWidth()},getOffset:function(a){if(!a.getBoundingClientRect)return{top:0,left:0,width:0,height:0};var c=(a&&a.ownerDocument).documentElement,e=a.getBoundingClientRect();
return{top:Math.floor(e.top)+(T.pageYOffset||O.scrollTop||0)-(c.clientTop||0),left:Math.floor(e.left)+(T.pageXOffset||O.scrollLeft||0)-(c.clientLeft||0),width:P.safeMathMax([e.width,F.getWidth(a)]),height:P.safeMathMax([e.height,F.getHeight(a)])}},getSelector:function(a,c){try{let e=window.clicksHandler.cssPath(a,!1);a=null;try{a=document.querySelector(e)}catch(d){e=e.replace(/#[^\s>]+/,""),a=document.querySelector(e)}if(window.globalFunctions.heatHasBeforeOrAfterPseudoElement(a)&&!window.globalFunctions.heatDoesElementHaveChildren(a)){const d=
window.getComputedStyle(a,"::after"),g=a.offsetParent,k=a.parentElement;g&&"BODY"!==g.tagName&&d&&"absolute"===d.position&&"0px"===d.left&&"0px"===d.right&&"0px"===d.bottom&&(e="li"===k.tagName.toLowerCase()&&"ul"===g.tagName.toLowerCase()?window.clicksHandler.cssPath(k):window.clicksHandler.cssPath(g))}return e=window.clicksHandler.simplifyAndJoinSelectors(e)}catch(e){return!1}},getMaskedTextContent:function(a,c,e){return"undefined"!==typeof a.parentNode&&a.parentNode&&"TEXTAREA"===a.parentNode.tagName&&
(!M||c||F.shouldMaskField(a,!1))||e||F.shouldMaskContent(a,!1)?F.maskFormField(P.trim(a.textContent)):a.textContent},maskFormField:function(a,c){if(!a)return a;if(a.startsWith("data-heatmap-unmask:::"))return a=a.substr(22,a.length);a=String(a).replace(/./g,"*");c&&(a+=Array(Math.floor(10*Math.random())+1+1).join("*"));return a},shouldMaskElementRecursive:function(a,c,e){e||=!1;c||=!1;!c&&F.shouldMaskField(a,!1)?c=!0:c&&!F.shouldMaskField(a,!1)&&(c=!1);!e&&F.shouldMaskContent(a,!1)?e=!0:e&&"#text"!==
a.nodeName&&!F.shouldMaskContent(a,!1)&&(e=!1);for(var d=a&&a.parentNode?a.parentNode:null,g=!0;d&&("TEXTAREA"===d.nodeType&&F.hasAttribute(d,"data-heatmap-unmask")&&(c=!1),c||"INPUT"!==d.nodeType&&"SELECT"!==d.nodeType&&"TEXTAREA"!==d.nodeType||!F.shouldMaskField(d,!1)||F.hasAttribute(d,"data-heatmap-unmask")||(c=!0),e||!g||"INPUT"===a.nodeType||"SELECT"===a.nodeType||"TEXTAREA"===a.nodeType||F.hasAttribute(a,"data-heatmap-unmask")||"#text"===a.nodeName||(F.shouldMaskContent(d,!1)?e=!0:F.hasAttribute(d,
"data-heatmap-unmask")&&(g=!1)),!c||!e);)d=d.parentNode?d.parentNode:null;c&&F.isAllowedInputType(a)&&(c=!1);return{isIgnoredField:c,isIgnoredContent:e}},shouldMaskField:function(a,c){if(!a)return!1;var e=F.getAttribute(a,"type");e=e?String(e).toLowerCase():"text";if(F.isAllowedInputType(a))return!1;var d="radio"===e||"checkbox"===e||a.nodeName&&"SELECT"===a.nodeName;if(!M)return d?!1:!0;var g=F.getAttribute(a,"name"),k=F.getAttribute(a,"id"),l=F.getAttribute(a,"autocomplete");g=P.trim(String(g)).toLowerCase().replace(/[\s_-]+/g,
"");k=P.trim(String(k)).toLowerCase().replace(/[\s_-]+/g,"");l=P.trim(String(l)).toLowerCase().replace(/[\s_-]+/g,"");var n="creditcardnumber;off;kreditkarte;debitcard;kreditkort;kredietkaart; kartakredytowa;cvv;cc;ccc;cccsc;cccvc;ccexpiry;ccexpyear;ccexpmonth;cccvv;cctype;cvc;exp;ccname;cardnumber;ccnumber;username;creditcard;name;fullname;familyname;firstname;vorname;nachname;lastname;nickname;surname;login;formlogin;konto;user;website;domain;gender;company;firma;geschlecht;email;emailaddress;emailadresse;mail;epos;ebost;epost;eposta;authpw;token_auth;tokenauth;token;pin;ibanaccountnum;ibanaccountnumber;account;accountnum;auth;age;alter;tel;city;cell;cellphone;bic;iban;swift;kontonummer;konto;kontonr;phone;mobile;mobiili;mobilne;handynummer;t\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00e2\u20ac \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u201e\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac \u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u00a2\u00e2\u20ac\u017e\u00c2\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u2026\u00c2\u00a1\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac\u00c5\u00a1\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00a9l\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00e2\u20ac \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u201e\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac \u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u00a2\u00e2\u20ac\u017e\u00c2\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u2026\u00c2\u00a1\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac\u00c5\u00a1\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00a9phone;telefono;ssn;socialsecuritynumber;socialsec;socsec;address;addressline1;addressline2;billingaddress;billingaddress1;billingaddress2;shippingaddress;shippingaddress1;shippingaddress2;vat;vatnumber;gst;gstnumber;tax;taxnumber;steuernummer;adresse;indirizzo;adres;direcci\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00e2\u20ac \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u201e\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac \u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u00a2\u00e2\u20ac\u017e\u00c2\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u2026\u00c2\u00a1\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac\u00c5\u00a1\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00b3n;osoite;address1;address2;address3;street;strasse;rue;via;ulica;calle;sokak;zip;zipcode;plz;postleitzahl;postalcode;postcode;dateofbirth;dob;telephone;telefon;telefonnr;telefonnummer;password;passwort;kennwort;wachtwoord;contrase\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00e2\u20ac \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u201e\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac \u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u00a2\u00e2\u20ac\u017e\u00c2\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u2026\u00c2\u00a1\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac\u00c5\u00a1\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00b1a;passord;has\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00e2\u20ac \u00c3\u00a2\u00e2\u201a\u00ac\u00e2\u201e\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u201a\u00c2\u00a2\u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u201a\u00ac\u00c5\u00a1\u00c3\u201a\u00c2\u00ac\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00a6\u00c3\u0192\u00c6\u2019\u00c3\u2020\u00e2\u20ac\u2122\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00a2\u00c3\u0192\u00c6\u2019\u00c3\u201a\u00c2\u00a2\u00c3\u0192\u00c2\u00a2\u00c3\u00a2\u00e2\u20ac\u0161\u00c2\u00ac\u00c3\u2026\u00c2\u00a1\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00ac\u00c3\u0192\u00c6\u2019\u00c3\u00a2\u00e2\u201a\u00ac\u00c2\u00a6\u00c3\u0192\u00e2\u20ac\u0161\u00c3\u201a\u00c2\u00a1o;heslo;wagwoord;parole;contrasenya;heslo;clientid;identifier;id;consumersecret;webhooksecret;consumerkey;keyconsumersecret;keyconsumerkey;clientsecret;secret;secretq;secretquestion;privatekey;publickey;pw;pwd;pwrd;pword;paword;pasword;paswort;pass".split(";");
if("password"===e||"email"===e||"tel"===e||"hidden"===e||-1!==n.indexOf(g)||-1!==n.indexOf(k)||-1!==n.indexOf(l)||F.hasAttribute(a,"data-piwik-mask")||F.hasAttribute(a,"data-heatmap-mask")||!d&&a&&a.value&&(!e||"text"===e||"number"===e||a&&"TEXTAREA"===a.nodeName)&&(/^\d{7,24}$/.test(String(a.value))||-1!==String(a.value).indexOf("@")&&2<String(a.value).length))return!0;if(c){c=a.parentNode?a.parentNode:null;for(e=!1;c;){if(F.hasAttribute(c,"data-piwik-mask")||F.hasAttribute(c,"data-heatmap-mask"))return!0;
!e&&c&&F.hasAttribute(c,"data-heatmap-unmask")&&(e=!0);c=c.parentNode?c.parentNode:null}if(e)return!1}return F.hasAttribute(a,"data-heatmap-unmask")||d?!1:!0},shouldMaskContent:function(a,c){if(!a)return!1;if(a.tagName&&"FORM"!==a.tagName&&F.hasAttribute(a,"data-heatmap-mask"))return!0;if(c)for(c=a.parentNode?a.parentNode:null;c&&("#text"!==a.nodeName||!F.hasAttribute(c,"data-heatmap-unmask"));){if("FORM"!==c.tagName&&F.hasAttribute(c,"data-heatmap-mask"))return!0;c=c.parentNode?c.parentNode:null}return!1},
isAllowedInputType:function(a){return a.type&&-1!==Q.indexOf(a.type)&&!F.hasAttribute(a,"data-piwik-mask")&&!F.hasAttribute(a,"data-heatmap-mask")}},P={safeMathMax:function(a){var c=[],e;for(e=0;e<a.length;e++)this.isNumber(a[e])&&c.push(a[e]);return 0===c.length?NaN:Math.max.apply(null,c)},isArray:function(a){return"object"===typeof a&&null!==a&&"number"===typeof a.length},getCurrentTime:function(){return(new Date).getTime()},getTimeSincePageReady:function(){return Ba?(new Date).getTime()-Ba:0},
roundTimeToSeconds:function(a){return Math.round(a/1E3)},getRandomInt:function(a,c){return Math.round(Math.random()*(c-a)+a)},isNumber:function(a){return!isNaN(a)},trim:function(a){return a&&String(a)===a?a.replace(/^\s+|\s+$/g,""):a},generateUniqueId:function(){for(var a="",c=0;10>c;c++)a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return a}},J=da.getWindowSize(),D={getPiwikTrackers:function(){if(null===rb&&"object"===typeof HeatmapTracker&&
HeatmapTracker.getAsyncTrackers){var a=HeatmapTracker.getAsyncTrackers();return a&&a.length?a:[]}return P.isArray(rb)?rb:[]},sendQueuedData:function(a,c){if((zc||ab)&&(Na||ab)&&(a||ab)&&(a.HeatmapSessionRecording||ab)){var e=a.HeatmapSessionRecording;if(e.isEnabled()){window.location.href.includes("debug")&&console.log("debugger_here");var d=!1,g=[],k=[];e.Heatmap.hsrids&&e.Heatmap.hsrids.length&&(g=e.Heatmap.hsrids,e.Heatmap.data.length&&(k=e.Heatmap.data,e.Heatmap.data=[]),d=e.Heatmap.configs[0].getdom);
if(window.heatPauseBeforeSCreenshot||d){e.Session.hsrids=e.Heatmap.hsrids;var l={lazy_load_images:!0,fadein:!0,section_height:!0,div_height:!0,capture_header:!0};void 0!=window.improvements&&(l=window.improvements);if(void 0===window.fixcontent&&void 0!=window.doscreenshot&&l.fadein||void 0===window.fixcontent&&1==d&&l.fadein)window.fixcontent=!0}if(d=e.Session.hsrids&&e.Session.hsrids.length&&G.initialDOM)if(g=g.concat(e.Session.hsrids),e.Session.data.length&&(k=k.concat(e.Session.data),e.Session.data=
[],!M))for(l=k.length-1;0<=l;l--)k[l]&&k[l].ty&&9===k[l].ty&&k.splice(l,1);g.length&&e.Both.data.length&&(k=k.concat(e.Both.data),e.Both.data=[]);"undefined"===typeof c&&(c=this.shouldEndRecording(a));c&&e.hasTrackedData&&!e.hasSentStopTrackingEvent&&d&&(k.push({ty:11}),e.hasSentStopTrackingEvent=!0);if(g&&g.length&&(window.heatPauseBeforeSCreenshot||!window.FirstHSRSentToAPI||k)&&(window.heatPauseBeforeSCreenshot||!window.FirstHSRSentToAPI||k.length)){if(a.HeatmapSessionRecording.hsrIdsToGetDOM&&
a.HeatmapSessionRecording.hsrIdsToGetDOM.length&&(!window.heatPauseBeforeSCreenshot&&!0===window.Heatscreenshotready&&1==Sd||window.heatPauseBeforeSCreenshot&&void 0!=window.doscreenshot&&!0===window.Heatscreenshotready)){X&&console.log("taking screenshot");if(!G.initialDOM&&eb||!window.heatPauseBeforeSCreenshot||window.heatPauseBeforeSCreenshot){d=document.body;l=document.documentElement;var n=Math.max(d.scrollHeight,d.offsetHeight,l.clientHeight,l.scrollHeight,l.offsetHeight);(new yc(O,{initialize:function(t,
u){G.initialDOM=db.stringify({rootId:t,docHeight:n,windowHeight:window.innerHeight,children:u})}})).disconnect();"undefined"!==typeof heatmapDebugger&&heatmapDebugger.updateDomSerialization("screenshot",1);if(window._heatmapDEBUG&&window.heatmapBreakPoints["screenshot-taken"].is_active)debugger}X&&console.log(G.initialDOM);if(G.initialDOM&&window.heatSearchParams.get("idSideHsr")&&window.heatSearchParams.get("idSite")&&0==Ud){Ud=1;screenshotReady(G.initialDOM);return}if(G.initialDOM&&eb){for(d=0;d<
a.HeatmapSessionRecording.hsrIdsToGetDOM.length;d++)k.push({ty:8,dom:G.initialDOM,id:a.HeatmapSessionRecording.hsrIdsToGetDOM[d]});a.HeatmapSessionRecording.hsrIdsToGetDOM=[]}}e.hasTrackedData=!0;window.location.href.includes("logevents=1")&&X&&console.log(k);this.sendQueuedDataRequestNow(a,g,k);c&&HeatmapTracker.HeatmapSessionRecording.disable()}}}},shouldEndRecording:function(a){var c=P.getTimeSincePageReady();if(18E5<c)return!0;if(wb<c){a=a.HeatmapSessionRecording;var e=Ea&&c<6E4+Ea;if(!a.numSentTrackingRequests||
10>=a.numSentTrackingRequests||e)wb=c+3E5;else return!0}return!1},sendQueuedDataRequestNow:async function(a,c,e){var d="";if(0!=c.length&&-1!=Ma&&(X&&Ob&&console.log("before tasks, heatmap only"),e.filter(function(u){return 2==u.ty}),bd&&(e=e.filter(function(u){return 8!==u.ty})),bd||0<e.filter(function(u){return 8==u.ty}).length&&(bd=!0),Ob&&(e=e.filter(function(u){return 1!=u.ty&&6!=u.ty&&13!=u.ty})),0!==e.length||!window.FirstHSRSentToAPI)){rc=localStorage.getItem("_heatmap_event_tag")?JSON.parse(localStorage.getItem("_heatmap_event_tag")):
null;var g=async(u,y)=>{var v=Na;const H=String(Math.random()).slice(2,18);v=await this.getNewFilePath(v,H,window.generatedIdloghsr);try{return await this.uploadMutationToS3(u,v,y),v}catch(x){return null}},k=null;(await Promise.all(e.flatMap((u,y)=>Object.keys(u).map(async v=>{var H=encodeURIComponent(u[v]);const x={idx:y,key:v,blob:H};if("te"===v||"dom"===v)if({ty:v}=u,5===v||(6===v||13===v||8===v)&&this.S3storable(H))H=await g(H,v),x.blob=null!==H?ad+H:null,8==v&&null!==x.blob&&Ka(`_heatDom_${ta}${cb}`,
!0,"_heatmapConfigs");return x})))).forEach(({idx:u,key:y,blob:v})=>{null!=v&&(d+="&hsr_ev["+u+"]["+y+"]="+v);if(8==v||"dom"==y)Nb+="&hsr_ev["+u+"]["+y+"]="+v;if(5==v||k==u)k=u,zb+="&hsr_ev["+u+"]["+y+"]="+v});X&&console.log(d);Rd=d;for(e=0;e<c.length;e++)d+="&hsr_ids[]="+encodeURIComponent(c[e]);e="hsr_vid="+Na+Nb+d;localStorage.setItem("heatmapHsrVid",Na);var l=da.getWindowSize(),n=da.getDocumentHeight();G.scrollMaxPercentage||(da.getScrollTop(),G.scrollMaxPercentage=parseInt(10*da.getScrollDepthPercent(),
10));var t=`${(new URL(window.location.origin)).hostname}${window.location.pathname}`;sc=0<Yb.length?Yb[0].id:null;ta=c.filter(function(u){return u!==sc});ta=0<ta.length?ta[ta.length-1]:ta[0];window.heatmapHsrIds=ta;if(window._heatmapDEBUG&&window.heatmapBreakPoints["send-queued-data-request-now"].is_active)debugger;window.heatmapClientId=null==window.heatmapClientId?ea("_heatmapConfigs","heatmapClientId"):window.heatmapClientId;ia._idv=La;ia._idl=window.generatedIdloghsr;ia.hsr=ta;ia.cip=window.heatmapClientId;
ia.sourceIp=window.heatmapClientId;ia.requestTime=wa();ia.currentTime=wa();ia.idsite=Ma;ia.sitespeed=!0;e+="&_idv="+La;e+="&_idl="+window.generatedIdloghsr;e+="&hsr_vw="+encodeURIComponent(l.width);e+="&hsr_vh="+encodeURIComponent(l.height);e+="&hsr_ti="+P.getTimeSincePageReady();e+="&hsr_smp="+G.scrollMaxPercentage;e+="&hsr_fyp="+parseInt(J.height/n*1E3,10);e=e+("&hsr_sh="+n)+`&requestTime=${wa()}`;e+=`&currentTime=${wa()}`;e+=`&sourceIp=${window.heatmapClientId}`;e+="&cip="+window.heatmapClientId;
e+="&efs_path="+t.replace(/[&\/\\#,+()$~%.'":*?<>{}]/g,"_");e+="&session_hsr="+sc;e+="&heatmap_hsr="+ta;e+="&group_recording_id="+ob.id;e=e+"&ca=1&test_data="+Qd;e+="&hsr_return="+window.isReturningUser;e+="&lang="+navigator.language;e+="&uagent="+navigator.userAgent;e+="&user_agent="+navigator.userAgent;e+="&audit_key="+Wa;e+="&trigger_client="+localStorage.getItem("pk_trigger_client");c=Ke();null!==c&&(e+="&network_time="+c.networkTime,e+="&server_time="+c.serverTime,e+="&transfer_time="+c.transferTime,
e+="&dom_processing_time="+(isNaN(c.domProcessingTime)?0:c.domProcessingTime),e+="&dom_completion_time="+(isNaN(c.domCompletionTime)?0:c.domCompletionTime),e+="&on_load_time="+c.onLoadTime,e+="&page_load_time="+c.pageLoadTime);a.HeatmapSessionRecording.numSentTrackingRequests++;a.trackRequest(e,null,null,"HeatmapSessionRecording");1<zb.length&&(a=e.replace(Nb+d,""),a=a.replace(/\s/g,""),localStorage.setItem("_heatSessDom",a+zb));window.userScrollData={ty:14,sh:n,smp:G.scrollMaxPercentage,ti:P.getTimeSincePageReady(),
current_smp:window.userScrollData.current_smp?window.userScrollData.current_smp:G.scrollMaxPercentage,max_sp:window.userScrollData.current_smp?window.userScrollData.current_smp/10:G.scrollMaxPercentage/10};m("track: "+e)}},recordData:function(a,c){ja||Oa.push({type:a,data:c});D.getPiwikTrackers().forEach(function(e){e.HeatmapSessionRecording&&e.HeatmapSessionRecording.isEnabled()&&("object"===typeof c&&"undefined"!==typeof c.ti&&c.ti&&(!Ea||c.ti>Ea)&&c.ty&&6!==c.ty&&(Ea=c.ti),0===a?e.HeatmapSessionRecording.Both.data.push(c):
1===a?e.HeatmapSessionRecording.Heatmap.data.push(c):2===a&&e.HeatmapSessionRecording.Session.data.push(c))});gb&&m("recorddata",db.stringify(c))},stopSendingData:function(){D.getPiwikTrackers().forEach(function(a){a.HeatmapSessionRecording&&(a=a.HeatmapSessionRecording,"undefined"!==typeof a.trackingInterval&&(clearInterval(a.trackingInterval),delete a.trackingInterval))})},startSendingData:function(){D.getPiwikTrackers().forEach(function(a){if(a.HeatmapSessionRecording&&"undefined"===typeof a.HeatmapSessionRecording.trackingInterval){if(!ab||
1!=window.doscreenshot){var c=P.getRandomInt(3250,5250);a.HeatmapSessionRecording.trackingInterval=setInterval(function(){D.sendQueuedData(a)},c)}D.sendQueuedData(a)}})},S3storable:function(a){return 1E4<encodeURI(a).length?!0:!1},getNewFilePath:function(a,c,e){if(!a)return null;a=(new URL(window.location.origin)).hostname;e=(new Date).getMonth();const d=(new Date).getDate();return`mutation/${(new Date).getFullYear()}/${"January February March April May June July August September October November December".split(" ")[e]}/${d}/${a}/${c}.json.gz`},
uploadMutationToS3:async function(a,c,e){const d=JSON.stringify(a),g=`https://heatmap-project-2022.s3.us-west-2.amazonaws.com/${c}`,k=JSON.stringify({action:"mutations",data:{blob:d,fileUrl:c,type:e}});return new Promise((l,n)=>{setTimeout(()=>{$b.send(k,"upload_directly");8===e?setTimeout(async()=>{try{await this.sendBlobToS3InitialDom(a,g,400),l()}catch(t){n(t)}},1E3):l()},500)})},sendBlobToS3InitialDom:async function(a,c,e){if(ab)return!0;if(200!==e)return Le(a,c),!0},sendBlobToS3Direct:async function(a,
c,e){e=[];for(var d=0;d<a.length;d+=32768)e.push(a.slice(d,d+32768));var g=Jd();for(d=0;d<e.length;d++){const k=d+1,l=JSON.stringify({action:"mutations",data:{chunkIdx:k,totalChunks:e.length,chunk:e[d],filePath:c,fileSize:a.length,uploadId:g}});(new Promise(n=>setTimeout(n,1E3))).then(()=>{bb.send(l,`mutation_${k}_${g}`)})}return e.length}};window.HeatSessionTracking=D;var G={moveEvents:["mousemove","touchmove"],clickEvents:["mousedown"],scrollEvents:"scroll resize wheel touchmove DOMMouseScroll mousewheel keydown".split(" "),
exitPageEvents:["beforeunload","pagehide","visibilitychange"],lastScroll:null,lastElementScroll:null,lastMove:null,lastResize:null,scrollMaxPercentage:0,lastResizeInterval:null,lastScrollInterval:null,lastMoveInterval:null,isRecording:!1,isRecordingMutations:!1,startRecording:function(){Ca&&!this.isRecording&&(this.isRecording=!0,window.saveClicksToLocal=!1,this.lastScrollInterval=setInterval(function(){if(G.lastScroll){var a=G.lastScroll;G.lastScroll=null;a={ti:a.time,ty:3,x:a.scrollX,y:a.scrollY};
D.recordData(2,a)}G.lastElementScroll&&(a=G.lastElementScroll,G.lastElementScroll=null,a={ti:a.time,ty:12,s:a.selector,x:a.scrollX,y:a.scrollY},D.recordData(2,a))},200),this.lastResizeInterval=setInterval(function(){if(G.lastResize){var a=G.lastResize;G.lastResize=null;D.recordData(2,{ti:a.ti,ty:4,x:a.width,y:a.height})}},200),this.lastMoveInterval=setInterval(function(){if(G.lastMove){var a=G.lastMove;G.lastMove=null;D.recordData(0,{ti:a.time,ty:1,s:a.selector,x:a.offsetx,y:a.offsety})}},200),this.scrollEvents.forEach(function(a){T.addEventListener(a,
G.onScroll,!0)}),"undefined"!==typeof window.debouncedClickHandler&&window.removeEventListener("click",window.debouncedClickHandler,!0),this.clickEvents.forEach(function(a){T.addEventListener(a,G.onClick,!0)}),this.moveEvents.forEach(function(a){T.addEventListener(a,G.onMove,!0)}),this.exitPageEvents.forEach(function(a){T.addEventListener(a,G.onExit,!0);T.addEventListener(a,G.Engagement,!0)}),Td=setInterval(G.sendScrollData,45E3),setInterval(G.Engagement,6E4))},mirror:null,initialDOM:null,startRecordingMutationsRetryCount:2,
startRecordingMutations:function(){if(Ca&&eb&&!this.isRecordingMutations){this.isRecordingMutations=!0;T.addEventListener("resize",G.onResize,!0);T.addEventListener("change",G.onFormChange,!0);try{this.mirror=new yc(document,{initialize:function(a,c){a={ty:5,ti:0,te:db.stringify({rootId:a,children:c})};G.initialDOM||0!=cd||(G.initialDOM=a.te,"undefined"!==typeof heatmapDebugger&&heatmapDebugger.updateDomSerialization("sessionRecording",1));D.recordData(2,a)},applyChanged:function(a,c,e,d){if(a.length||
c.length||e.length||d.length){var g={ti:P.getTimeSincePageReady(),ty:6,te:{}};a.length&&(g.te.rem=a);c.length&&(g.te.adOrMo=c);e.length&&(g.te.att=e);d.length&&(g.te.text=d);g.te=db.stringify(g.te);D.recordData(2,g)}}})}catch(a){m(a),this.stopRecording(),this.stopRecordingMutations(),0<this.startRecordingMutationsRetryCount&&(this.startRecordingMutationsRetryCount--,setTimeout(()=>{this.startRecordingMutations();this.startRecording()},500))}}},isMediumElement:function(a){const c=window.innerHeight;
a=a.getBoundingClientRect().height;return.05<a/c&&.1>=a/c},isLargeElementWithNoValidChildren:function(a){var c=window.innerHeight,e=a.getBoundingClientRect().height;if(.1<e/c&&.4>e/c){a=a.children;c=!1;for(e=0;e<a.length;e++){const d=a[e];if(this.isMediumElement(d)&&!this.isElementHidden(d)){c=!0;break}}return!c}return!1},isElementHidden:function(a){a=window.getComputedStyle(a);return"none"===a.display||"hidden"===a.visibility},elementsOverlap:function(a,c){a=a.getBoundingClientRect();c=c.getBoundingClientRect();
return!(a.bottom<c.top||a.top>c.bottom)},selectElementsToTrack:function(){const a=[];document.querySelector("body").querySelectorAll("*").forEach(e=>{if(!this.isElementHidden(e)){var d=[],g=0;this.isMediumElement(e)&&(d.push("Medium Element"),g=window.innerHeight,g=e.getBoundingClientRect().height/g*100);this.isLargeElementWithNoValidChildren(e)&&(d.push("Large Element with No Valid Children"),g=window.innerHeight,g=e.getBoundingClientRect().height/g*100);0<d.length&&a.push({element:e,passedRules:d,
viewportPercentage:g.toFixed(2)+"%"})}});const c=[];a.forEach((e,d)=>{const g=e.element;d=!1;for(let k of c)if(k.some(l=>this.elementsOverlap(l.element,g))){k.push(e);d=!0;break}d||c.push([e])});return c},handleVisibilityChange:function(){window.isPageVisible=document.hidden?!1:!0;X&&console.log("Page visibility status",window.isPageVisible)},startContentEngagement:function(){this.monitoredSections=[];this.visibilityData={};this.sectionToId=new Map;this.groupToSection=new Map;this.intersectionObserver=
null;window.isPageVisible=!0;this.elementGroups=this.selectElementsToTrack();this.elementGroups.forEach((a,c)=>{a.forEach((e,d)=>{e=e.element;d=`section-${c}-${d}`;const g=`group-${c}`;this.sectionToId.set(e,d);e=F.getSelector(e);try{"string"===typeof e&&(e=e.replace(/"/g,""),this.visibilityData[d]={is_visible:!1,start_time:0,duration_visible:0,elapsed_time:0,ty:15,s:window.globalFunctions.heatmapReplaceUUIDInSelector(e),groupId:g},this.groupToSection.has(g)||this.groupToSection.set(g,d))}catch(k){}})});
this.intersectionObserver=new IntersectionObserver(this.handleIntersection.bind(this),{threshold:.5});this.groupToSection.forEach((a,c)=>{c=[...this.sectionToId.entries()].find(([,e])=>e===a)[0];this.intersectionObserver.observe(c)});this.startVisibilityTimer()},handleIntersection:function(a){a.forEach(c=>{const e=this.sectionToId.get(c.target),d=this.visibilityData[e].groupId;if(c.isIntersecting)this.visibilityData[e].is_visible||(this.visibilityData[e].is_visible=!0,this.visibilityData[e].start_time=
Date.now());else if(this.visibilityData[e].is_visible){this.visibilityData[e].is_visible=!1;const g=(Date.now()-this.visibilityData[e].start_time)/1E3;this.visibilityData[e].duration_visible+=g;this.visibilityData[e].elapsed_time=g;this.visibilityData[e].start_time=0;Object.keys(this.visibilityData).forEach(k=>{this.visibilityData[k].groupId===d&&k!==e&&(this.visibilityData[k].duration_visible+=g,this.visibilityData[k].elapsed_time=g)});localStorage.setItem("contentEngagementData",JSON.stringify(this.visibilityData));
"undefined"!==typeof heatmapDebugger&&heatmapDebugger.sendSignal("heatmapCDTimeInViewPort",this.visibilityData)}})},startVisibilityTimer:function(){setInterval(()=>{window.isPageVisible?this.sectionToId.forEach((a,c)=>{if("undefined"!==typeof this.visibilityData[a]&&this.visibilityData[a].is_visible){c=Date.now();const e=(c-this.visibilityData[a].start_time)/1E3;this.visibilityData[a].duration_visible+=e;this.visibilityData[a].elapsed_time=e;this.visibilityData[a].start_time=c;const d=this.visibilityData[a].groupId;
Object.keys(this.visibilityData).forEach(g=>{this.visibilityData[g].groupId===d&&g!==a&&(this.visibilityData[g].duration_visible+=e,this.visibilityData[g].elapsed_time=e)});localStorage.setItem("contentEngagementData",JSON.stringify(this.visibilityData));"undefined"!==typeof heatmapDebugger&&heatmapDebugger.sendSignal("heatmapCDTimeInViewPort",this.visibilityData)}}):X&&console.log("Page is currently hidden visibility tracking is currently disabled")},5E3)},onResize:mc(function(){var a=da.getWindowSize();
G.lastResize={ti:P.getTimeSincePageReady(),width:a.width,height:a.height}},100),onFormChange:mc(function(a){if("target"in a&&a.target){var c=a.target,e=F.getTagName(c);if(e){var d=P.getTimeSincePageReady(),g=10,k=!1;if("input"===e)e=F.getAttribute(c,"type"),"radio"===String(e).toLowerCase()||"checkbox"===String(e).toLowerCase()?k=!0:g=9;else if("textarea"===e)g=9;else if("select"!==e)return;if(M||9!==g)if(e=F.getSelector(c)){var l="";k?l=c.checked?"1":"0":9===g&&"undefined"!==typeof c.value?(l=String(c.value),
l>Ra&&(l=l.substr(0,Ra)),F.shouldMaskField(c,!0)&&(l=F.maskFormField(l,"password"===F.getAttribute(c,"type")))):10===g&&"undefined"!==typeof c.value&&(l=String(c.value));c={ti:d,ty:g,s:e,te:l};e?D.recordData(2,c):m("No selector found for text input ",a)}}}},100),onScroll:mc(function(a){kb||(kb=!0,G.checkTrackersIfConditionsMet());var c=P.getTimeSincePageReady();if(a&&a.type&&"scroll"===a.type&&a.target&&a.target!==O){var e=a.target;if("undefined"!==typeof e.scrollTop){a=e.scrollTop;var d=e.scrollLeft,
g=F.getWidth(e),k=F.getHeight(e);!(0>=g||0>=k)&&g&&k&&(e=F.getSelector(e))&&(G.lastElementScroll={time:c,selector:e,scrollY:parseInt(1E3*a/k,10),scrollX:parseInt(1E3*d/g,10)})}}else a=parseInt(da.getScrollTop(),10),d=parseInt(da.getScrollLeft(),10),g=da.getDocumentHeight(),k=da.getDocumentWidth(),G.lastScroll={time:c,scrollY:parseInt(1E3*a/g,10),scrollX:parseInt(1E3*d/k,10)},c=parseInt(10*da.getScrollDepthPercent(),10),Pb=c>G.scrollMaxPercentage?G.scrollMaxPercentage=c:G.scrollMaxPercentage,window.userScrollData.current_smp=
c,X&&console.log("Current Scroll %:",window.userScrollData.current_smp/10),X&&console.log("Previous Max Scroll %",window.userScrollData.smp/10),2<window.userScrollData.current_smp/10-window.userScrollData.smp/10&&(window.userScrollData.smp=window.userScrollData.current_smp,X&&console.log("Send to stream >2% diff"),a=D.getPiwikTrackers(),a.forEach(function(l){var n=l.HeatmapSessionRecording.Heatmap.hsrids;n=n.concat(l.HeatmapSessionRecording.Session.hsrids);D.sendQueuedDataRequestNow(l,n,[window.userScrollData])}),
localStorage.setItem("userMaxScroll",Pb))},100),checkTrackersIfConditionsMet:function(){for(var a=D.getPiwikTrackers(),c=0;c<a.length;c++)a[c]&&a[c].HeatmapSessionRecording&&a[c].HeatmapSessionRecording.Session&&a[c].HeatmapSessionRecording.Session.checkConditionsMet()},getEventTagValue(a){if(window.heatmapRateLimiting&&!window.visitRecordSent.custom_event&&window.heatmapRateLimiting.configuration)try{const c=window.heatmapRateLimiting.configuration.eventTags;c.click.hasOwnProperty(a)&&(window._heatmap_set_event_tag({partner:"custom_event_tag",
variant_friendly_name:c.click[a],variant_id:c.click[a]}),window.visitRecordSent.custom_event=!0)}catch(c){}},populateClickedElement:function(a,c,e){"A"==a.name?Mb("link_clicked",{link:e.href,selector:a.s,x:a.x,y:a.y,name:c},!1):"BUTTON"==a.name&&Mb("button_clicked",{selector:a.s,x:a.x,y:a.y,name:c},!1)},onClick:function(a){if(window._heatmapDEBUG&&window.heatmapBreakPoints["click-event"].is_active)debugger;m("click");W||(W=!0,G.checkTrackersIfConditionsMet());if("target"in a&&"pageY"in a&&"pageX"in
a&&a.target){var c=P.getTimeSincePageReady();G.lastMove=null;var e=a.target.getRootNode(),d=e instanceof ShadowRoot,g=function(y){if(!d)return F.getSelector(y);try{const v=F.getSelector(e.host);if(!v)return null;const H=(x=>{if(x.id)return`#${x.id}`;if(x.className){var Z=Array.from(x.classList).filter(Boolean);if(Z.length&&(Z=`.${Z.join(".")}`,1===e.querySelectorAll(Z).length))return Z}return(Z=x.parentNode)?(Z=Array.from(Z.children).indexOf(x)+1,`${x.tagName.toLowerCase()}:nth-child(${Z})`):x.tagName.toLowerCase()})(y);
return`${v} >>> ${H}`}catch(v){return console.warn("Error generating shadow DOM selector: ",v),null}}(a.target);if(g){var k=a.target.getBoundingClientRect(),l=k.left+(document.documentElement.scrollLeft||document.body.scrollLeft),n=k.top+(document.documentElement.scrollTop||document.body.scrollTop),t=a.pageX,u=a.pageY;d&&e.host.getBoundingClientRect();l=parseInt((a.pageX-l)/k.width*2E3,10);k=parseInt((a.pageY-n)/k.height*2E3,10);n=l+l%2;k+=k%2;gb&&(isNaN(n)||isNaN(k))&&m("could not detect x or y coordinate for selector "+
g,a);c={ti:c,ty:2,s:g.replace(/"/g,""),x:n,y:k,ax:t,ay:u,name:a.target.tagName};if(window._heatmapDEBUG&&window.heatmapBreakPoints["click-event"].is_active)debugger;if(window._heatmapDEBUG&&(t=(y=>{if(!y.includes(">>>"))return document.querySelector(y);const [v,H]=y.split(">>>").map(x=>x.trim());return document.querySelector(v)?.shadowRoot?.querySelector(H)})(c.s))&&t.closest(".heatmap_ext_widget"))return console.log("Parent element includes the class.: ",c.s),!0;c.s=window.globalFunctions.heatmapReplaceUUIDInSelector(c.s);
Oe(Re,c)&&(c.meta1="rage");g&&null!==c.s&&1==window.globalFunctions.validateHeatSelector(c.s)&&"NaN"!==c.y?(g="",g=d?a.target.textContent:(g=document.querySelector(c.s))?g.innerText:"",g&&(g=g.substring(0,64),g.length&&(g=g.replace(/[^a-zA-Z0-9 ?&]/g,""),"add to cart"==g.toLowerCase()&&Mb("add_to_cart",{selector:c.s,x:c.x,y:c.y},!1),(g.toLowerCase().includes("checkout")||g.toLowerCase().includes("check out"))&&Mb("checkout_clicked",{selector:c.s,x:c.x,y:c.y}),g.toLowerCase().includes("shop now")&&
Mb("shop_now_clicked",{selector:c.s,x:c.x,y:c.y},!1),c.name&&("DIV A BUTTON P H2 H1 H3 H4 H5 H6".split(" ").includes(c.name),["A","BUTTON"].includes(c.name)&&G.populateClickedElement(c,g,a.target)))),X&&console.log("selector clicked: ",c),0<Wa.length&&(a=JSON.parse(localStorage.getItem("_heat_audit_clicks"))||[],c._heat_audit_key=Wa,a.push(c),localStorage.setItem("_heat_audit_clicks",JSON.stringify(a))),window.globalObjects.clicks.push(c),D.recordData(0,c),G.getEventTagValue(c.s)):m("No selector found for click ",
a)}}},onExit:function(a){a=P.getTimeSincePageReady();var c=[];w;localStorage.setItem("prevHsr",ta);"undefined"!==typeof bb&&bb.sendWSPendingRequests();if(window._heatmapDEBUG&&window.heatmapBreakPoints["onexit-events"].is_active)debugger;1E3<a?(D.getPiwikTrackers().forEach(function(e){var d=e.HeatmapSessionRecording.Heatmap.hsrids;d=d.concat(e.HeatmapSessionRecording.Session.hsrids);if(window._heatmapDEBUG&&window.heatmapBreakPoints["onexit-events"].is_active)debugger;D.sendQueuedDataRequestNow(e,
d,c)}),window.exitEventSent=!0):m("Not reached the minimum time on page for recording")},sendScrollData:function(a){a=localStorage.getItem("userMaxScroll");"undefined"==a&&(a=null);window.userScrollData.smp=Pb;if(Object.keys(window.userScrollData).length&&(!a||a&&parseInt(a)<window.userScrollData.smp))try{D.getPiwikTrackers().forEach(function(c){var e=c.HeatmapSessionRecording.Heatmap.hsrids;e=e.concat(c.HeatmapSessionRecording.Session.hsrids);if(window._heatmapDEBUG&&window.heatmapBreakPoints["onexit-events"].is_active)debugger;
D.sendQueuedDataRequestNow(c,e,[window.userScrollData])}),localStorage.setItem("userMaxScroll",Pb)}catch(c){}},Engagement:function(a){if(a=localStorage.getItem("contentEngagementData")){a=JSON.parse(a)||[];var c=Object.keys(a);for(const e of c)c=a[e],0<c.duration_visible&&D.recordData(0,c)}},onCssLoaded:function(a){for(var c=document.styleSheets,e=!1,d=0;d<c.length;d++)if(c[d].href&&c[d].href===a){e=!0;try{if(c[d].cssRules){a="";for(var g=0;g<c[d].cssRules.length;g++)a=a+c[d].cssRules[g].cssText+
" ";G.onCssContentFetched(c[d].href,a)}}catch(k){gb&&m("CSS fetching error"+k.message,c[d].href)}break}return e},onCssContentFetched:function(a,c){c?(c=G.updateAbsoluteUrlsInContent(a,c),D.recordData(0,{ti:0,ty:13,s:a,te:c})):m("CSS Content empty ",a)},updateAbsoluteUrlsInContent:function(a,c){return c.replace(/url\((?!['"]?(?:data|http|https):)['"]?([^'"\)]*)['"]?\)/gi,function(e,d,g){try{var k=new T.URL(d,a);return k.href?e.replace(d,k.href):e}catch(l){return e}})},onMove:mc(function(a){if(Ha&&
"clientY"in a&&"clientX"in a&&"pageX"in a&&"pageY"in a){var c=O.elementFromPoint(a.clientX,a.clientY);if(c){var e=P.getTimeSincePageReady(),d=F.getOffset(c),g=parseInt((a.pageX-d.left)/d.width*2E3,10);d=parseInt((a.pageY-d.top)/d.height*2E3,10);1===g%2&&g++;1===d%2&&d++;c=F.getSelector(c);gb&&(isNaN(g)||isNaN(d))&&m("could not detect x or y coordinate for selector "+c,a);c?ya?G.lastMove={selector:c,offsetx:g,offsety:d,time:e}:(ya=!0,D.recordData(0,{ti:0,ty:1,s:c,x:g,y:d})):m("No selector found for click ",
a)}}},100),stopRecording:function(){this.isRecording=!1;null!==this.lastResizeInterval&&(clearInterval(this.lastResizeInterval),this.lastResizeInterval=null);null!==this.lastScrollInterval&&(clearInterval(this.lastScrollInterval),this.lastScrollInterval=null);null!==this.lastMoveInterval&&(clearInterval(this.lastMoveInterval),this.lastMoveInterval=null);this.scrollMaxPercentage=0;this.lastResize=this.lastMove=this.lastElementScroll=this.lastScroll=null;this.scrollEvents.forEach(function(a){T.removeEventListener(a,
G.onScroll,!0)});this.moveEvents.forEach(function(a){T.removeEventListener(a,G.onMove,!0)});this.clickEvents.forEach(function(a){T.removeEventListener(a,G.onClick,!0)})},stopRecordingMutations:function(){this.isRecordingMutations=!1;T.removeEventListener("resize",G.onResize,!0);T.removeEventListener("change",G.onFormChange,!0);this.initialDOM=null;this.mirror&&(this.mirror.disconnect(),this.mirror=null)}},ca={fetch:function(){var a=0,c=D.getPiwikTrackers();if(c&&c.length){for(var e=0;e<c.length;e++){var d=
c[e];if(d&&d.HeatmapSessionRecording&&!d.HeatmapSessionRecording.hasRequestedConfig&&d.HeatmapSessionRecording.isEnabled()){var g=d.getPiwikUrl(),k=d.getSiteId();g&&k?(d.HeatmapSessionRecording.hasRequestedConfig=!0,nb&&(g=nb==g?g:nb),"/"!==g.substr(-1,1)&&(g+="/"),a++,function(l){window.configsResponse?HeatmapTracker.HeatmapSessionRecording.configuration.assign(window.configsResponse):setTimeout(()=>{HeatmapTracker.HeatmapSessionRecording.configuration.assign(window.configsResponse)},2E3)}(d)):(m("cannot find piwik url for tracker or site, disabling heatmap & session recording"),
d.HeatmapSessionRecording.disable(),d.HeatmapSessionRecording.hasReceivedConfig=!0)}}0===a&&this.checkAllConfigsReceived()}},assign:function(a){if(0===a.heatmaps.length){a=ea("_heatmapConfigs",window.currentHeatmapURL);if(null==a)return;window.configsResponse=a;if(window._heatmapDEBUG&&window.heatmapBreakPoints["assign-fn"].is_active)debugger;a=a.heatmap;if(window._heatmapDEBUG&&window.heatmapBreakPoints["assign-fn"].is_active)debugger}window.heatmapRateLimiting&&!window.heatmapRateLimiting.events.tracking&&
(a.heatmaps=[]);window.heatmapConfigsHasBeenAssigned=!0;if(-1<Lb.indexOf("pk_trigger_client=1")||null!==localStorage.getItem("pk_trigger_client"))a.heatmaps[0].pg_tr_mob=!0,a.heatmaps[0].pg_tr=!0,localStorage.setItem("pk_trigger_client","trigger");var c=!1;a.heatmaps.length&&(c=ea("_heatmapConfigs",`_heatDom_${a.heatmaps[0].id}${cb}`));void 0!==a.heatmaps&&0!==a.heatmaps.length&&("Mobile"==cb?void 0!==a.heatmaps[0].pg_tr_mob&&a.heatmaps[0].pg_tr_mob&&(a.heatmaps[0].getdom=!c):"Tablet"==cb?void 0!==
a.heatmaps[0].pg_tr_tab&&a.heatmaps[0].pg_tr_tab&&(a.heatmaps[0].getdom=!c):"Desktop"==cb&&void 0!==a.heatmaps[0].pg_tr&&a.heatmaps[0].pg_tr&&(a.heatmaps[0].getdom=!c));c=a.heatmaps;0!=c.length?(ab?c.forEach(g=>{g.getdom=!0}):c.forEach(g=>{g.getdom=1==g.force||1==g.getdom?!0:!1}),a.heatmaps=c,Mb("reset_hsr",!1,!1)):ab&&(a.heatmaps=[{getdom:!0,id:1,sample_rate:100}]);c=D.getPiwikTrackers();if(window._heatmapDEBUG&&window.heatmapBreakPoints["assign-fn"].is_active)debugger;for(var e=0;e<c.length;e++){var d=
c[e];if(d&&d.HeatmapSessionRecording)if(d.getSiteId()==a.idsite){d.HeatmapSessionRecording.addConfig(a);break}else 0!=a.heatmaps.length&&(d=new nc(`Idsite Mismatch Heatmap idsite:${d.getSiteId()} - Envars:${a.idsite}`),$a(d,{error_type:"MisMatching_idsite",link:"",siteId:window.preHeatmapSiteId,ipAddress:window.heatmapClientId,origin:window.location.origin+window.location.pathname}))}this.checkAllConfigsReceived()},checkAllConfigsReceived:function(){var a=D.getPiwikTrackers(),c=!1,e=!1;if(a&&a.length){for(var d,
g=0;g<a.length;g++)if(a[g].HeatmapSessionRecording){d=a[g].HeatmapSessionRecording;if(!d.hasReceivedConfig)return;d.Heatmap.configs&&d.Heatmap.configs.length&&(c=!0);d.Session.configs&&d.Session.configs.length&&(e=!0,Yc(!0))}if(!c&&!e)HeatmapTracker.HeatmapSessionRecording.disable(),N=!0;else if(!e)HeatmapTracker.DOM.onLoad(function(){setTimeout(function(){G.stopRecordingMutations()},20)})}}};Na="undefined"!==window.hrs_vidp?window.hrs_vidp:P.generateUniqueId();kc="undefined"!==window.generatedIdloghsr?
window.generatedIdloghsr:window.globalFunctions.heatmapGenerateUniqueId(window.preHeatmapSiteId,"_idl");"object"===typeof T.HeatmapTracker?L():("object"!==typeof T.heatmapPluginAsyncInit&&(T.heatmapPluginAsyncInit=[]),T.heatmapPluginAsyncInit.push(L))})();(function(){if(window&&"object"===typeof window.heatmapPluginAsyncInit&&window.heatmapPluginAsyncInit.length){var p=0;for(p;p<window.heatmapPluginAsyncInit.length;p++)if("function"===typeof window.heatmapPluginAsyncInit[p])window.heatmapPluginAsyncInit[p]()}window&&
window.piwikAsyncInit&&window.piwikAsyncInit();window&&window.heatmapAsyncInit&&window.heatmapAsyncInit();window.HeatmapTracking.getAsyncTrackers().length||(("object"!==typeof ha||"undefined"===typeof ha.length?0:ha.length)?window.HeatmapTracking.addTracker():ha={push:function(m){"undefined"!==typeof console&&console&&console.error&&console.error("_heatmap_paq.push() was used but Heatmap tracker was not initialized before the sttracker.js file was loaded.",m)}});window.HeatmapTracking.trigger("HeatmapInitialized",
[]);window.HeatmapTracking.initialized=!0})();"undefined"===typeof window.AnalyticsTracker&&(window.AnalyticsTracker=window.HeatmapTracking);"function"!==typeof window.piwik_log&&(window.piwik_log=function(p,m,w,z){function A(L){try{if(window["piwik_"+L])return window["piwik_"+L]}catch(Q){}}var E=window.HeatmapTracking.getTracker(w,m);E.setDocumentTitle(p);E.setCustomData(z);(p=A("tracker_pause"))&&E.setLinkTrackingTimer(p);(p=A("download_extensions"))&&E.setDownloadExtensions(p);(p=A("hosts_alias"))&&
E.setDomains(p);(p=A("ignore_classes"))&&E.setIgnoreClasses(p);E.trackPageView();A("install_tracker")&&(piwik_track=function(L,Q,R,Y){E.setSiteId(Q);E.setTrackerUrl(R);E.trackLink(L,Y)},E.enableLinkTracking())});Nd();window.globalObjects.trigger=Nd;const cf=performance.now()-Qe;Ka("heatmapLightLT",`${cf}ms`,"heatmapDebugger")})})();
