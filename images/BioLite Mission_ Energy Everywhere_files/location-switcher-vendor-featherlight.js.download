(function(a){typeof define=="function"&&define.amd?define(["jquery"],a):typeof module=="object"&&module.exports?module.exports=function(b,c){return c===void 0&&(c=typeof window!="undefined"?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)})(function(a){"use strict";function b(a2,c2){if(!(this instanceof b)){var d2=new b(a2,c2);return d2.open(),d2}this.id=b.id++,this.setup(a2,c2),this.chainCallbacks(b._callbackChain)}function c(a2,b2){var c2={};for(var d2 in a2)d2 in b2&&(c2[d2]=a2[d2],delete a2[d2]);return c2}function d(a2,b2){var c2={},d2=new RegExp("^"+b2+"([A-Z])(.*)");for(var e2 in a2){var f2=e2.match(d2);if(f2){var g2=(f2[1]+f2[2].replace(/([A-Z])/g,"-$1")).toLowerCase();c2[g2]=a2[e2]}}return c2}if(typeof a=="undefined")return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));if(a.fn.jquery.match(/-ajax/))return void("console"in window&&window.console.info("Featherlight needs regular jQuery, not the slim version."));var e=[],f=function(b2){return e=a.grep(e,function(a2){return a2!==b2&&a2.$instance.closest("body").length>0})},g={allow:1,allowfullscreen:1,frameborder:1,height:1,longdesc:1,marginheight:1,marginwidth:1,mozallowfullscreen:1,name:1,referrerpolicy:1,sandbox:1,scrolling:1,src:1,srcdoc:1,style:1,webkitallowfullscreen:1,width:1},h={keyup:"onKeyUp",resize:"onResize"},i=function(c2){a.each(b.opened().reverse(),function(){return c2.isDefaultPrevented()||this[h[c2.type]](c2)!==!1?void 0:(c2.preventDefault(),c2.stopPropagation(),!1)})},j=function(c2){if(c2!==b._globalHandlerInstalled){b._globalHandlerInstalled=c2;var d2=a.map(h,function(a2,c3){return c3+"."+b.prototype.namespace}).join(" ");a(window)[c2?"on":"off"](d2,i)}};b.prototype={constructor:b,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:a.noop,beforeContent:a.noop,beforeClose:a.noop,afterOpen:a.noop,afterContent:a.noop,afterClose:a.noop,onKeyUp:a.noop,onResize:a.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(b2,c2){typeof b2!="object"||b2 instanceof a||c2||(c2=b2,b2=void 0);var d2=a.extend(this,c2,{target:b2}),e2=d2.resetCss?d2.namespace+"-reset":d2.namespace,f2=a(d2.background||['<div class="'+e2+"-loading "+e2+'">','<div class="'+e2+'-content">','<button class="'+e2+"-close-icon "+d2.namespace+'-close" aria-label="Close">',d2.closeIcon,"</button>",'<div class="'+d2.namespace+'-inner">'+d2.loading+"</div>","</div>","</div>"].join("")),g2="."+d2.namespace+"-close"+(d2.otherClose?","+d2.otherClose:"");return d2.$instance=f2.clone().addClass(d2.variant),d2.$instance.on(d2.closeTrigger+"."+d2.namespace,function(b3){if(!b3.isDefaultPrevented()){var c3=a(b3.target);(d2.closeOnClick==="background"&&c3.is("."+d2.namespace)||d2.closeOnClick==="anywhere"||c3.closest(g2).length)&&(d2.close(b3),b3.preventDefault())}}),this},getContent:function(){if(this.persist!==!1&&this.$content)return this.$content;var b2=this,c2=this.constructor.contentFilters,d2=function(a2){return b2.$currentTarget&&b2.$currentTarget.attr(a2)},e2=d2(b2.targetAttr),f2=b2.target||e2||"",g2=c2[b2.type];if(!g2&&f2 in c2&&(g2=c2[f2],f2=b2.target&&e2),f2=f2||d2("href")||"",!g2)for(var h2 in c2)b2[h2]&&(g2=c2[h2],f2=b2[h2]);if(!g2){var i2=f2;if(f2=null,a.each(b2.contentFilters,function(){return g2=c2[this],g2.test&&(f2=g2.test(i2)),!f2&&g2.regex&&i2.match&&i2.match(g2.regex)&&(f2=i2),!f2}),!f2)return"console"in window&&window.console.error("Featherlight: no content filter found "+(i2?' for "'+i2+'"':" (no target specified)")),!1}return g2.process.call(b2,f2)},setContent:function(b2){return this.$instance.removeClass(this.namespace+"-loading"),this.$instance.toggleClass(this.namespace+"-iframe",b2.is("iframe")),this.$instance.find("."+this.namespace+"-inner").not(b2).slice(1).remove().end().replaceWith(a.contains(this.$instance[0],b2[0])?"":b2),this.$content=b2.addClass(this.namespace+"-inner"),this},open:function(b2){var c2=this;if(c2.$instance.hide().appendTo(c2.root),!(b2&&b2.isDefaultPrevented()||c2.beforeOpen(b2)===!1)){b2&&b2.preventDefault();var d2=c2.getContent();if(d2)return e.push(c2),j(!0),c2.$instance.fadeIn(c2.openSpeed),c2.beforeContent(b2),a.when(d2).always(function(a2){a2&&(c2.setContent(a2),c2.afterContent(b2))}).then(c2.$instance.promise()).done(function(){c2.afterOpen(b2)})}return c2.$instance.detach(),a.Deferred().reject().promise()},close:function(b2){var c2=this,d2=a.Deferred();return c2.beforeClose(b2)===!1?d2.reject():(f(c2).length===0&&j(!1),c2.$instance.fadeOut(c2.closeSpeed,function(){c2.$instance.detach(),c2.afterClose(b2),d2.resolve()})),d2.promise()},resize:function(a2,b2){if(a2&&b2){this.$content.css("width","").css("height","");var c2=Math.max(a2/(this.$content.parent().width()-1),b2/(this.$content.parent().height()-1));c2>1&&(c2=b2/Math.floor(b2/c2),this.$content.css("width",""+a2/c2+"px").css("height",""+b2/c2+"px"))}},chainCallbacks:function(b2){for(var c2 in b2)this[c2]=a.proxy(b2[c2],this,a.proxy(this[c2],this))}},a.extend(b,{id:0,autoBind:"[data-featherlight]",defaults:b.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(b2){return b2 instanceof a&&b2},process:function(b2){return this.persist!==!1?a(b2):a(b2).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff?|bmp|svg)(\?\S*)?$/i,process:function(b2){var c2=this,d2=a.Deferred(),e2=new Image,f2=a('<img src="'+b2+'" alt="" class="'+c2.namespace+'-image" />');return e2.onload=function(){f2.naturalWidth=e2.width,f2.naturalHeight=e2.height,d2.resolve(f2)},e2.onerror=function(){d2.reject(f2)},e2.src=b2,d2.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(b2){return a(b2)}},ajax:{regex:/./,process:function(b2){var c2=a.Deferred(),d2=a("<div></div>").load(b2,function(a2,b3){b3!=="error"&&c2.resolve(d2.contents()),c2.reject()});return c2.promise()}},iframe:{process:function(b2){var e2=new a.Deferred,f2=a("<iframe/>"),h2=d(this,"iframe"),i2=c(h2,g);return f2.hide().attr("src",b2).attr(i2).css(h2).on("load",function(){e2.resolve(f2.show())}).appendTo(this.$instance.find("."+this.namespace+"-content")),e2.promise()}},text:{process:function(b2){return a("<div>",{text:b2})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(b2,c2){var d2=this,e2=new RegExp("^data-"+c2+"-(.*)"),f2={};return b2&&b2.attributes&&a.each(b2.attributes,function(){var b3=this.name.match(e2);if(b3){var c3=this.value,g2=a.camelCase(b3[1]);if(a.inArray(g2,d2.functionAttributes)>=0)c3=new Function(c3);else try{c3=JSON.parse(c3)}catch(h2){}f2[g2]=c3}}),f2},extend:function(b2,c2){var d2=function(){this.constructor=b2};return d2.prototype=this.prototype,b2.prototype=new d2,b2.__super__=this.prototype,a.extend(b2,this,c2),b2.defaults=b2.prototype,b2},attach:function(b2,c2,d2){var e2=this;typeof c2!="object"||c2 instanceof a||d2||(d2=c2,c2=void 0),d2=a.extend({},d2);var f2,g2=d2.namespace||e2.defaults.namespace,h2=a.extend({},e2.defaults,e2.readElementConfig(b2[0],g2),d2),i2=function(g3){var i3=a(g3.currentTarget),j2=a.extend({$source:b2,$currentTarget:i3},e2.readElementConfig(b2[0],h2.namespace),e2.readElementConfig(g3.currentTarget,h2.namespace),d2),k=f2||i3.data("featherlight-persisted")||new e2(c2,j2);k.persist==="shared"?f2=k:k.persist!==!1&&i3.data("featherlight-persisted",k),j2.$currentTarget.blur&&j2.$currentTarget.blur(),k.open(g3)};return b2.on(h2.openTrigger+"."+h2.namespace,h2.filter,i2),{filter:h2.filter,handler:i2}},current:function(){var a2=this.opened();return a2[a2.length-1]||null},opened:function(){var b2=this;return f(),a.grep(e,function(a2){return a2 instanceof b2})},close:function(a2){var b2=this.current();return b2?b2.close(a2):void 0},_onReady:function(){var b2=this;if(b2.autoBind){var c2=a(b2.autoBind);c2.each(function(){b2.attach(a(this))}),a(document).on("click",b2.autoBind,function(d2){if(!d2.isDefaultPrevented()){var e2=a(d2.currentTarget),f2=c2.length;if(c2=c2.add(e2),f2!==c2.length){var g2=b2.attach(e2);(!g2.filter||a(d2.target).parentsUntil(e2,g2.filter).length>0)&&g2.handler(d2)}}})}},_callbackChain:{onKeyUp:function(b2,c2){return c2.keyCode===27?(this.closeOnEsc&&a.featherlight.close(c2),!1):b2(c2)},beforeOpen:function(b2,c2){return a(document.documentElement).addClass("with-featherlight"),this._previouslyActive=document.activeElement,this._$previouslyTabbable=a("a, input, select, textarea, iframe, button, iframe, [contentEditable=true]").not("[tabindex]").not(this.$instance.find("button")),this._$previouslyWithTabIndex=a("[tabindex]").not('[tabindex="-1"]'),this._previousWithTabIndices=this._$previouslyWithTabIndex.map(function(b3,c3){return a(c3).attr("tabindex")}),this._$previouslyWithTabIndex.add(this._$previouslyTabbable).attr("tabindex",-1),document.activeElement.blur&&document.activeElement.blur(),b2(c2)},afterClose:function(c2,d2){var e2=c2(d2),f2=this;return this._$previouslyTabbable.removeAttr("tabindex"),this._$previouslyWithTabIndex.each(function(b2,c3){a(c3).attr("tabindex",f2._previousWithTabIndices[b2])}),this._previouslyActive.focus(),b.opened().length===0&&a(document.documentElement).removeClass("with-featherlight"),e2},onResize:function(a2,b2){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),a2(b2)},afterContent:function(a2,b2){var c2=a2(b2);return this.$instance.find("[autofocus]:not([disabled])").focus(),this.onResize(b2),c2}}}),a.featherlight=b,a.fn.featherlight=function(a2,c2){return b.attach(this,a2,c2),this},a(document).ready(function(){b._onReady()})});
//# sourceMappingURL=/cdn/shop/t/1086/assets/location-switcher-vendor-featherlight.js.map?v=114090689504548963481729488048
